<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis</title>
  <meta name="description" content="Personality, Dementia, and Neuropathology" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Personality, Dementia, and Neuropathology" />
  <meta name="github-repo" content="emoriebeck/personality-dementia-neuropath" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis" />
  
  <meta name="twitter:description" content="Personality, Dementia, and Neuropathology" />
  



<meta name="date" content="2022-10-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning.html"/>
<link rel="next" href="references.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workspace</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i><b>1.1</b> Packages</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#directory-path"><i class="fa fa-check"></i><b>1.2</b> Directory Path</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#codebook"><i class="fa fa-check"></i><b>1.3</b> Codebook</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#tables"><i class="fa fa-check"></i><b>1.4</b> Tables</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#table-s1"><i class="fa fa-check"></i><b>1.4.1</b> Table S1</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#table-s2"><i class="fa fa-check"></i><b>1.4.2</b> Table S2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>2</b> Data Cleaning</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cleaning.html"><a href="cleaning.html#health-and-retirement-study-hrs"><i class="fa fa-check"></i><b>2.1</b> Health and Retirement Study (HRS)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="cleaning.html"><a href="cleaning.html#load-data"><i class="fa fa-check"></i><b>2.1.1</b> Load Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring"><i class="fa fa-check"></i><b>2.1.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.1.3" data-path="cleaning.html"><a href="cleaning.html#covariates"><i class="fa fa-check"></i><b>2.1.3</b> Covariates</a></li>
<li class="chapter" data-level="2.1.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables"><i class="fa fa-check"></i><b>2.1.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.1.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables"><i class="fa fa-check"></i><b>2.1.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.1.6" data-path="cleaning.html"><a href="cleaning.html#outcome-variables"><i class="fa fa-check"></i><b>2.1.6</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.1.7" data-path="cleaning.html"><a href="cleaning.html#combine-data"><i class="fa fa-check"></i><b>2.1.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="cleaning.html"><a href="cleaning.html#rush-memory-and-and-aging-project-rush-map"><i class="fa fa-check"></i><b>2.2</b> RUSH Memory and and Aging Project (RUSH-MAP)</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="cleaning.html"><a href="cleaning.html#load-data-1"><i class="fa fa-check"></i><b>2.2.1</b> Load Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-1"><i class="fa fa-check"></i><b>2.2.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.2.3" data-path="cleaning.html"><a href="cleaning.html#covariates-1"><i class="fa fa-check"></i><b>2.2.3</b> Covariates</a></li>
<li class="chapter" data-level="2.2.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-1"><i class="fa fa-check"></i><b>2.2.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.2.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-1"><i class="fa fa-check"></i><b>2.2.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-1"><i class="fa fa-check"></i><b>2.2.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.2.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-1"><i class="fa fa-check"></i><b>2.2.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="cleaning.html"><a href="cleaning.html#rush-religious-orders-study-ros"><i class="fa fa-check"></i><b>2.3</b> RUSH Religious Orders Study (ROS)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-2"><i class="fa fa-check"></i><b>2.3.1</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.3.2" data-path="cleaning.html"><a href="cleaning.html#covariates-2"><i class="fa fa-check"></i><b>2.3.2</b> Covariates</a></li>
<li class="chapter" data-level="2.3.3" data-path="cleaning.html"><a href="cleaning.html#personality-variables-2"><i class="fa fa-check"></i><b>2.3.3</b> Personality Variables</a></li>
<li class="chapter" data-level="2.3.4" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-2"><i class="fa fa-check"></i><b>2.3.4</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.3.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-2"><i class="fa fa-check"></i><b>2.3.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.3.6" data-path="cleaning.html"><a href="cleaning.html#combine-data-2"><i class="fa fa-check"></i><b>2.3.6</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="cleaning.html"><a href="cleaning.html#swedish-adoption-twin-study-of-aging-satsa"><i class="fa fa-check"></i><b>2.4</b> Swedish Adoption Twin Study of Aging (SATSA)</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="cleaning.html"><a href="cleaning.html#load-data-2"><i class="fa fa-check"></i><b>2.4.1</b> Load Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-3"><i class="fa fa-check"></i><b>2.4.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.4.3" data-path="cleaning.html"><a href="cleaning.html#covariates-3"><i class="fa fa-check"></i><b>2.4.3</b> Covariates</a></li>
<li class="chapter" data-level="2.4.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-3"><i class="fa fa-check"></i><b>2.4.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.4.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-3"><i class="fa fa-check"></i><b>2.4.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.4.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-3"><i class="fa fa-check"></i><b>2.4.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.4.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-3"><i class="fa fa-check"></i><b>2.4.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cleaning.html"><a href="cleaning.html#adrc-memory-and-aging-project-adrc-map"><i class="fa fa-check"></i><b>2.5</b> ADRC Memory and Aging Project (ADRC-MAP)</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="cleaning.html"><a href="cleaning.html#load-data-3"><i class="fa fa-check"></i><b>2.5.1</b> Load Data</a></li>
<li class="chapter" data-level="2.5.2" data-path="cleaning.html"><a href="cleaning.html#recode-reverse-scoring"><i class="fa fa-check"></i><b>2.5.2</b> Recode &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.5.3" data-path="cleaning.html"><a href="cleaning.html#covariates-4"><i class="fa fa-check"></i><b>2.5.3</b> Covariates</a></li>
<li class="chapter" data-level="2.5.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-4"><i class="fa fa-check"></i><b>2.5.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.5.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-4"><i class="fa fa-check"></i><b>2.5.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.5.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-4"><i class="fa fa-check"></i><b>2.5.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.5.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-4"><i class="fa fa-check"></i><b>2.5.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="cleaning.html"><a href="cleaning.html#einstein-aging-study"><i class="fa fa-check"></i><b>2.6</b> Einstein Aging Study</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="cleaning.html"><a href="cleaning.html#load-data-4"><i class="fa fa-check"></i><b>2.6.1</b> Load Data</a></li>
<li class="chapter" data-level="2.6.2" data-path="cleaning.html"><a href="cleaning.html#recode-reverse-scoring-1"><i class="fa fa-check"></i><b>2.6.2</b> Recode &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.6.3" data-path="cleaning.html"><a href="cleaning.html#covariates-5"><i class="fa fa-check"></i><b>2.6.3</b> Covariates</a></li>
<li class="chapter" data-level="2.6.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-5"><i class="fa fa-check"></i><b>2.6.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.6.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-5"><i class="fa fa-check"></i><b>2.6.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.6.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-5"><i class="fa fa-check"></i><b>2.6.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.6.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-5"><i class="fa fa-check"></i><b>2.6.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="cleaning.html"><a href="cleaning.html#german-socioeconomic-panel-study-gsoep"><i class="fa fa-check"></i><b>2.7</b> German Socioeconomic Panel Study (GSOEP)</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="cleaning.html"><a href="cleaning.html#load-data-5"><i class="fa fa-check"></i><b>2.7.1</b> Load Data</a></li>
<li class="chapter" data-level="2.7.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-4"><i class="fa fa-check"></i><b>2.7.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.7.3" data-path="cleaning.html"><a href="cleaning.html#covariates-6"><i class="fa fa-check"></i><b>2.7.3</b> Covariates</a></li>
<li class="chapter" data-level="2.7.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-6"><i class="fa fa-check"></i><b>2.7.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.7.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-6"><i class="fa fa-check"></i><b>2.7.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.7.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-6"><i class="fa fa-check"></i><b>2.7.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.7.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-6"><i class="fa fa-check"></i><b>2.7.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="cleaning.html"><a href="cleaning.html#the-longitudinal-studies-for-the-social-sciences-liss"><i class="fa fa-check"></i><b>2.8</b> The Longitudinal Studies for the Social sciences (LISS)</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="cleaning.html"><a href="cleaning.html#load-data-6"><i class="fa fa-check"></i><b>2.8.1</b> Load Data</a></li>
<li class="chapter" data-level="2.8.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-5"><i class="fa fa-check"></i><b>2.8.2</b> Recoding &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.8.3" data-path="cleaning.html"><a href="cleaning.html#covariates-7"><i class="fa fa-check"></i><b>2.8.3</b> Covariates</a></li>
<li class="chapter" data-level="2.8.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-7"><i class="fa fa-check"></i><b>2.8.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.8.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-7"><i class="fa fa-check"></i><b>2.8.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.8.6" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-7"><i class="fa fa-check"></i><b>2.8.6</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.8.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-7"><i class="fa fa-check"></i><b>2.8.7</b> Combine Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="runmodels.html"><a href="runmodels.html"><i class="fa fa-check"></i><b>3</b> Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="runmodels.html"><a href="runmodels.html#part-1-combine-data"><i class="fa fa-check"></i><b>3.1</b> Part 1: Combine Data</a></li>
<li class="chapter" data-level="3.2" data-path="runmodels.html"><a href="runmodels.html#part-2-clean-and-prepare-data-sets"><i class="fa fa-check"></i><b>3.2</b> Part 2: Clean and Prepare Data Sets</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="runmodels.html"><a href="runmodels.html#pomp-and-factor-levels"><i class="fa fa-check"></i><b>3.2.1</b> POMP and Factor Levels</a></li>
<li class="chapter" data-level="3.2.2" data-path="runmodels.html"><a href="runmodels.html#rescale-outcomes"><i class="fa fa-check"></i><b>3.2.2</b> Rescale Outcomes</a></li>
<li class="chapter" data-level="3.2.3" data-path="runmodels.html"><a href="runmodels.html#bring-in-moderators-and-covariate-adjustments"><i class="fa fa-check"></i><b>3.2.3</b> Bring in Moderators and Covariate Adjustments</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="runmodels.html"><a href="runmodels.html#part-3-models"><i class="fa fa-check"></i><b>3.3</b> Part 3: Models</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="runmodels.html"><a href="runmodels.html#functions"><i class="fa fa-check"></i><b>3.3.1</b> Functions</a></li>
<li class="chapter" data-level="3.3.2" data-path="runmodels.html"><a href="runmodels.html#run-models-and-summaries"><i class="fa fa-check"></i><b>3.3.2</b> Run Models and Summaries</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="runmodels.html"><a href="runmodels.html#compile-results"><i class="fa fa-check"></i><b>3.4</b> Compile Results</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="runmodels.html"><a href="runmodels.html#tables-1"><i class="fa fa-check"></i><b>3.4.1</b> Tables</a></li>
<li class="chapter" data-level="3.4.2" data-path="runmodels.html"><a href="runmodels.html#figures"><i class="fa fa-check"></i><b>3.4.2</b> Figures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="runmodels" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Models<a href="runmodels.html#runmodels" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section, we will:</p>
<ol style="list-style-type: decimal">
<li>Combine the data across samples and create new data frames for each personality trait / well-being x covariate x outcome x moderator combination.</li>
<li>As preregistered, we will then rescale variables in each sample to harmonize across samples</li>
<li>Next, we will create a series of functions to:</li>
</ol>
<ul>
<li>Run the model</li>
<li>Extract sample-specific estimates from each sample</li>
<li>Extract cross-sample heterogeneity estimates</li>
<li>Extract fixed and and random simple slopes</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Run the models or export files to the computing cluster to speed up runtime.</li>
</ol>
<div id="part-1-combine-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Part 1: Combine Data<a href="runmodels.html#part-1-combine-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, we’ll just load in all the combined data frames for each sample and keep our core variables:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="runmodels.html#cb189-1" aria-hidden="true" tabindex="-1"></a>loadRData <span class="ot">&lt;-</span> <span class="cf">function</span>(fileName, type){</span>
<span id="cb189-2"><a href="runmodels.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="co">#loads an RData file, and returns it</span></span>
<span id="cb189-3"><a href="runmodels.html#cb189-3" aria-hidden="true" tabindex="-1"></a>    path <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/clean/%s_cleaned.RData&quot;</span>, local_path, fileName)</span>
<span id="cb189-4"><a href="runmodels.html#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">load</span>(path)</span>
<span id="cb189-5"><a href="runmodels.html#cb189-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get</span>(<span class="fu">ls</span>()[<span class="fu">grepl</span>(type, <span class="fu">ls</span>())])</span>
<span id="cb189-6"><a href="runmodels.html#cb189-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb189-7"><a href="runmodels.html#cb189-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-8"><a href="runmodels.html#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="co"># which(apply(nested_data %&gt;% mutate(cols = map(data, colnames)) %&gt;% select(-data) %&gt;% unnest(cols) %&gt;% mutate(inc = &quot;yes&quot;) %&gt;% spread(study, inc), 1, function(x){sum(is.na(x))/7*100}) &lt; 25)</span></span>
<span id="cb189-9"><a href="runmodels.html#cb189-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-10"><a href="runmodels.html#cb189-10" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb189-11"><a href="runmodels.html#cb189-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">study =</span> studies</span>
<span id="cb189-12"><a href="runmodels.html#cb189-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> <span class="fu">map</span>(<span class="fu">str_to_lower</span>(study), <span class="sc">~</span><span class="fu">loadRData</span>(., <span class="st">&quot;combined&quot;</span>))</span>
<span id="cb189-13"><a href="runmodels.html#cb189-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb189-14"><a href="runmodels.html#cb189-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb189-15"><a href="runmodels.html#cb189-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> </span>
<span id="cb189-16"><a href="runmodels.html#cb189-16" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb189-17"><a href="runmodels.html#cb189-17" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">mutate</span>(<span class="at">SID =</span> <span class="fu">as.character</span>(SID)) <span class="sc">%&gt;%</span></span>
<span id="cb189-18"><a href="runmodels.html#cb189-18" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">select</span>(SID, Trait, p_year, p_value, Outcome, o_year, o_value <span class="co"># core variables</span></span>
<span id="cb189-19"><a href="runmodels.html#cb189-19" aria-hidden="true" tabindex="-1"></a>                        , <span class="fu">one_of</span>(<span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;cognition&quot;</span></span>
<span id="cb189-20"><a href="runmodels.html#cb189-20" aria-hidden="true" tabindex="-1"></a>                                 , <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;BMI&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;SRhealth&quot;</span></span>
<span id="cb189-21"><a href="runmodels.html#cb189-21" aria-hidden="true" tabindex="-1"></a>                                 , <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;diabetes&quot;</span>, <span class="st">&quot;heartProb&quot;</span>, <span class="st">&quot;dementia&quot;</span>)))</span>
<span id="cb189-22"><a href="runmodels.html#cb189-22" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb189-23"><a href="runmodels.html#cb189-23" aria-hidden="true" tabindex="-1"></a>    , <span class="at">study =</span> <span class="fu">mapvalues</span>(study, studies, studies_long)</span>
<span id="cb189-24"><a href="runmodels.html#cb189-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb189-25"><a href="runmodels.html#cb189-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb189-26"><a href="runmodels.html#cb189-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing this outcome because there was no variance for WUSM MAP</span></span>
<span id="cb189-27"><a href="runmodels.html#cb189-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(Outcome <span class="sc">==</span> <span class="st">&quot;vsclrInfrcts&quot;</span> <span class="sc">&amp;</span> study <span class="sc">==</span> <span class="st">&quot;ADRC&quot;</span>))</span>
<span id="cb189-28"><a href="runmodels.html#cb189-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-29"><a href="runmodels.html#cb189-29" aria-hidden="true" tabindex="-1"></a>nested_data</span></code></pre></div>
<pre><code>## # A tibble: 420,195 × 22
##    study SID   Trait p_year p_value Outcome o_year o_value   age gender educa…¹ cogni…² alcohol smokes   BMI  race stroke cancer diabe…³ heart…⁴
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 ROS   0002… A          0      32 angiop…      2       3  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  2 ROS   0002… A          0      32 arteri…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  3 ROS   0002… A          0      32 athero…      2       2  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  4 ROS   0002… A          0      32 braak        2       6  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  5 ROS   0002… A          0      32 cerad        2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  6 ROS   0002… A          0      32 hipScl…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  7 ROS   0002… A          0      32 lewyBo…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  8 ROS   0002… A          0      32 vsclrI…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  9 ROS   0002… A          0      32 vsclrM…      2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
## 10 ROS   0002… A          0      32 tdp43        2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
## # … with 420,185 more rows, 2 more variables: dementia &lt;dbl&gt;, SRhealth &lt;dbl&gt;, and abbreviated variable names ¹​education, ²​cognition, ³​diabetes,
## #   ⁴​heartProb</code></pre>
</div>
<div id="part-2-clean-and-prepare-data-sets" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Part 2: Clean and Prepare Data Sets<a href="runmodels.html#part-2-clean-and-prepare-data-sets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next time to rescale or relevel variables.</p>
<div id="pomp-and-factor-levels" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> POMP and Factor Levels<a href="runmodels.html#pomp-and-factor-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first thing we’ll do is get everything on the same scale. To do so, and as we preregistered, we will convert:
- age to centered at 60<br />
- education (in years) to centered at 12 years<br />
- personality characteristics and cognition to POMP<br />
- chronic conditions to 0 = no, 1 = yes
- Dementia diagnosis to 0 = no, 1 = yes
- Lewy Body Disease (binary; 0 = none, 1 = yes, collapsing across types)<br />
- Gross Cerebral Infarcts, Gross Cerebral Microinfarcts, Hippocampal Sclerosis (binary; 0 = No, 1 = Yes)</p>
<p>All other indicators have scales that are already standardized across studies (e.g., BMI, Braak stage, CERAD) and will not be transformed.</p>
<p>But first, we’ll make a table of descriptive values (M (SD) or percentage) for all variables for each sample.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="runmodels.html#cb191-1" aria-hidden="true" tabindex="-1"></a>cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Study&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;N&quot;</span>, <span class="st">&quot;O&quot;</span>, <span class="st">&quot;Crystallized / Knowledge&quot;</span>, <span class="st">&quot;Age (Years)&quot;</span>, <span class="st">&quot;Education (Years)&quot;</span>, <span class="st">&quot;% Women&quot;</span>)</span>
<span id="cb191-2"><a href="runmodels.html#cb191-2" aria-hidden="true" tabindex="-1"></a>fctr_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>, <span class="st">&quot;gender&quot;</span></span>
<span id="cb191-3"><a href="runmodels.html#cb191-3" aria-hidden="true" tabindex="-1"></a>               , <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;diabetes&quot;</span>, <span class="st">&quot;heartProb&quot;</span>)</span>
<span id="cb191-4"><a href="runmodels.html#cb191-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-5"><a href="runmodels.html#cb191-5" aria-hidden="true" tabindex="-1"></a>transpose_df <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb191-6"><a href="runmodels.html#cb191-6" aria-hidden="true" tabindex="-1"></a>  t_df <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">transpose</span>(df)</span>
<span id="cb191-7"><a href="runmodels.html#cb191-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(t_df) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df)</span>
<span id="cb191-8"><a href="runmodels.html#cb191-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(t_df) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df)</span>
<span id="cb191-9"><a href="runmodels.html#cb191-9" aria-hidden="true" tabindex="-1"></a>  t_df <span class="ot">&lt;-</span> t_df <span class="sc">%&gt;%</span></span>
<span id="cb191-10"><a href="runmodels.html#cb191-10" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">.data =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb191-11"><a href="runmodels.html#cb191-11" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">as_tibble</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb191-12"><a href="runmodels.html#cb191-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb191-13"><a href="runmodels.html#cb191-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_names</span>(<span class="fu">c</span>(<span class="st">&quot;Variable&quot;</span>, df<span class="sc">$</span>study))</span>
<span id="cb191-14"><a href="runmodels.html#cb191-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(t_df)</span>
<span id="cb191-15"><a href="runmodels.html#cb191-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb191-16"><a href="runmodels.html#cb191-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-17"><a href="runmodels.html#cb191-17" aria-hidden="true" tabindex="-1"></a>desc_tab <span class="ot">&lt;-</span></span>
<span id="cb191-18"><a href="runmodels.html#cb191-18" aria-hidden="true" tabindex="-1"></a>  nested_data <span class="sc">%&gt;%</span></span>
<span id="cb191-19"><a href="runmodels.html#cb191-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>p_year, <span class="sc">-</span>o_year, <span class="sc">-</span><span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span></span>
<span id="cb191-20"><a href="runmodels.html#cb191-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study, Trait, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb191-21"><a href="runmodels.html#cb191-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth), </span>
<span id="cb191-22"><a href="runmodels.html#cb191-22" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>((. <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">/</span>(<span class="fu">max</span>(., <span class="at">na.rm =</span> T) <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">*</span><span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb191-23"><a href="runmodels.html#cb191-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.infinite</span>(.), <span class="cn">NA</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb191-24"><a href="runmodels.html#cb191-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-25"><a href="runmodels.html#cb191-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Outcome, <span class="at">values_from =</span> o_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-26"><a href="runmodels.html#cb191-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Trait, <span class="at">values_from =</span> p_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-27"><a href="runmodels.html#cb191-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb191-28"><a href="runmodels.html#cb191-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb191-29"><a href="runmodels.html#cb191-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span></span>
<span id="cb191-30"><a href="runmodels.html#cb191-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-31"><a href="runmodels.html#cb191-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>study, <span class="sc">-</span>SID, <span class="sc">-</span>n), <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span>, <span class="at">values_drop_na =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb191-32"><a href="runmodels.html#cb191-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study, item, n) <span class="sc">%&gt;%</span></span>
<span id="cb191-33"><a href="runmodels.html#cb191-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">est =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.2f (%.2f)&quot;</span>, <span class="fu">mean</span>(value, <span class="at">na.rm =</span> T), <span class="fu">sd</span>(value, <span class="at">na.rm =</span> T))) <span class="sc">%&gt;%</span></span>
<span id="cb191-34"><a href="runmodels.html#cb191-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-35"><a href="runmodels.html#cb191-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> item, <span class="at">values_from =</span> est) <span class="sc">%&gt;%</span></span>
<span id="cb191-36"><a href="runmodels.html#cb191-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb191-37"><a href="runmodels.html#cb191-37" aria-hidden="true" tabindex="-1"></a>    nested_data <span class="sc">%&gt;%</span> </span>
<span id="cb191-38"><a href="runmodels.html#cb191-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(Outcome, SID, study) <span class="sc">%&gt;%</span></span>
<span id="cb191-39"><a href="runmodels.html#cb191-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(o_year <span class="sc">==</span> <span class="fu">min</span>(o_year)) <span class="sc">%&gt;%</span></span>
<span id="cb191-40"><a href="runmodels.html#cb191-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-41"><a href="runmodels.html#cb191-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>o_year, <span class="sc">-</span>dementia) <span class="sc">%&gt;%</span></span>
<span id="cb191-42"><a href="runmodels.html#cb191-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Outcome, <span class="at">values_from =</span> o_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-43"><a href="runmodels.html#cb191-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>Trait, <span class="sc">-</span>p_year, <span class="sc">-</span>p_value) <span class="sc">%&gt;%</span> </span>
<span id="cb191-44"><a href="runmodels.html#cb191-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-45"><a href="runmodels.html#cb191-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(study, SID, <span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span> </span>
<span id="cb191-46"><a href="runmodels.html#cb191-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb191-47"><a href="runmodels.html#cb191-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb191-48"><a href="runmodels.html#cb191-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(<span class="sc">-</span>SID), <span class="sc">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb191-49"><a href="runmodels.html#cb191-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="sc">-</span>study), <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.nan</span>(.) <span class="sc">|</span> <span class="fu">is.na</span>(.), <span class="st">&quot;&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.2f%%&quot;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb191-50"><a href="runmodels.html#cb191-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb191-51"><a href="runmodels.html#cb191-51" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb191-52"><a href="runmodels.html#cb191-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(study, n, E, A, C, N, O, PA, <span class="st">`</span><span class="at">NA</span><span class="st">`</span>, SWL, <span class="fu">one_of</span>(outcomes<span class="sc">$</span>short_name), </span>
<span id="cb191-53"><a href="runmodels.html#cb191-53" aria-hidden="true" tabindex="-1"></a>           age, gender, education, cognition, BMI, SRhealth, smokes, alcohol, </span>
<span id="cb191-54"><a href="runmodels.html#cb191-54" aria-hidden="true" tabindex="-1"></a>           BMI, race, stroke, cancer, diabetes, heartProb) <span class="sc">%&gt;%</span> </span>
<span id="cb191-55"><a href="runmodels.html#cb191-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transpose_df</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-56"><a href="runmodels.html#cb191-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">ifelse</span>(Variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="st">&quot;Valid N&quot;</span>, Variable)) <span class="sc">%&gt;%</span> </span>
<span id="cb191-57"><a href="runmodels.html#cb191-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">mapvalues</span>(Variable, <span class="fu">c</span>(traits<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>short_name), <span class="fu">str_wrap</span>(<span class="fu">c</span>(traits<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>long_name), <span class="dv">25</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb191-58"><a href="runmodels.html#cb191-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Variable, <span class="st">`</span><span class="at">Rush-MAP</span><span class="st">`</span>, ROS, <span class="st">`</span><span class="at">WUSM-MAP</span><span class="st">`</span>, EAS, GSOEP, HRS, LISS, SATSA) <span class="sc">%&gt;%</span></span>
<span id="cb191-59"><a href="runmodels.html#cb191-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb191-60"><a href="runmodels.html#cb191-60" aria-hidden="true" tabindex="-1"></a>        , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb191-61"><a href="runmodels.html#cb191-61" aria-hidden="true" tabindex="-1"></a>        <span class="co"># , col.names = cln</span></span>
<span id="cb191-62"><a href="runmodels.html#cb191-62" aria-hidden="true" tabindex="-1"></a>        , <span class="at">caption =</span> <span class="st">&quot;&lt;strong&gt;Table 1&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Descriptive Statistics of All Harmonized Measures Across Samples&quot;</span></span>
<span id="cb191-63"><a href="runmodels.html#cb191-63" aria-hidden="true" tabindex="-1"></a>        , <span class="at">align =</span> <span class="fu">c</span>(<span class="st">&quot;l&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>,<span class="dv">9</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb191-64"><a href="runmodels.html#cb191-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-65"><a href="runmodels.html#cb191-65" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Big Five Personality&quot;</span>, <span class="dv">2</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-66"><a href="runmodels.html#cb191-66" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Subjective Well-Being&quot;</span>, <span class="dv">7</span>, <span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-67"><a href="runmodels.html#cb191-67" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Dementia and Neuropathology&quot;</span>, <span class="dv">10</span>, <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-68"><a href="runmodels.html#cb191-68" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Covariates&quot;</span>, <span class="dv">21</span>, <span class="dv">33</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-69"><a href="runmodels.html#cb191-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_footnote</span>(<span class="at">notation =</span> <span class="st">&quot;none&quot;</span>, <span class="at">label =</span> <span class="st">&quot;&lt;em&gt;Note.&lt;/em&gt; E = Extraversion; A = Agreeableness; C = Conscientiousness; N = Neuroticism; O = Openness, PA = Positive Affect, NA = Negative Affect, SWL = Satisfaction with Life; Age, education, gender, smoking, alcohol, BMI, chronic conditions, and cognition were assessed at the first baseline personality assessment.&quot;</span>, <span class="at">escape =</span> F); desc_tab</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
(#tab:tab 2)<strong>Table 1</strong><br><em>Descriptive Statistics of All Harmonized Measures Across Samples</em>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:center;">
Rush-MAP
</th>
<th style="text-align:center;">
ROS
</th>
<th style="text-align:center;">
WUSM-MAP
</th>
<th style="text-align:center;">
EAS
</th>
<th style="text-align:center;">
GSOEP
</th>
<th style="text-align:center;">
HRS
</th>
<th style="text-align:center;">
LISS
</th>
<th style="text-align:center;">
SATSA
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Valid N
</td>
<td style="text-align:center;">
4283
</td>
<td style="text-align:center;">
3374
</td>
<td style="text-align:center;">
1478
</td>
<td style="text-align:center;">
813
</td>
<td style="text-align:center;">
31072
</td>
<td style="text-align:center;">
14001
</td>
<td style="text-align:center;">
6543
</td>
<td style="text-align:center;">
2002
</td>
</tr>
<tr grouplength="5">
<td colspan="9" style="border-bottom: 0;">
<strong>Big Five Personality</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
5.50 (1.69)
</td>
<td style="text-align:center;">
5.17 (1.65)
</td>
<td style="text-align:center;">
5.73 (1.67)
</td>
<td style="text-align:center;">
5.59 (1.75)
</td>
<td style="text-align:center;">
6.40 (1.88)
</td>
<td style="text-align:center;">
7.33 (1.85)
</td>
<td style="text-align:center;">
5.64 (1.62)
</td>
<td style="text-align:center;">
6.33 (0.74)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
5.33 (1.40)
</td>
<td style="text-align:center;">
6.37 (1.62)
</td>
<td style="text-align:center;">
6.73 (1.87)
</td>
<td style="text-align:center;">
7.45 (1.63)
</td>
<td style="text-align:center;">
8.42 (1.59)
</td>
<td style="text-align:center;">
6.68 (1.48)
</td>
<td style="text-align:center;">
7.23 (1.17)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
6.25 (1.57)
</td>
<td style="text-align:center;">
6.27 (1.39)
</td>
<td style="text-align:center;">
6.31 (1.79)
</td>
<td style="text-align:center;">
6.95 (1.73)
</td>
<td style="text-align:center;">
8.21 (1.55)
</td>
<td style="text-align:center;">
7.85 (1.61)
</td>
<td style="text-align:center;">
6.34 (1.49)
</td>
<td style="text-align:center;">
7.05 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
3.65 (1.68)
</td>
<td style="text-align:center;">
4.59 (1.61)
</td>
<td style="text-align:center;">
3.94 (1.91)
</td>
<td style="text-align:center;">
3.56 (2.08)
</td>
<td style="text-align:center;">
4.92 (2.04)
</td>
<td style="text-align:center;">
3.51 (2.06)
</td>
<td style="text-align:center;">
3.97 (1.69)
</td>
<td style="text-align:center;">
6.53 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
5.50 (1.51)
</td>
<td style="text-align:center;">
5.60 (1.59)
</td>
<td style="text-align:center;">
5.85 (2.03)
</td>
<td style="text-align:center;">
5.88 (2.01)
</td>
<td style="text-align:center;">
6.44 (1.87)
</td>
<td style="text-align:center;">
5.98 (1.34)
</td>
<td style="text-align:center;">
4.84 (1.34)
</td>
</tr>
<tr grouplength="3">
<td colspan="9" style="border-bottom: 0;">
<strong>Subjective Well-Being</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Positive Affect
</td>
<td style="text-align:center;">
8.46 (1.82)
</td>
<td style="text-align:center;">
8.20 (3.86)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
6.22 (2.15)
</td>
<td style="text-align:center;">
6.56 (1.93)
</td>
<td style="text-align:center;">
5.94 (1.67)
</td>
<td style="text-align:center;">
7.47 (2.12)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Negative Affect
</td>
<td style="text-align:center;">
1.06 (1.30)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.63 (1.98)
</td>
<td style="text-align:center;">
1.92 (1.81)
</td>
<td style="text-align:center;">
1.75 (1.76)
</td>
<td style="text-align:center;">
2.14 (2.29)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Satisfaction with Life
</td>
<td style="text-align:center;">
7.39 (1.78)
</td>
<td style="text-align:center;">
6.75 (2.20)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.00 (1.76)
</td>
<td style="text-align:center;">
6.08 (2.34)
</td>
<td style="text-align:center;">
6.56 (1.46)
</td>
<td style="text-align:center;">
5.75 (2.87)
</td>
</tr>
<tr grouplength="11">
<td colspan="9" style="border-bottom: 0;">
<strong>Dementia and Neuropathology</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Incident Dementia
Diagnosis
</td>
<td style="text-align:center;">
22.17%
</td>
<td style="text-align:center;">
30.77%
</td>
<td style="text-align:center;">
27.39%
</td>
<td style="text-align:center;">
5.67%
</td>
<td style="text-align:center;">
1.03%
</td>
<td style="text-align:center;">
7.19%
</td>
<td style="text-align:center;">
0.31%
</td>
<td style="text-align:center;">
8.14%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Braak Stage
</td>
<td style="text-align:center;">
3.77 (1.20)
</td>
<td style="text-align:center;">
3.58 (1.25)
</td>
<td style="text-align:center;">
4.01 (1.66)
</td>
<td style="text-align:center;">
3.12 (1.06)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
CERAD
</td>
<td style="text-align:center;">
2.16 (1.12)
</td>
<td style="text-align:center;">
2.22 (1.13)
</td>
<td style="text-align:center;">
2.46 (0.81)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Lewy Body Disease
</td>
<td style="text-align:center;">
23.14%
</td>
<td style="text-align:center;">
23.44%
</td>
<td style="text-align:center;">
38.67%
</td>
<td style="text-align:center;">
11.76%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Gross Cerebral Infarcts
</td>
<td style="text-align:center;">
37.91%
</td>
<td style="text-align:center;">
34.70%
</td>
<td style="text-align:center;">
100.00%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Gross Cerebral
Microinfarcts
</td>
<td style="text-align:center;">
33.08%
</td>
<td style="text-align:center;">
31.37%
</td>
<td style="text-align:center;">
17.09%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Cerebral Atherosclerosis
</td>
<td style="text-align:center;">
1.13 (0.77)
</td>
<td style="text-align:center;">
1.24 (0.78)
</td>
<td style="text-align:center;">
1.29 (0.76)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Cerebral Amyloid
Angiopathy
</td>
<td style="text-align:center;">
1.29 (0.95)
</td>
<td style="text-align:center;">
1.29 (0.97)
</td>
<td style="text-align:center;">
1.27 (0.88)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Arteriolosclerosis
</td>
<td style="text-align:center;">
1.03 (0.91)
</td>
<td style="text-align:center;">
0.99 (0.96)
</td>
<td style="text-align:center;">
1.42 (0.70)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Hippocampal Sclerosis
</td>
<td style="text-align:center;">
9.77%
</td>
<td style="text-align:center;">
7.64%
</td>
<td style="text-align:center;">
3.66%
</td>
<td style="text-align:center;">
11.76%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
TDP-43
</td>
<td style="text-align:center;">
54.31%
</td>
<td style="text-align:center;">
49.79%
</td>
<td style="text-align:center;">
31.40%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="13">
<td colspan="9" style="border-bottom: 0;">
<strong>Covariates</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
age
</td>
<td style="text-align:center;">
81.12 (6.96)
</td>
<td style="text-align:center;">
76.53 (7.24)
</td>
<td style="text-align:center;">
71.37 (10.39)
</td>
<td style="text-align:center;">
79.57 (5.39)
</td>
<td style="text-align:center;">
48.51 (16.93)
</td>
<td style="text-align:center;">
67.93 (10.45)
</td>
<td style="text-align:center;">
46.54 (15.94)
</td>
<td style="text-align:center;">
59.76 (14.02)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
gender
</td>
<td style="text-align:center;">
25.93%
</td>
<td style="text-align:center;">
28.64%
</td>
<td style="text-align:center;">
56.63%
</td>
<td style="text-align:center;">
61.34%
</td>
<td style="text-align:center;">
52.48%
</td>
<td style="text-align:center;">
59.49%
</td>
<td style="text-align:center;">
54.53%
</td>
<td style="text-align:center;">
58.79%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
education
</td>
<td style="text-align:center;">
14.87 (3.15)
</td>
<td style="text-align:center;">
18.25 (3.48)
</td>
<td style="text-align:center;">
15.71 (2.95)
</td>
<td style="text-align:center;">
14.46 (3.39)
</td>
<td style="text-align:center;">
11.60 (2.52)
</td>
<td style="text-align:center;">
12.61 (3.08)
</td>
<td style="text-align:center;">
12.60 (4.19)
</td>
<td style="text-align:center;">
10.32 (1.82)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
cognition
</td>
<td style="text-align:center;">
6.55 (1.02)
</td>
<td style="text-align:center;">
6.43 (0.98)
</td>
<td style="text-align:center;">
3.92 (1.29)
</td>
<td style="text-align:center;">
4.98 (0.81)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.18 (1.58)
</td>
<td style="text-align:center;">
3.08 (2.81)
</td>
<td style="text-align:center;">
5.49 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
BMI
</td>
<td style="text-align:center;">
27.03 (5.02)
</td>
<td style="text-align:center;">
27.32 (5.39)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
28.28 (5.09)
</td>
<td style="text-align:center;">
25.61 (4.35)
</td>
<td style="text-align:center;">
27.66 (4.42)
</td>
<td style="text-align:center;">
25.42 (7.82)
</td>
<td style="text-align:center;">
25.50 (3.80)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
SRhealth
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.93 (2.94)
</td>
<td style="text-align:center;">
6.75 (2.30)
</td>
<td style="text-align:center;">
6.36 (2.78)
</td>
<td style="text-align:center;">
5.39 (1.89)
</td>
<td style="text-align:center;">
2.16 (2.79)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
smokes
</td>
<td style="text-align:center;">
42.52%
</td>
<td style="text-align:center;">
19.57%
</td>
<td style="text-align:center;">
11.58%
</td>
<td style="text-align:center;">
54.51%
</td>
<td style="text-align:center;">
33.97%
</td>
<td style="text-align:center;">
56.08%
</td>
<td style="text-align:center;">
61.97%
</td>
<td style="text-align:center;">
49.85%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
alcohol
</td>
<td style="text-align:center;">
36.01%
</td>
<td style="text-align:center;">
27.57%
</td>
<td style="text-align:center;">
5.25%
</td>
<td style="text-align:center;">
92.01%
</td>
<td style="text-align:center;">
58.31%
</td>
<td style="text-align:center;">
53.43%
</td>
<td style="text-align:center;">
92.02%
</td>
<td style="text-align:center;">
67.89%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
race
</td>
<td style="text-align:center;">
17.59%
</td>
<td style="text-align:center;">
15.38%
</td>
<td style="text-align:center;">
15.05%
</td>
<td style="text-align:center;">
44.20%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
35.44%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
stroke
</td>
<td style="text-align:center;">
9.26%
</td>
<td style="text-align:center;">
6.95%
</td>
<td style="text-align:center;">
2.03%
</td>
<td style="text-align:center;">
4.38%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
9.62%
</td>
<td style="text-align:center;">
0.81%
</td>
<td style="text-align:center;">
2.06%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
cancer
</td>
<td style="text-align:center;">
32.96%
</td>
<td style="text-align:center;">
30.49%
</td>
<td style="text-align:center;">
6.68%
</td>
<td style="text-align:center;">
17.62%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
17.51%
</td>
<td style="text-align:center;">
1.62%
</td>
<td style="text-align:center;">
3.98%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
diabetes
</td>
<td style="text-align:center;">
13.41%
</td>
<td style="text-align:center;">
13.26%
</td>
<td style="text-align:center;">
8.95%
</td>
<td style="text-align:center;">
18.24%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
23.77%
</td>
<td style="text-align:center;">
4.76%
</td>
<td style="text-align:center;">
6.38%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
heartProb
</td>
<td style="text-align:center;">
12.15%
</td>
<td style="text-align:center;">
10.10%
</td>
<td style="text-align:center;">
8.35%
</td>
<td style="text-align:center;">
21.91%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
30.52%
</td>
<td style="text-align:center;">
3.93%
</td>
<td style="text-align:center;">
33.91%
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <em>Note.</em> E = Extraversion; A = Agreeableness; C = Conscientiousness; N = Neuroticism; O = Openness, PA = Positive Affect, NA = Negative Affect, SWL = Satisfaction with Life; Age, education, gender, smoking, alcohol, BMI, chronic conditions, and cognition were assessed at the first baseline personality assessment.
</td>
</tr>
</tfoot>
</table>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="runmodels.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save_kable</span>(desc_tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/tab-1-desc.html&quot;</span>, local_path))</span></code></pre></div>
<p>Now let’s:</p>
<ol style="list-style-type: decimal">
<li>POMP personality / well-being and self-rated health</li>
<li>Create a chronic conditions composite (sum of stroke, cancer, diabetes, heart problem)</li>
<li>Turn binary indicators into factors</li>
<li>Center age at 60 years and education at 12 years.</li>
</ol>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="runmodels.html#cb193-1" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> nested_data <span class="sc">%&gt;%</span></span>
<span id="cb193-2"><a href="runmodels.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Trait, Outcome, study, p_year) <span class="sc">%&gt;%</span></span>
<span id="cb193-3"><a href="runmodels.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span>((. <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">/</span>(<span class="fu">max</span>(., <span class="at">na.rm =</span> T) <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">*</span><span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb193-4"><a href="runmodels.html#cb193-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.infinite</span>(.), <span class="cn">NA</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb193-5"><a href="runmodels.html#cb193-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CC =</span> <span class="fu">rowSums</span>(<span class="fu">cbind</span>(stroke, cancer, diabetes, heartProb), <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb193-6"><a href="runmodels.html#cb193-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(alcohol, smokes, stroke, cancer, diabetes, heartProb, gender, dementia), factor) <span class="sc">%&gt;%</span></span>
<span id="cb193-7"><a href="runmodels.html#cb193-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> age <span class="sc">-</span> <span class="dv">60</span></span>
<span id="cb193-8"><a href="runmodels.html#cb193-8" aria-hidden="true" tabindex="-1"></a>         , <span class="at">education =</span> education <span class="sc">-</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb193-9"><a href="runmodels.html#cb193-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb193-10"><a href="runmodels.html#cb193-10" aria-hidden="true" tabindex="-1"></a>nested_data</span></code></pre></div>
<pre><code>## # A tibble: 420,195 × 23
##    study SID   Trait p_year p_value Outcome o_year o_value   age gender educa…¹ cogni…² alcohol smokes   BMI  race stroke cancer diabe…³ heart…⁴
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;   &lt;fct&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt;   &lt;fct&gt;  
##  1 ROS   0002… A          0    4.29 angiop…      2       3  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  2 ROS   0002… A          0    4.29 arteri…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  3 ROS   0002… A          0    4.29 athero…      2       2  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  4 ROS   0002… A          0    4.29 braak        2       6  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  5 ROS   0002… A          0    4.29 cerad        2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  6 ROS   0002… A          0    4.29 hipScl…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  7 ROS   0002… A          0    4.29 lewyBo…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  8 ROS   0002… A          0    4.29 vsclrI…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  9 ROS   0002… A          0    4.29 vsclrM…      2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
## 10 ROS   0002… A          0    4.29 tdp43        2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
## # … with 420,185 more rows, 3 more variables: dementia &lt;fct&gt;, SRhealth &lt;dbl&gt;, CC &lt;dbl&gt;, and abbreviated variable names ¹​education, ²​cognition,
## #   ³​diabetes, ⁴​heartProb</code></pre>
</div>
<div id="rescale-outcomes" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Rescale Outcomes<a href="runmodels.html#rescale-outcomes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we’ve got personality and covariates scaled, we will group by personality characteristic and outcome to rescale outcomes, as needed.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="runmodels.html#cb195-1" aria-hidden="true" tabindex="-1"></a>save_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome){</span>
<span id="cb195-2"><a href="runmodels.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(outcome <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>)){</span>
<span id="cb195-3"><a href="runmodels.html#cb195-3" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">o_value =</span> <span class="fu">factor</span>(o_value))</span>
<span id="cb195-4"><a href="runmodels.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb195-5"><a href="runmodels.html#cb195-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(d, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/SCA/%s-%s.RData&quot;</span>, local_path, trait, outcome))</span>
<span id="cb195-6"><a href="runmodels.html#cb195-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(d)</span>
<span id="cb195-7"><a href="runmodels.html#cb195-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb195-8"><a href="runmodels.html#cb195-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-9"><a href="runmodels.html#cb195-9" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> nested_data <span class="sc">%&gt;%</span></span>
<span id="cb195-10"><a href="runmodels.html#cb195-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Trait, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb195-11"><a href="runmodels.html#cb195-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb195-12"><a href="runmodels.html#cb195-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb195-13"><a href="runmodels.html#cb195-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Trait, Outcome), save_fun))</span>
<span id="cb195-14"><a href="runmodels.html#cb195-14" aria-hidden="true" tabindex="-1"></a>nested_data </span></code></pre></div>
<pre><code>## # A tibble: 96 × 3
##    Trait Outcome            data               
##    &lt;chr&gt; &lt;chr&gt;              &lt;list&gt;             
##  1 A     angiopathy         &lt;tibble [909 × 21]&gt;
##  2 A     arteriolosclerosis &lt;tibble [926 × 21]&gt;
##  3 A     atherosclerosis    &lt;tibble [943 × 21]&gt;
##  4 A     braak              &lt;tibble [969 × 21]&gt;
##  5 A     cerad              &lt;tibble [889 × 21]&gt;
##  6 A     hipSclerosis       &lt;tibble [844 × 21]&gt;
##  7 A     lewyBodyDis        &lt;tibble [935 × 21]&gt;
##  8 A     vsclrInfrcts       &lt;tibble [934 × 21]&gt;
##  9 A     vsclrMcrInfrcts    &lt;tibble [934 × 21]&gt;
## 10 A     tdp43              &lt;tibble [791 × 21]&gt;
## # … with 86 more rows</code></pre>
</div>
<div id="bring-in-moderators-and-covariate-adjustments" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Bring in Moderators and Covariate Adjustments<a href="runmodels.html#bring-in-moderators-and-covariate-adjustments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These full data sets will be used for sensitivity analyses and adjusted models, but we also want to set up our data for unadjusted models and moderator tests. For robusteness, we are using a few different sets of theoretically plausible covariates. The goal is to ensure that the pattern of results is not greatly impacted by the inclusion of different covariates. Not knowing the answer to this can be a threat to good science.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="runmodels.html#cb197-1" aria-hidden="true" tabindex="-1"></a>mod_setup_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome){</span>
<span id="cb197-2"><a href="runmodels.html#cb197-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">crossing</span>(<span class="at">Covariates =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;shareddx&quot;</span>, <span class="st">&quot;standarddx&quot;</span>)</span>
<span id="cb197-3"><a href="runmodels.html#cb197-3" aria-hidden="true" tabindex="-1"></a>           , <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">&quot;none&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;dementia&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb197-4"><a href="runmodels.html#cb197-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">list</span>(d)) <span class="sc">%&gt;%</span></span>
<span id="cb197-5"><a href="runmodels.html#cb197-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, trait, outcome, Moderator, Covariates), mod_save_fun))</span>
<span id="cb197-6"><a href="runmodels.html#cb197-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb197-7"><a href="runmodels.html#cb197-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb197-8"><a href="runmodels.html#cb197-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-9"><a href="runmodels.html#cb197-9" aria-hidden="true" tabindex="-1"></a>mod_save_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome, mod, cov){</span>
<span id="cb197-10"><a href="runmodels.html#cb197-10" aria-hidden="true" tabindex="-1"></a>  covs <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;unadjusted&quot;</span>){</span>
<span id="cb197-11"><a href="runmodels.html#cb197-11" aria-hidden="true" tabindex="-1"></a>    mod</span>
<span id="cb197-12"><a href="runmodels.html#cb197-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;shared&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)){</span>
<span id="cb197-13"><a href="runmodels.html#cb197-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>)</span>
<span id="cb197-14"><a href="runmodels.html#cb197-14" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;standard&quot;</span>, <span class="st">&quot;standarddx&quot;</span>)){</span>
<span id="cb197-15"><a href="runmodels.html#cb197-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>)</span>
<span id="cb197-16"><a href="runmodels.html#cb197-16" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>){</span>
<span id="cb197-17"><a href="runmodels.html#cb197-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;CC&quot;</span>)</span>
<span id="cb197-18"><a href="runmodels.html#cb197-18" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb197-19"><a href="runmodels.html#cb197-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(d)</span>
<span id="cb197-20"><a href="runmodels.html#cb197-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb197-21"><a href="runmodels.html#cb197-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">grepl</span>(<span class="st">&quot;dx&quot;</span>, cov)) covs <span class="ot">&lt;-</span> <span class="fu">c</span>(covs, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb197-22"><a href="runmodels.html#cb197-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb197-23"><a href="runmodels.html#cb197-23" aria-hidden="true" tabindex="-1"></a>  d2 <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(covs)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-24"><a href="runmodels.html#cb197-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb197-25"><a href="runmodels.html#cb197-25" aria-hidden="true" tabindex="-1"></a>  d2 <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;unadjusted&quot;</span>){</span>
<span id="cb197-26"><a href="runmodels.html#cb197-26" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-27"><a href="runmodels.html#cb197-27" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;shared&quot;</span>){</span>
<span id="cb197-28"><a href="runmodels.html#cb197-28" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education, smokes, alcohol) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-29"><a href="runmodels.html#cb197-29" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;standard&quot;</span>){</span>
<span id="cb197-30"><a href="runmodels.html#cb197-30" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-31"><a href="runmodels.html#cb197-31" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>) {</span>
<span id="cb197-32"><a href="runmodels.html#cb197-32" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education, smokes, alcohol, cognition, CC) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-33"><a href="runmodels.html#cb197-33" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb197-34"><a href="runmodels.html#cb197-34" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb197-35"><a href="runmodels.html#cb197-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb197-36"><a href="runmodels.html#cb197-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if(mod != &quot;none&quot;) colnames(d2)[colnames(d2) == mod] &lt;- &quot;modvalue&quot;</span></span>
<span id="cb197-37"><a href="runmodels.html#cb197-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(d2, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/%s/%s-%s-%s.RData&quot;</span></span>
<span id="cb197-38"><a href="runmodels.html#cb197-38" aria-hidden="true" tabindex="-1"></a>                          , local_path, cov, trait, outcome, mod))</span>
<span id="cb197-39"><a href="runmodels.html#cb197-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb197-40"><a href="runmodels.html#cb197-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb197-41"><a href="runmodels.html#cb197-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-42"><a href="runmodels.html#cb197-42" aria-hidden="true" tabindex="-1"></a>nested_data <span class="sc">%&gt;%</span></span>
<span id="cb197-43"><a href="runmodels.html#cb197-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Outcome != &quot;dementia&quot;) %&gt;%</span></span>
<span id="cb197-44"><a href="runmodels.html#cb197-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Trait, Outcome), mod_setup_fun))</span></code></pre></div>
<p>Here’s one example:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="runmodels.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/data/mega-analysis/shared/A-angiopathy-gender.RData&quot;</span>)</span>
<span id="cb198-2"><a href="runmodels.html#cb198-2" aria-hidden="true" tabindex="-1"></a>d2</span></code></pre></div>
<pre><code>## # A tibble: 817 × 11
##    study SID      p_year p_value o_year o_value gender   age education smokes alcohol
##    &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;  
##  1 ROS   00021073      0    4.29      2       3 0       20.0        10 0      0      
##  2 ROS   10100312      0    6.07     13       2 1       15.3         8 0      1      
##  3 ROS   10100448      0    5        15       0 1       12.4        11 1      1      
##  4 ROS   10100574      0    5.71      9       1 1       13.7         9 0      1      
##  5 ROS   10100736      0    6.07      9       0 1       20.8         2 1      1      
##  6 ROS   10101039      0    5.71      8       1 1       23.4         7 1      1      
##  7 ROS   10101291      0    4.29      1       0 1       21.5         3 1      0      
##  8 ROS   10101327      0    3.57      2       1 1       26.9         9 1      0      
##  9 ROS   10101589      0    6.07      6       1 1       42.1         8 0      0      
## 10 ROS   10101741      0    5        12       1 1       23.3        -2 0      0      
## # … with 807 more rows</code></pre>
</div>
</div>
<div id="part-3-models" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Part 3: Models<a href="runmodels.html#part-3-models" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For these first models, we’ll be testing three sets of covariates. For a full test of how covariates impact our inferences, we’ll then follow up in a later step doing a specification curve / multiverse analysis.</p>
<p>For these first models, we will run a series of Bayesian regressions. For binary outcomes, these will be multilevel logistic regressions, while for the others, these will be “regular” multilevel linear regressions. For each of these, we will also test age, gender, and education, and cognitive functioning as moderators.</p>
<div id="functions" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Functions<a href="runmodels.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="model-function" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Model Function<a href="runmodels.html#model-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="runmodels.html#cb200-1" aria-hidden="true" tabindex="-1"></a>ipd_mega_mod_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(trait, outcome, mod, cov){</span>
<span id="cb200-2"><a href="runmodels.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## load the data</span></span>
<span id="cb200-3"><a href="runmodels.html#cb200-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/%s/%s-%s-%s.RData&quot;</span>, local_path, cov, trait, outcome, mod))</span>
<span id="cb200-4"><a href="runmodels.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-5"><a href="runmodels.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## compiled Bayesian model to speed up processing and avoid crashing</span></span>
<span id="cb200-6"><a href="runmodels.html#cb200-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(outcome <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>)) <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path)) <span class="cf">else</span> <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span>
<span id="cb200-7"><a href="runmodels.html#cb200-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-8"><a href="runmodels.html#cb200-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## formula </span></span>
<span id="cb200-9"><a href="runmodels.html#cb200-9" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>)</span>
<span id="cb200-10"><a href="runmodels.html#cb200-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (cov == &quot;shared&quot;) cv &lt;- cv</span></span>
<span id="cb200-11"><a href="runmodels.html#cb200-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>)  cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;cognition&quot;</span>)</span>
<span id="cb200-12"><a href="runmodels.html#cb200-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;fully&quot;</span>)    cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;BMI&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;SRhealth&quot;</span>)</span>
<span id="cb200-13"><a href="runmodels.html#cb200-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">grepl</span>(<span class="st">&quot;standard&quot;</span>, cov)) cv <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>)</span>
<span id="cb200-14"><a href="runmodels.html#cb200-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">grepl</span>(<span class="st">&quot;dx&quot;</span>, cov)) cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb200-15"><a href="runmodels.html#cb200-15" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="st">&quot;p_value&quot;</span></span>
<span id="cb200-16"><a href="runmodels.html#cb200-16" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">!=</span> <span class="st">&quot;unadjusted&quot;</span>) <span class="fu">c</span>(rhs, cv) <span class="cf">else</span> rhs</span>
<span id="cb200-17"><a href="runmodels.html#cb200-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;none&quot;</span>) rhs <span class="ot">&lt;-</span> <span class="fu">c</span>(rhs, <span class="fu">paste</span>(<span class="st">&quot;p_value&quot;</span>, mod, <span class="at">sep =</span> <span class="st">&quot;*&quot;</span>))</span>
<span id="cb200-18"><a href="runmodels.html#cb200-18" aria-hidden="true" tabindex="-1"></a>  re <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;none&quot;</span>) <span class="st">&quot;(p_value | study)&quot;</span> <span class="cf">else</span> <span class="fu">paste</span>(<span class="fu">paste</span>(<span class="st">&quot;(p_value&quot;</span>, mod, <span class="at">sep =</span> <span class="st">&quot; * &quot;</span>), <span class="st">&quot;| study)&quot;</span>)</span>
<span id="cb200-19"><a href="runmodels.html#cb200-19" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">c</span>(rhs, re), <span class="at">collapse =</span> <span class="st">&quot; + &quot;</span>)</span>
<span id="cb200-20"><a href="runmodels.html#cb200-20" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;o_value ~ &quot;</span>, rhs, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb200-21"><a href="runmodels.html#cb200-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-22"><a href="runmodels.html#cb200-22" aria-hidden="true" tabindex="-1"></a>  <span class="do">## run the models &amp; save</span></span>
<span id="cb200-23"><a href="runmodels.html#cb200-23" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">update</span>(m</span>
<span id="cb200-24"><a href="runmodels.html#cb200-24" aria-hidden="true" tabindex="-1"></a>              , <span class="at">formula =</span> f</span>
<span id="cb200-25"><a href="runmodels.html#cb200-25" aria-hidden="true" tabindex="-1"></a>              , <span class="at">newdata =</span> d2</span>
<span id="cb200-26"><a href="runmodels.html#cb200-26" aria-hidden="true" tabindex="-1"></a>              , <span class="at">iter =</span> <span class="dv">2000</span></span>
<span id="cb200-27"><a href="runmodels.html#cb200-27" aria-hidden="true" tabindex="-1"></a>              , <span class="at">warmup =</span> <span class="dv">1000</span></span>
<span id="cb200-28"><a href="runmodels.html#cb200-28" aria-hidden="true" tabindex="-1"></a>              , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb200-29"><a href="runmodels.html#cb200-29" aria-hidden="true" tabindex="-1"></a>              , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb200-30"><a href="runmodels.html#cb200-30" aria-hidden="true" tabindex="-1"></a>              , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb200-31"><a href="runmodels.html#cb200-31" aria-hidden="true" tabindex="-1"></a>              , <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb200-32"><a href="runmodels.html#cb200-32" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb200-33"><a href="runmodels.html#cb200-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/models/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb200-34"><a href="runmodels.html#cb200-34" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb200-35"><a href="runmodels.html#cb200-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-36"><a href="runmodels.html#cb200-36" aria-hidden="true" tabindex="-1"></a>  <span class="do">## extract model terms and confidence intervals &amp; save</span></span>
<span id="cb200-37"><a href="runmodels.html#cb200-37" aria-hidden="true" tabindex="-1"></a>  fx <span class="ot">&lt;-</span> <span class="fu">tidy</span>(m, <span class="at">conf.int =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb200-38"><a href="runmodels.html#cb200-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(term, estimate, conf.low, conf.high)</span>
<span id="cb200-39"><a href="runmodels.html#cb200-39" aria-hidden="true" tabindex="-1"></a>  rx <span class="ot">&lt;-</span> <span class="fu">std_eff_fun</span>(m)</span>
<span id="cb200-40"><a href="runmodels.html#cb200-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(fx, rx, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/summary/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb200-41"><a href="runmodels.html#cb200-41" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb200-42"><a href="runmodels.html#cb200-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-43"><a href="runmodels.html#cb200-43" aria-hidden="true" tabindex="-1"></a>  <span class="do">## extract heterogeneity estimates</span></span>
<span id="cb200-44"><a href="runmodels.html#cb200-44" aria-hidden="true" tabindex="-1"></a>  het <span class="ot">&lt;-</span> <span class="fu">hetero_fun</span>(m)</span>
<span id="cb200-45"><a href="runmodels.html#cb200-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(het, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/heterogeneity/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb200-46"><a href="runmodels.html#cb200-46" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb200-47"><a href="runmodels.html#cb200-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-48"><a href="runmodels.html#cb200-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;none&quot;</span>){</span>
<span id="cb200-49"><a href="runmodels.html#cb200-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># load(sprintf(&quot;%s/results/models/%s/%s_%s_%s.RData&quot;, local_path, cov, outcome, trait, mod))</span></span>
<span id="cb200-50"><a href="runmodels.html#cb200-50" aria-hidden="true" tabindex="-1"></a>    pred.fx <span class="ot">&lt;-</span> <span class="fu">fx_pred_fun</span>(m, mod)</span>
<span id="cb200-51"><a href="runmodels.html#cb200-51" aria-hidden="true" tabindex="-1"></a>    pred.rx <span class="ot">&lt;-</span> <span class="fu">rx_pred_fun</span>(m, mod)</span>
<span id="cb200-52"><a href="runmodels.html#cb200-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">save</span>(pred.fx, pred.rx, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/predicted/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb200-53"><a href="runmodels.html#cb200-53" aria-hidden="true" tabindex="-1"></a>                          , local_path, cov, outcome, trait, mod))</span>
<span id="cb200-54"><a href="runmodels.html#cb200-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rm(list = c(&quot;pred.fx&quot;, &quot;pred.rx&quot;, &quot;m&quot;))</span></span>
<span id="cb200-55"><a href="runmodels.html#cb200-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># gc()</span></span>
<span id="cb200-56"><a href="runmodels.html#cb200-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># return(T)</span></span>
<span id="cb200-57"><a href="runmodels.html#cb200-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb200-58"><a href="runmodels.html#cb200-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-59"><a href="runmodels.html#cb200-59" aria-hidden="true" tabindex="-1"></a>  <span class="do">## clean up the local function environment</span></span>
<span id="cb200-60"><a href="runmodels.html#cb200-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;rhs&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;fx&quot;</span>, <span class="st">&quot;rx&quot;</span>, <span class="st">&quot;het&quot;</span>))</span>
<span id="cb200-61"><a href="runmodels.html#cb200-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb200-62"><a href="runmodels.html#cb200-62" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="study-specific-effects-function" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> Study-Specific Effects Function<a href="runmodels.html#study-specific-effects-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As noted previously, once we run the model, we will have to use a second step to get the study-specific estimates for all studies. Unlike with dummy codes, doing so is much more straightforward. We just have to pull study-specific effects using the <code>coef()</code> for both Bayesian and Frequentist approaches.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="runmodels.html#cb201-1" aria-hidden="true" tabindex="-1"></a>std_eff_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m){</span>
<span id="cb201-2"><a href="runmodels.html#cb201-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coef</span>(m, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>))[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">array_tree</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb201-3"><a href="runmodels.html#cb201-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tibble</span>(<span class="at">names =</span> <span class="fu">names</span>(.), <span class="at">data =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb201-4"><a href="runmodels.html#cb201-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> data.frame <span class="sc">%&gt;%</span> </span>
<span id="cb201-5"><a href="runmodels.html#cb201-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames_to_column</span>(<span class="st">&quot;study&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb201-6"><a href="runmodels.html#cb201-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb201-7"><a href="runmodels.html#cb201-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(names, study, <span class="at">estimate =</span> Estimate, <span class="at">conf.low =</span> Q2<span class="fl">.5</span>, <span class="at">conf.high =</span> Q97<span class="fl">.5</span>)</span>
<span id="cb201-8"><a href="runmodels.html#cb201-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="heterogeneity-estimates-function" class="section level4 hasAnchor" number="3.3.1.3">
<h4><span class="header-section-number">3.3.1.3</span> Heterogeneity Estimates Function<a href="runmodels.html#heterogeneity-estimates-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The Final pieces of information we need to extract from these models are estimates of the heterogeneity of effects across studies.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="runmodels.html#cb202-1" aria-hidden="true" tabindex="-1"></a>hetero_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m){</span>
<span id="cb202-2"><a href="runmodels.html#cb202-2" aria-hidden="true" tabindex="-1"></a>  args <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> m, <span class="at">effects =</span> <span class="st">&quot;ran_pars&quot;</span>, <span class="at">conf.int =</span> T)</span>
<span id="cb202-3"><a href="runmodels.html#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do.call</span>(tidy, args) <span class="sc">%&gt;%</span></span>
<span id="cb202-4"><a href="runmodels.html#cb202-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(group, term, estimate, conf.low, conf.high) <span class="sc">%&gt;%</span></span>
<span id="cb202-5"><a href="runmodels.html#cb202-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate</span>(term, <span class="fu">c</span>(<span class="st">&quot;est&quot;</span>, <span class="st">&quot;term&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;__&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb202-6"><a href="runmodels.html#cb202-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate<span class="sc">:</span>conf.high), <span class="sc">~</span><span class="fu">ifelse</span>(est <span class="sc">==</span> <span class="st">&quot;sd&quot;</span>, .<span class="sc">^</span><span class="dv">2</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb202-7"><a href="runmodels.html#cb202-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">est =</span> <span class="fu">ifelse</span>(est <span class="sc">==</span> <span class="st">&quot;sd&quot;</span>, <span class="st">&quot;var&quot;</span>, est))</span>
<span id="cb202-8"><a href="runmodels.html#cb202-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="simple-effects-function" class="section level4 hasAnchor" number="3.3.1.4">
<h4><span class="header-section-number">3.3.1.4</span> Simple Effects Function<a href="runmodels.html#simple-effects-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="fixed-effects" class="section level5 hasAnchor" number="3.3.1.4.1">
<h5><span class="header-section-number">3.3.1.4.1</span> Fixed Effects<a href="runmodels.html#fixed-effects" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="runmodels.html#cb203-1" aria-hidden="true" tabindex="-1"></a>fx_pred_fun <span class="ot">&lt;-</span><span class="cf">function</span>(m, moder){</span>
<span id="cb203-2"><a href="runmodels.html#cb203-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> m<span class="sc">$</span>data </span>
<span id="cb203-3"><a href="runmodels.html#cb203-3" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>o_value, <span class="sc">-</span>p_value, <span class="sc">-</span>study)</span>
<span id="cb203-4"><a href="runmodels.html#cb203-4" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)</span>
<span id="cb203-5"><a href="runmodels.html#cb203-5" aria-hidden="true" tabindex="-1"></a>  md_cl <span class="ot">&lt;-</span> <span class="fu">class</span>(d[,moder])</span>
<span id="cb203-6"><a href="runmodels.html#cb203-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb203-7"><a href="runmodels.html#cb203-7" aria-hidden="true" tabindex="-1"></a>    msd <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb203-8"><a href="runmodels.html#cb203-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb203-9"><a href="runmodels.html#cb203-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()</span>
<span id="cb203-10"><a href="runmodels.html#cb203-10" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span></span>
<span id="cb203-11"><a href="runmodels.html#cb203-11" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb203-12"><a href="runmodels.html#cb203-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(item) <span class="sc">%&gt;%</span></span>
<span id="cb203-13"><a href="runmodels.html#cb203-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(value), <span class="fu">lst</span>(mean, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb203-14"><a href="runmodels.html#cb203-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb203-15"><a href="runmodels.html#cb203-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb203-16"><a href="runmodels.html#cb203-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb203-17"><a href="runmodels.html#cb203-17" aria-hidden="true" tabindex="-1"></a>    fct_lev <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb203-18"><a href="runmodels.html#cb203-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.factor) <span class="sc">%&gt;%</span></span>
<span id="cb203-19"><a href="runmodels.html#cb203-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_all</span>(<span class="sc">~</span><span class="fu">list</span>(<span class="fu">levels</span>(.)))</span>
<span id="cb203-20"><a href="runmodels.html#cb203-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb203-21"><a href="runmodels.html#cb203-21" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(moder))</span>
<span id="cb203-22"><a href="runmodels.html#cb203-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-23"><a href="runmodels.html#cb203-23" aria-hidden="true" tabindex="-1"></a>  md_levs <span class="ot">&lt;-</span> <span class="cf">if</span>(md_cl <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>){</span>
<span id="cb203-24"><a href="runmodels.html#cb203-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(moder <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>)) {</span>
<span id="cb203-25"><a href="runmodels.html#cb203-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb203-26"><a href="runmodels.html#cb203-26" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>)) {</span>
<span id="cb203-27"><a href="runmodels.html#cb203-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>) </span>
<span id="cb203-28"><a href="runmodels.html#cb203-28" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb203-29"><a href="runmodels.html#cb203-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">with</span>(msd, <span class="fu">c</span>(mean[item <span class="sc">==</span> moder] <span class="sc">-</span> sd[item <span class="sc">==</span> moder], mean[item <span class="sc">==</span> moder], mean[item <span class="sc">==</span> moder] <span class="sc">+</span> sd[item <span class="sc">==</span> moder]))</span>
<span id="cb203-30"><a href="runmodels.html#cb203-30" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb203-31"><a href="runmodels.html#cb203-31" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb203-32"><a href="runmodels.html#cb203-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sort</span>(<span class="fu">unique</span>(fct_lev[,moder][[<span class="dv">1</span>]]))</span>
<span id="cb203-33"><a href="runmodels.html#cb203-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb203-34"><a href="runmodels.html#cb203-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-35"><a href="runmodels.html#cb203-35" aria-hidden="true" tabindex="-1"></a>  md_fac <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-10 yrs&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;+10 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-5 yrs&quot;</span>, <span class="st">&quot;12 years&quot;</span>, <span class="st">&quot;+5 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;gender&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;dementia&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="st">&quot;-1 SD&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;+1 SD&quot;</span>)</span>
<span id="cb203-36"><a href="runmodels.html#cb203-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-37"><a href="runmodels.html#cb203-37" aria-hidden="true" tabindex="-1"></a>  mod_frame <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb203-38"><a href="runmodels.html#cb203-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,.<span class="dv">1</span>)</span>
<span id="cb203-39"><a href="runmodels.html#cb203-39" aria-hidden="true" tabindex="-1"></a>    , <span class="at">modvalue =</span> md_levs</span>
<span id="cb203-40"><a href="runmodels.html#cb203-40" aria-hidden="true" tabindex="-1"></a>    , <span class="at">stringsAsFactors =</span> F</span>
<span id="cb203-41"><a href="runmodels.html#cb203-41" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb203-42"><a href="runmodels.html#cb203-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb203-43"><a href="runmodels.html#cb203-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;p_value&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>)) </span>
<span id="cb203-44"><a href="runmodels.html#cb203-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-45"><a href="runmodels.html#cb203-45" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">ncol</span>(d) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb203-46"><a href="runmodels.html#cb203-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb203-47"><a href="runmodels.html#cb203-47" aria-hidden="true" tabindex="-1"></a>      mod_frame <span class="ot">&lt;-</span> <span class="fu">tibble</span>(mod_frame, d <span class="sc">%&gt;%</span> <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span> <span class="fu">summarize_all</span>(mean))</span>
<span id="cb203-48"><a href="runmodels.html#cb203-48" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb203-49"><a href="runmodels.html#cb203-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb203-50"><a href="runmodels.html#cb203-50" aria-hidden="true" tabindex="-1"></a>      fcts <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)[<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>]</span>
<span id="cb203-51"><a href="runmodels.html#cb203-51" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(fcts)){</span>
<span id="cb203-52"><a href="runmodels.html#cb203-52" aria-hidden="true" tabindex="-1"></a>        fct <span class="ot">&lt;-</span> fcts[i]</span>
<span id="cb203-53"><a href="runmodels.html#cb203-53" aria-hidden="true" tabindex="-1"></a>        mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb203-54"><a href="runmodels.html#cb203-54" aria-hidden="true" tabindex="-1"></a>          mod_frame</span>
<span id="cb203-55"><a href="runmodels.html#cb203-55" aria-hidden="true" tabindex="-1"></a>          , <span class="fu">levels</span>(d[,fct])</span>
<span id="cb203-56"><a href="runmodels.html#cb203-56" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="fu">colnames</span>(mod_frame), fct))</span>
<span id="cb203-57"><a href="runmodels.html#cb203-57" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb203-58"><a href="runmodels.html#cb203-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb203-59"><a href="runmodels.html#cb203-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb203-60"><a href="runmodels.html#cb203-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-61"><a href="runmodels.html#cb203-61" aria-hidden="true" tabindex="-1"></a>  pred.fx <span class="ot">&lt;-</span> </span>
<span id="cb203-62"><a href="runmodels.html#cb203-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(</span>
<span id="cb203-63"><a href="runmodels.html#cb203-63" aria-hidden="true" tabindex="-1"></a>      mod_frame, </span>
<span id="cb203-64"><a href="runmodels.html#cb203-64" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fitted</span>(m</span>
<span id="cb203-65"><a href="runmodels.html#cb203-65" aria-hidden="true" tabindex="-1"></a>             , <span class="at">newdata =</span> mod_frame</span>
<span id="cb203-66"><a href="runmodels.html#cb203-66" aria-hidden="true" tabindex="-1"></a>             , <span class="at">re_formula =</span> <span class="cn">NA</span>) <span class="sc">%&gt;%</span> data.frame</span>
<span id="cb203-67"><a href="runmodels.html#cb203-67" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb203-68"><a href="runmodels.html#cb203-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">colnames</span>(m<span class="sc">$</span>data)), mod_fac, <span class="at">pred =</span> Estimate, <span class="at">lower =</span> Q2<span class="fl">.5</span>, <span class="at">upper =</span> Q97<span class="fl">.5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb203-69"><a href="runmodels.html#cb203-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(p_value, mod_fac) <span class="sc">%&gt;%</span> </span>
<span id="cb203-70"><a href="runmodels.html#cb203-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize_at</span>(<span class="fu">vars</span>(pred, lower, upper), mean) <span class="sc">%&gt;%</span></span>
<span id="cb203-71"><a href="runmodels.html#cb203-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb203-72"><a href="runmodels.html#cb203-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-73"><a href="runmodels.html#cb203-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;mod_frame&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;md_levs&quot;</span>))</span>
<span id="cb203-74"><a href="runmodels.html#cb203-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb203-75"><a href="runmodels.html#cb203-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(pred.fx)</span>
<span id="cb203-76"><a href="runmodels.html#cb203-76" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="study-specific-effects" class="section level5 hasAnchor" number="3.3.1.4.2">
<h5><span class="header-section-number">3.3.1.4.2</span> Study-Specific Effects<a href="runmodels.html#study-specific-effects" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="runmodels.html#cb204-1" aria-hidden="true" tabindex="-1"></a>rx_pred_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m, moder){</span>
<span id="cb204-2"><a href="runmodels.html#cb204-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> m<span class="sc">$</span>data</span>
<span id="cb204-3"><a href="runmodels.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>o_value, <span class="sc">-</span>p_value)</span>
<span id="cb204-4"><a href="runmodels.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)</span>
<span id="cb204-5"><a href="runmodels.html#cb204-5" aria-hidden="true" tabindex="-1"></a>  md_cl <span class="ot">&lt;-</span> <span class="fu">class</span>(d[,moder])</span>
<span id="cb204-6"><a href="runmodels.html#cb204-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb204-7"><a href="runmodels.html#cb204-7" aria-hidden="true" tabindex="-1"></a>    msd <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb204-8"><a href="runmodels.html#cb204-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb204-9"><a href="runmodels.html#cb204-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb204-10"><a href="runmodels.html#cb204-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(<span class="sc">-</span>study</span>
<span id="cb204-11"><a href="runmodels.html#cb204-11" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span></span>
<span id="cb204-12"><a href="runmodels.html#cb204-12" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-13"><a href="runmodels.html#cb204-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study, item) <span class="sc">%&gt;%</span></span>
<span id="cb204-14"><a href="runmodels.html#cb204-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(value), <span class="fu">lst</span>(mean, sd), <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb204-15"><a href="runmodels.html#cb204-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() </span>
<span id="cb204-16"><a href="runmodels.html#cb204-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb204-17"><a href="runmodels.html#cb204-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb204-18"><a href="runmodels.html#cb204-18" aria-hidden="true" tabindex="-1"></a>    fct_lev <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb204-19"><a href="runmodels.html#cb204-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb204-20"><a href="runmodels.html#cb204-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.factor) <span class="sc">%&gt;%</span></span>
<span id="cb204-21"><a href="runmodels.html#cb204-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_all</span>(<span class="sc">~</span><span class="fu">list</span>((<span class="fu">levels</span>(.)))) <span class="sc">%&gt;%</span></span>
<span id="cb204-22"><a href="runmodels.html#cb204-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb204-23"><a href="runmodels.html#cb204-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb204-24"><a href="runmodels.html#cb204-24" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(moder))</span>
<span id="cb204-25"><a href="runmodels.html#cb204-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb204-26"><a href="runmodels.html#cb204-26" aria-hidden="true" tabindex="-1"></a>  md_fac <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-10 yrs&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;+10 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-5 yrs&quot;</span>, <span class="st">&quot;12 years&quot;</span>, <span class="st">&quot;+5 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;gender&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;dementia&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="st">&quot;-1 SD&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;+1 SD&quot;</span>)</span>
<span id="cb204-27"><a href="runmodels.html#cb204-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb204-28"><a href="runmodels.html#cb204-28" aria-hidden="true" tabindex="-1"></a>  md_levs <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">!=</span> <span class="st">&quot;cognition&quot;</span>){</span>
<span id="cb204-29"><a href="runmodels.html#cb204-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">crossing</span>(</span>
<span id="cb204-30"><a href="runmodels.html#cb204-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">study =</span> <span class="fu">unique</span>(d<span class="sc">$</span>study)</span>
<span id="cb204-31"><a href="runmodels.html#cb204-31" aria-hidden="true" tabindex="-1"></a>      , <span class="at">modvalue =</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">5</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb204-32"><a href="runmodels.html#cb204-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb204-33"><a href="runmodels.html#cb204-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb204-34"><a href="runmodels.html#cb204-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>))</span>
<span id="cb204-35"><a href="runmodels.html#cb204-35" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb204-36"><a href="runmodels.html#cb204-36" aria-hidden="true" tabindex="-1"></a>    msd <span class="sc">%&gt;%</span> </span>
<span id="cb204-37"><a href="runmodels.html#cb204-37" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(item <span class="sc">==</span> moder) <span class="sc">%&gt;%</span></span>
<span id="cb204-38"><a href="runmodels.html#cb204-38" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">lower =</span> mean <span class="sc">-</span> sd, <span class="at">upper =</span> mean <span class="sc">+</span> sd) <span class="sc">%&gt;%</span></span>
<span id="cb204-39"><a href="runmodels.html#cb204-39" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(<span class="sc">-</span>sd) <span class="sc">%&gt;%</span> </span>
<span id="cb204-40"><a href="runmodels.html#cb204-40" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(mean, lower, upper)</span>
<span id="cb204-41"><a href="runmodels.html#cb204-41" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">names_to =</span> <span class="st">&quot;meas&quot;</span></span>
<span id="cb204-42"><a href="runmodels.html#cb204-42" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">values_to =</span> <span class="st">&quot;modvalue&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-43"><a href="runmodels.html#cb204-43" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;item&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;modvalue&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-44"><a href="runmodels.html#cb204-44" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(study, <span class="fu">one_of</span>(moder)) <span class="sc">%&gt;%</span></span>
<span id="cb204-45"><a href="runmodels.html#cb204-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, <span class="st">&quot;modvalue&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb204-46"><a href="runmodels.html#cb204-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb204-47"><a href="runmodels.html#cb204-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb204-48"><a href="runmodels.html#cb204-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb204-49"><a href="runmodels.html#cb204-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>))</span>
<span id="cb204-50"><a href="runmodels.html#cb204-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb204-51"><a href="runmodels.html#cb204-51" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb204-52"><a href="runmodels.html#cb204-52" aria-hidden="true" tabindex="-1"></a>  mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb204-53"><a href="runmodels.html#cb204-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">p_value =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,.<span class="dv">1</span>)</span>
<span id="cb204-54"><a href="runmodels.html#cb204-54" aria-hidden="true" tabindex="-1"></a>      , md_levs</span>
<span id="cb204-55"><a href="runmodels.html#cb204-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb204-56"><a href="runmodels.html#cb204-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb204-57"><a href="runmodels.html#cb204-57" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">ncol</span>(d) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb204-58"><a href="runmodels.html#cb204-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb204-59"><a href="runmodels.html#cb204-59" aria-hidden="true" tabindex="-1"></a>      mod_frame <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb204-60"><a href="runmodels.html#cb204-60" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb204-61"><a href="runmodels.html#cb204-61" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span> </span>
<span id="cb204-62"><a href="runmodels.html#cb204-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarize_all</span>(mean, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb204-63"><a href="runmodels.html#cb204-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb204-64"><a href="runmodels.html#cb204-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">full_join</span>(mod_frame)</span>
<span id="cb204-65"><a href="runmodels.html#cb204-65" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb204-66"><a href="runmodels.html#cb204-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb204-67"><a href="runmodels.html#cb204-67" aria-hidden="true" tabindex="-1"></a>      fcts <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)[<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>]</span>
<span id="cb204-68"><a href="runmodels.html#cb204-68" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(fcts)){</span>
<span id="cb204-69"><a href="runmodels.html#cb204-69" aria-hidden="true" tabindex="-1"></a>        fct <span class="ot">&lt;-</span> fcts[i]</span>
<span id="cb204-70"><a href="runmodels.html#cb204-70" aria-hidden="true" tabindex="-1"></a>        mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb204-71"><a href="runmodels.html#cb204-71" aria-hidden="true" tabindex="-1"></a>          mod_frame</span>
<span id="cb204-72"><a href="runmodels.html#cb204-72" aria-hidden="true" tabindex="-1"></a>          , <span class="fu">levels</span>(d[,fct])</span>
<span id="cb204-73"><a href="runmodels.html#cb204-73" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="fu">colnames</span>(mod_frame), fct))</span>
<span id="cb204-74"><a href="runmodels.html#cb204-74" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb204-75"><a href="runmodels.html#cb204-75" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb204-76"><a href="runmodels.html#cb204-76" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb204-77"><a href="runmodels.html#cb204-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb204-78"><a href="runmodels.html#cb204-78" aria-hidden="true" tabindex="-1"></a>  pred.rx <span class="ot">&lt;-</span> </span>
<span id="cb204-79"><a href="runmodels.html#cb204-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(</span>
<span id="cb204-80"><a href="runmodels.html#cb204-80" aria-hidden="true" tabindex="-1"></a>      mod_frame, </span>
<span id="cb204-81"><a href="runmodels.html#cb204-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fitted</span>(m</span>
<span id="cb204-82"><a href="runmodels.html#cb204-82" aria-hidden="true" tabindex="-1"></a>             , <span class="at">newdata =</span> mod_frame) <span class="sc">%&gt;%</span> data.frame</span>
<span id="cb204-83"><a href="runmodels.html#cb204-83" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb204-84"><a href="runmodels.html#cb204-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">colnames</span>(m<span class="sc">$</span>data)), mod_fac, <span class="at">pred =</span> Estimate, <span class="at">lower =</span> Q2<span class="fl">.5</span>, <span class="at">upper =</span> Q97<span class="fl">.5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-85"><a href="runmodels.html#cb204-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(p_value, mod_fac, study) <span class="sc">%&gt;%</span> </span>
<span id="cb204-86"><a href="runmodels.html#cb204-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize_at</span>(<span class="fu">vars</span>(pred, lower, upper), mean) <span class="sc">%&gt;%</span></span>
<span id="cb204-87"><a href="runmodels.html#cb204-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb204-88"><a href="runmodels.html#cb204-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb204-89"><a href="runmodels.html#cb204-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;mod_frame&quot;</span>, <span class="st">&quot;d&quot;</span>))</span>
<span id="cb204-90"><a href="runmodels.html#cb204-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb204-91"><a href="runmodels.html#cb204-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(pred.rx)</span>
<span id="cb204-92"><a href="runmodels.html#cb204-92" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<div id="run-models-and-summaries" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Run Models and Summaries<a href="runmodels.html#run-models-and-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="sample-bayesian-models" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Sample Bayesian Models<a href="runmodels.html#sample-bayesian-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Before we actually run the models, we will estimate two models on smaller subsets of data. The advantage to this is that it prevents the rstan model from having to recompile the model, which speeds up runtime and prevents random crashes. It’s going to fit badly. That’s fine. It was given almost no data.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="runmodels.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample Bayesian Model </span></span>
<span id="cb205-2"><a href="runmodels.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="co"># load data </span></span>
<span id="cb205-3"><a href="runmodels.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/shared/N-dementia-none.RData&quot;</span>, local_path))</span>
<span id="cb205-4"><a href="runmodels.html#cb205-4" aria-hidden="true" tabindex="-1"></a><span class="co"># load(&quot;data/mega-analysis/shared/N-dementia-none.RData&quot;)</span></span>
<span id="cb205-5"><a href="runmodels.html#cb205-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-6"><a href="runmodels.html#cb205-6" aria-hidden="true" tabindex="-1"></a><span class="co"># clean data &amp; keep only needed columns and a subset of the used variables</span></span>
<span id="cb205-7"><a href="runmodels.html#cb205-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span></span>
<span id="cb205-8"><a href="runmodels.html#cb205-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb205-9"><a href="runmodels.html#cb205-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb205-10"><a href="runmodels.html#cb205-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb205-11"><a href="runmodels.html#cb205-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.), <span class="dv">100</span>, <span class="at">replace =</span> F)))) <span class="sc">%&gt;%</span></span>
<span id="cb205-12"><a href="runmodels.html#cb205-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) </span>
<span id="cb205-13"><a href="runmodels.html#cb205-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-14"><a href="runmodels.html#cb205-14" aria-hidden="true" tabindex="-1"></a><span class="co"># set priors &amp; model specifications </span></span>
<span id="cb205-15"><a href="runmodels.html#cb205-15" aria-hidden="true" tabindex="-1"></a>Prior <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="fu">set_prior</span>(<span class="st">&quot;cauchy(0,1)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>),</span>
<span id="cb205-16"><a href="runmodels.html#cb205-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 2)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;b&quot;</span>),</span>
<span id="cb205-17"><a href="runmodels.html#cb205-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 5)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>))</span>
<span id="cb205-18"><a href="runmodels.html#cb205-18" aria-hidden="true" tabindex="-1"></a>Iter <span class="ot">&lt;-</span> <span class="dv">30</span>; Warmup <span class="ot">&lt;-</span> <span class="dv">21</span>; treedepth <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb205-19"><a href="runmodels.html#cb205-19" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">formula</span>(o_value <span class="sc">~</span> p_value <span class="sc">+</span> age <span class="sc">+</span> gender <span class="sc">+</span> p_value<span class="sc">*</span>education <span class="sc">+</span> (p_value<span class="sc">*</span>education <span class="sc">|</span> study))</span>
<span id="cb205-20"><a href="runmodels.html#cb205-20" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">brm</span>(<span class="at">formula =</span> f</span>
<span id="cb205-21"><a href="runmodels.html#cb205-21" aria-hidden="true" tabindex="-1"></a>            , <span class="at">data =</span> d</span>
<span id="cb205-22"><a href="runmodels.html#cb205-22" aria-hidden="true" tabindex="-1"></a>            , <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">&quot;logit&quot;</span>)</span>
<span id="cb205-23"><a href="runmodels.html#cb205-23" aria-hidden="true" tabindex="-1"></a>            , <span class="at">prior =</span> Prior</span>
<span id="cb205-24"><a href="runmodels.html#cb205-24" aria-hidden="true" tabindex="-1"></a>            , <span class="at">iter =</span> Iter</span>
<span id="cb205-25"><a href="runmodels.html#cb205-25" aria-hidden="true" tabindex="-1"></a>            , <span class="at">warmup =</span> Warmup</span>
<span id="cb205-26"><a href="runmodels.html#cb205-26" aria-hidden="true" tabindex="-1"></a>            , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb205-27"><a href="runmodels.html#cb205-27" aria-hidden="true" tabindex="-1"></a>            , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb205-28"><a href="runmodels.html#cb205-28" aria-hidden="true" tabindex="-1"></a>            , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb205-29"><a href="runmodels.html#cb205-29" aria-hidden="true" tabindex="-1"></a>            , <span class="at">chains =</span> <span class="dv">4</span>)</span>
<span id="cb205-30"><a href="runmodels.html#cb205-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-31"><a href="runmodels.html#cb205-31" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path))</span>
<span id="cb205-32"><a href="runmodels.html#cb205-32" aria-hidden="true" tabindex="-1"></a><span class="co"># save(m, file = &quot;results/bayes_sample_mod_binomial.RData&quot;)</span></span>
<span id="cb205-33"><a href="runmodels.html#cb205-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-34"><a href="runmodels.html#cb205-34" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/shared/N-braak-none.RData&quot;</span>, local_path))</span>
<span id="cb205-35"><a href="runmodels.html#cb205-35" aria-hidden="true" tabindex="-1"></a><span class="co"># load(&quot;data/mega-analysis/shared/N-braak-none.RData&quot;)</span></span>
<span id="cb205-36"><a href="runmodels.html#cb205-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-37"><a href="runmodels.html#cb205-37" aria-hidden="true" tabindex="-1"></a><span class="co"># clean data &amp; keep only needed columns and a subset of the used variables</span></span>
<span id="cb205-38"><a href="runmodels.html#cb205-38" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span></span>
<span id="cb205-39"><a href="runmodels.html#cb205-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb205-40"><a href="runmodels.html#cb205-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb205-41"><a href="runmodels.html#cb205-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb205-42"><a href="runmodels.html#cb205-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.), <span class="dv">100</span>, <span class="at">replace =</span> T)))) <span class="sc">%&gt;%</span></span>
<span id="cb205-43"><a href="runmodels.html#cb205-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) </span>
<span id="cb205-44"><a href="runmodels.html#cb205-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-45"><a href="runmodels.html#cb205-45" aria-hidden="true" tabindex="-1"></a><span class="co"># set priors &amp; model specifications </span></span>
<span id="cb205-46"><a href="runmodels.html#cb205-46" aria-hidden="true" tabindex="-1"></a>Prior <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="fu">set_prior</span>(<span class="st">&quot;cauchy(0,1)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>),</span>
<span id="cb205-47"><a href="runmodels.html#cb205-47" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 2)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;b&quot;</span>),</span>
<span id="cb205-48"><a href="runmodels.html#cb205-48" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 5)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>))</span>
<span id="cb205-49"><a href="runmodels.html#cb205-49" aria-hidden="true" tabindex="-1"></a>Iter <span class="ot">&lt;-</span> <span class="dv">30</span>; Warmup <span class="ot">&lt;-</span> <span class="dv">21</span>; treedepth <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb205-50"><a href="runmodels.html#cb205-50" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">formula</span>(o_value <span class="sc">~</span> p_value <span class="sc">+</span> age <span class="sc">+</span> gender <span class="sc">+</span> p_value<span class="sc">*</span>education <span class="sc">+</span> (p_value<span class="sc">*</span>education <span class="sc">|</span> study))</span>
<span id="cb205-51"><a href="runmodels.html#cb205-51" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">brm</span>(<span class="at">formula =</span> f</span>
<span id="cb205-52"><a href="runmodels.html#cb205-52" aria-hidden="true" tabindex="-1"></a>            , <span class="at">data =</span> d</span>
<span id="cb205-53"><a href="runmodels.html#cb205-53" aria-hidden="true" tabindex="-1"></a>            , <span class="at">prior =</span> Prior</span>
<span id="cb205-54"><a href="runmodels.html#cb205-54" aria-hidden="true" tabindex="-1"></a>            , <span class="at">iter =</span> Iter</span>
<span id="cb205-55"><a href="runmodels.html#cb205-55" aria-hidden="true" tabindex="-1"></a>            , <span class="at">warmup =</span> Warmup</span>
<span id="cb205-56"><a href="runmodels.html#cb205-56" aria-hidden="true" tabindex="-1"></a>            , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb205-57"><a href="runmodels.html#cb205-57" aria-hidden="true" tabindex="-1"></a>            , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb205-58"><a href="runmodels.html#cb205-58" aria-hidden="true" tabindex="-1"></a>            , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb205-59"><a href="runmodels.html#cb205-59" aria-hidden="true" tabindex="-1"></a>            , <span class="at">chains =</span> <span class="dv">4</span>)</span>
<span id="cb205-60"><a href="runmodels.html#cb205-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-61"><a href="runmodels.html#cb205-61" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span>
<span id="cb205-62"><a href="runmodels.html#cb205-62" aria-hidden="true" tabindex="-1"></a><span class="co"># save(m, file = &quot;results/bayes_sample_mod_continuous.RData&quot;)</span></span>
<span id="cb205-63"><a href="runmodels.html#cb205-63" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;Prior&quot;</span>, <span class="st">&quot;Iter&quot;</span>, <span class="st">&quot;Warmup&quot;</span>, <span class="st">&quot;treedepth&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;m&quot;</span>))</span></code></pre></div>
<div id="binary" class="section level5 hasAnchor" number="3.3.2.1.1">
<h5><span class="header-section-number">3.3.2.1.1</span> Binary<a href="runmodels.html#binary" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="runmodels.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path))</span>
<span id="cb206-2"><a href="runmodels.html#cb206-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##  Family: bernoulli 
##   Links: mu = logit 
## Formula: o_value ~ p_value + age + gender + p_value * education + (p_value * education | study) 
##    Data: d (Number of observations: 800) 
##   Draws: 4 chains, each with iter = 30; warmup = 21; thin = 1;
##          total post-warmup draws = 36
## 
## Group-Level Effects: 
## ~study (Number of levels: 8) 
##                                  Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
## sd(Intercept)                        1.23      0.82     0.06     2.96 1.20       16       16
## sd(p_value)                          0.20      0.14     0.01     0.46 1.12       16       16
## sd(education)                        0.09      0.08     0.00     0.21 1.02       16       16
## sd(p_value:education)                0.01      0.01     0.00     0.05 1.22       16       16
## cor(Intercept,p_value)               0.03      0.39    -0.67     0.76 1.14       16       16
## cor(Intercept,education)            -0.22      0.39    -0.78     0.47 1.18       16       16
## cor(p_value,education)              -0.00      0.55    -0.85     0.77 1.02       16       16
## cor(Intercept,p_value:education)     0.02      0.44    -0.85     0.65 1.06       16       16
## cor(p_value,p_value:education)       0.03      0.47    -0.83     0.70 1.07       16       16
## cor(education,p_value:education)    -0.13      0.48    -0.77     0.79 1.12       16       16
## 
## Population-Level Effects: 
##                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
## Intercept            -4.69      1.21    -7.47    -3.24 1.13       16       16
## p_value               0.23      0.14    -0.10     0.49 1.02       16       16
## age                   0.08      0.02     0.05     0.10 1.12       16       16
## gender1               0.02      0.29    -0.49     0.43 1.13       16       16
## education             0.06      0.11    -0.10     0.30 1.05       16       16
## p_value:education    -0.02      0.02    -0.06     0.01 1.02       16       16
## 
## Draws were sampled using sample(hmc). For each parameter, Bulk_ESS
## and Tail_ESS are effective sample size measures, and Rhat is the potential
## scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
</div>
<div id="continuous" class="section level5 hasAnchor" number="3.3.2.1.2">
<h5><span class="header-section-number">3.3.2.1.2</span> Continuous<a href="runmodels.html#continuous" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="runmodels.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span></code></pre></div>
</div>
</div>
<div id="run-the-models" class="section level4 hasAnchor" number="3.3.2.2">
<h4><span class="header-section-number">3.3.2.2</span> Run the Models<a href="runmodels.html#run-the-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="runmodels.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># done &lt;- tibble(Covariate = c(&quot;fully&quot;, &quot;shared&quot;, &quot;butOne&quot;, &quot;unadjusted&quot;, &quot;standard&quot;, &quot;standarddx&quot;, &quot;shareddx&quot;),</span></span>
<span id="cb209-2"><a href="runmodels.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="co">#                file = map(Covariate, ~list.files(sprintf(&quot;%s/results/models/%s&quot;, local_path, .)))) %&gt;%</span></span>
<span id="cb209-3"><a href="runmodels.html#cb209-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   unnest(file) %&gt;%</span></span>
<span id="cb209-4"><a href="runmodels.html#cb209-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   separate(file, c(&quot;Outcome&quot;, &quot;Trait&quot;, &quot;Moderator&quot;), sep = &quot;_&quot;) %&gt;%</span></span>
<span id="cb209-5"><a href="runmodels.html#cb209-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(Moderator = str_remove_all(Moderator, &quot;.RData&quot;)</span></span>
<span id="cb209-6"><a href="runmodels.html#cb209-6" aria-hidden="true" tabindex="-1"></a><span class="co">#          , done = &quot;done&quot;) %&gt;%</span></span>
<span id="cb209-7"><a href="runmodels.html#cb209-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(!is.na(Moderator))</span></span>
<span id="cb209-8"><a href="runmodels.html#cb209-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-9"><a href="runmodels.html#cb209-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plan(multisession(workers = 4L))</span></span>
<span id="cb209-10"><a href="runmodels.html#cb209-10" aria-hidden="true" tabindex="-1"></a>nested_ipd_mega <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb209-11"><a href="runmodels.html#cb209-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Trait =</span> traits<span class="sc">$</span>short_name</span>
<span id="cb209-12"><a href="runmodels.html#cb209-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Outcome =</span> outcomes<span class="sc">$</span>short_name</span>
<span id="cb209-13"><a href="runmodels.html#cb209-13" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb209-14"><a href="runmodels.html#cb209-14" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;standarddx&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)</span>
<span id="cb209-15"><a href="runmodels.html#cb209-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb209-16"><a href="runmodels.html#cb209-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb209-17"><a href="runmodels.html#cb209-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">crossing</span>(</span>
<span id="cb209-18"><a href="runmodels.html#cb209-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> traits<span class="sc">$</span>short_name</span>
<span id="cb209-19"><a href="runmodels.html#cb209-19" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Outcome =</span> outcomes<span class="sc">$</span>short_name</span>
<span id="cb209-20"><a href="runmodels.html#cb209-20" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Moderator =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb209-21"><a href="runmodels.html#cb209-21" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;standarddx&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)</span>
<span id="cb209-22"><a href="runmodels.html#cb209-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb209-23"><a href="runmodels.html#cb209-23" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb209-24"><a href="runmodels.html#cb209-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(done) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(done)) <span class="sc">%&gt;%</span></span>
<span id="cb209-25"><a href="runmodels.html#cb209-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(run = future_pmap(</span></span>
<span id="cb209-26"><a href="runmodels.html#cb209-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">run =</span> <span class="fu">pmap</span>(</span>
<span id="cb209-27"><a href="runmodels.html#cb209-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(Trait, Outcome, Moderator, Covariate)</span>
<span id="cb209-28"><a href="runmodels.html#cb209-28" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">possibly</span>(ipd_mega_mod_fun, <span class="cn">NA_real_</span>)</span>
<span id="cb209-29"><a href="runmodels.html#cb209-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># , .options = furrr_options(</span></span>
<span id="cb209-30"><a href="runmodels.html#cb209-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    globals = c(&quot;traits&quot;, &quot;moders&quot;, &quot;covars&quot;, &quot;outcomes&quot;</span></span>
<span id="cb209-31"><a href="runmodels.html#cb209-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;hetero_fun&quot;</span></span>
<span id="cb209-32"><a href="runmodels.html#cb209-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;rx_pred_fun&quot;</span></span>
<span id="cb209-33"><a href="runmodels.html#cb209-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;std_eff_fun&quot;</span></span>
<span id="cb209-34"><a href="runmodels.html#cb209-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;fx_pred_fun&quot;</span></span>
<span id="cb209-35"><a href="runmodels.html#cb209-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;local_path&quot;)</span></span>
<span id="cb209-36"><a href="runmodels.html#cb209-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    , packages = c(&quot;broom&quot;, &quot;broom.mixed&quot;, &quot;tidyverse&quot;, &quot;brms&quot;)</span></span>
<span id="cb209-37"><a href="runmodels.html#cb209-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    )</span></span>
<span id="cb209-38"><a href="runmodels.html#cb209-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                  , .progress = T</span></span>
<span id="cb209-39"><a href="runmodels.html#cb209-39" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb209-40"><a href="runmodels.html#cb209-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-41"><a href="runmodels.html#cb209-41" aria-hidden="true" tabindex="-1"></a><span class="co"># nested_ipd_mega %&gt;% </span></span>
<span id="cb209-42"><a href="runmodels.html#cb209-42" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(Covariate = factor(Covariate)</span></span>
<span id="cb209-43"><a href="runmodels.html#cb209-43" aria-hidden="true" tabindex="-1"></a><span class="co">#          , Covariate = relevel(Covariate, &quot;shared&quot;)</span></span>
<span id="cb209-44"><a href="runmodels.html#cb209-44" aria-hidden="true" tabindex="-1"></a><span class="co">#          # , Moderator = factor(Moderator, levels = moders$short_name)</span></span>
<span id="cb209-45"><a href="runmodels.html#cb209-45" aria-hidden="true" tabindex="-1"></a><span class="co">#          , Moderator = relevel(factor(Moderator), &quot;dementia&quot;)</span></span>
<span id="cb209-46"><a href="runmodels.html#cb209-46" aria-hidden="true" tabindex="-1"></a><span class="co">#          ) %&gt;%</span></span>
<span id="cb209-47"><a href="runmodels.html#cb209-47" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Covariate, Outcome, Moderator, Trait) %&gt;% </span></span>
<span id="cb209-48"><a href="runmodels.html#cb209-48" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(Covariate != &quot;fully&quot;) %&gt;% </span></span>
<span id="cb209-49"><a href="runmodels.html#cb209-49" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(Trait, Outcome, Moderator, Covariate) %&gt;%</span></span>
<span id="cb209-50"><a href="runmodels.html#cb209-50" aria-hidden="true" tabindex="-1"></a><span class="co">#   write.table(.</span></span>
<span id="cb209-51"><a href="runmodels.html#cb209-51" aria-hidden="true" tabindex="-1"></a><span class="co">#               , file = sprintf(&quot;%s/scripts/cluster/args/args.txt&quot;, local_path)</span></span>
<span id="cb209-52"><a href="runmodels.html#cb209-52" aria-hidden="true" tabindex="-1"></a><span class="co">#               , row.names = F)</span></span></code></pre></div>

</div>
</div>
</div>
<div id="compile-results" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Compile Results<a href="runmodels.html#compile-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once all the models are run, we are ready to compile all their results. By saving the fixed and study-level effects results previously, we are able to simply load those results and ignore the models. However, because we also saved the models, we can also recall and extract information from them if and when needed.</p>
<p>I cannot share the models because the data are stored inside them. Instead, I share posterior samples and will share models with the data slot removed upon request (please email <a href="mailto:edbeck@ucdavis.edu">Emorie Beck</a>). We mostly don’t need the models here. The only thing I’ll pull from them are exact sample sizes.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="runmodels.html#cb210-1" aria-hidden="true" tabindex="-1"></a>loadRData <span class="ot">&lt;-</span> <span class="cf">function</span>(fileName, cov, obj, folder){</span>
<span id="cb210-2"><a href="runmodels.html#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="co">#loads an RData file, and returns it</span></span>
<span id="cb210-3"><a href="runmodels.html#cb210-3" aria-hidden="true" tabindex="-1"></a>    path <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/%s/%s/%s&quot;</span>, local_path, folder, cov, fileName)</span>
<span id="cb210-4"><a href="runmodels.html#cb210-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">load</span>(path)</span>
<span id="cb210-5"><a href="runmodels.html#cb210-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get</span>(<span class="fu">ls</span>()[<span class="fu">grepl</span>(obj, <span class="fu">ls</span>())])</span>
<span id="cb210-6"><a href="runmodels.html#cb210-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb210-7"><a href="runmodels.html#cb210-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-8"><a href="runmodels.html#cb210-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-9"><a href="runmodels.html#cb210-9" aria-hidden="true" tabindex="-1"></a>n_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(fileName, type){</span>
<span id="cb210-10"><a href="runmodels.html#cb210-10" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">loadRData</span>(fileName, type, <span class="st">&quot;^m&quot;</span>, <span class="st">&quot;models&quot;</span>)</span>
<span id="cb210-11"><a href="runmodels.html#cb210-11" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> m<span class="sc">$</span>data</span>
<span id="cb210-12"><a href="runmodels.html#cb210-12" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> <span class="fu">tally</span>() <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span>
<span id="cb210-13"><a href="runmodels.html#cb210-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(n)</span>
<span id="cb210-14"><a href="runmodels.html#cb210-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb210-15"><a href="runmodels.html#cb210-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-16"><a href="runmodels.html#cb210-16" aria-hidden="true" tabindex="-1"></a><span class="do">## load in &quot;fixed&quot; effects</span></span>
<span id="cb210-17"><a href="runmodels.html#cb210-17" aria-hidden="true" tabindex="-1"></a><span class="do">## first get file names</span></span>
<span id="cb210-18"><a href="runmodels.html#cb210-18" aria-hidden="true" tabindex="-1"></a>nested_mega <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;standarddx&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb210-19"><a href="runmodels.html#cb210-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">file =</span> <span class="fu">map</span>(Covariate, <span class="sc">~</span><span class="fu">list.files</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/summary/%s&quot;</span>, local_path, .)))) <span class="sc">%&gt;%</span></span>
<span id="cb210-20"><a href="runmodels.html#cb210-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(file) <span class="sc">%&gt;%</span></span>
<span id="cb210-21"><a href="runmodels.html#cb210-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(file, <span class="fu">c</span>(<span class="st">&quot;Outcome&quot;</span>, <span class="st">&quot;Trait&quot;</span>, <span class="st">&quot;Moderator&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>, <span class="at">remove =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb210-22"><a href="runmodels.html#cb210-22" aria-hidden="true" tabindex="-1"></a>  <span class="do">## read in the files</span></span>
<span id="cb210-23"><a href="runmodels.html#cb210-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Moderator =</span> <span class="fu">str_remove</span>(Moderator, <span class="st">&quot;.RData&quot;</span>),</span>
<span id="cb210-24"><a href="runmodels.html#cb210-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">fx =</span> <span class="fu">map2</span>(file, Covariate, <span class="sc">~</span><span class="fu">loadRData</span>(.x, .y, <span class="st">&quot;fx&quot;</span>, <span class="st">&quot;summary&quot;</span>)),</span>
<span id="cb210-25"><a href="runmodels.html#cb210-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">rx =</span> <span class="fu">map2</span>(file, Covariate, <span class="fu">possibly</span>(<span class="sc">~</span><span class="fu">loadRData</span>(.x, .y, <span class="st">&quot;rx&quot;</span>, <span class="st">&quot;summary&quot;</span>), <span class="cn">NA_real_</span>)),</span>
<span id="cb210-26"><a href="runmodels.html#cb210-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">n =</span> <span class="fu">map2</span>(file, Covariate, n_fun)) <span class="sc">%&gt;%</span></span>
<span id="cb210-27"><a href="runmodels.html#cb210-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>file) <span class="sc">%&gt;%</span></span>
<span id="cb210-28"><a href="runmodels.html#cb210-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(rx))</span></code></pre></div>
<div id="tables-1" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Tables<a href="runmodels.html#tables-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we want to format the study results in APA table format. In this case, we are interested in the fixed and study-specific effects of personality predicting cognitive ability when there were no moderators, and the personality x moderator interaction when there was a moderator. We’ll anticipate a need to present both just fixed effects as well as fixed and study-specific effects by creating tables for each.</p>
<p>First, let’s format the data.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="runmodels.html#cb211-1" aria-hidden="true" tabindex="-1"></a>nested_mega_tab <span class="ot">&lt;-</span> </span>
<span id="cb211-2"><a href="runmodels.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### fixed effects </span></span>
<span id="cb211-3"><a href="runmodels.html#cb211-3" aria-hidden="true" tabindex="-1"></a>  nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb211-4"><a href="runmodels.html#cb211-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>rx, <span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb211-5"><a href="runmodels.html#cb211-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(fx) <span class="sc">%&gt;%</span> <span class="co"># unnesting </span></span>
<span id="cb211-6"><a href="runmodels.html#cb211-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># keep key terms</span></span>
<span id="cb211-7"><a href="runmodels.html#cb211-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((Moderator <span class="sc">==</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> term <span class="sc">==</span> <span class="st">&quot;p_value&quot;</span>) <span class="sc">|</span></span>
<span id="cb211-8"><a href="runmodels.html#cb211-8" aria-hidden="true" tabindex="-1"></a>         (Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">&quot;p_value:&quot;</span>, term)) <span class="sc">&amp;</span> </span>
<span id="cb211-9"><a href="runmodels.html#cb211-9" aria-hidden="true" tabindex="-1"></a>          <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;cor&quot;</span>, term) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;sd&quot;</span>, term)) <span class="sc">%&gt;%</span></span>
<span id="cb211-10"><a href="runmodels.html#cb211-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">study =</span> <span class="st">&quot;Overall&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb211-11"><a href="runmodels.html#cb211-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">### study specific effects </span></span>
<span id="cb211-12"><a href="runmodels.html#cb211-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb211-13"><a href="runmodels.html#cb211-13" aria-hidden="true" tabindex="-1"></a>    nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb211-14"><a href="runmodels.html#cb211-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>fx, <span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb211-15"><a href="runmodels.html#cb211-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(rx) <span class="sc">%&gt;%</span> <span class="co"># unnesting </span></span>
<span id="cb211-16"><a href="runmodels.html#cb211-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="at">term =</span> names) <span class="sc">%&gt;%</span></span>
<span id="cb211-17"><a href="runmodels.html#cb211-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>((Moderator <span class="sc">==</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> term <span class="sc">==</span> <span class="st">&quot;p_value&quot;</span>) <span class="sc">|</span></span>
<span id="cb211-18"><a href="runmodels.html#cb211-18" aria-hidden="true" tabindex="-1"></a>             (Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">&quot;p_value:&quot;</span>, term)))</span>
<span id="cb211-19"><a href="runmodels.html#cb211-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb211-20"><a href="runmodels.html#cb211-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb211-21"><a href="runmodels.html#cb211-21" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">Outcome =</span> short_name, link)</span>
<span id="cb211-22"><a href="runmodels.html#cb211-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb211-23"><a href="runmodels.html#cb211-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reformatting: mark significance, prettify Trait, covariate, and moderator names</span></span>
<span id="cb211-24"><a href="runmodels.html#cb211-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">ifelse</span>(<span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high), <span class="st">&quot;sig&quot;</span>, <span class="st">&quot;ns&quot;</span>),</span>
<span id="cb211-25"><a href="runmodels.html#cb211-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name),</span>
<span id="cb211-26"><a href="runmodels.html#cb211-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">Outcome =</span> <span class="fu">factor</span>(Outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name),</span>
<span id="cb211-27"><a href="runmodels.html#cb211-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">Moderator =</span> <span class="fu">factor</span>(Moderator, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name),</span>
<span id="cb211-28"><a href="runmodels.html#cb211-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">Covariate =</span> <span class="fu">factor</span>(Covariate, covars<span class="sc">$</span>short_name, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>)),</span>
<span id="cb211-29"><a href="runmodels.html#cb211-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">term =</span> <span class="fu">str_remove_all</span>(term, <span class="st">&quot;p_value:&quot;</span>),</span>
<span id="cb211-30"><a href="runmodels.html#cb211-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">term =</span> <span class="fu">factor</span>(term, moders<span class="sc">$</span>short_term, moders<span class="sc">$</span>long_term)) <span class="sc">%&gt;%</span></span>
<span id="cb211-31"><a href="runmodels.html#cb211-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), <span class="sc">~</span><span class="fu">ifelse</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>, <span class="fu">exp</span>(.), .)) <span class="sc">%&gt;%</span></span>
<span id="cb211-32"><a href="runmodels.html#cb211-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># prettify the number format</span></span>
<span id="cb211-33"><a href="runmodels.html#cb211-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), </span>
<span id="cb211-34"><a href="runmodels.html#cb211-34" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">abs</span>(.) <span class="sc">&lt;</span> .<span class="dv">0014</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, .), <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb211-35"><a href="runmodels.html#cb211-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># combine the effects, bold significance, factor and label study-specfic effects </span></span>
<span id="cb211-36"><a href="runmodels.html#cb211-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">est =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s&lt;br&gt;[%s, %s]&quot;</span>, estimate, conf.low, conf.high),</span>
<span id="cb211-37"><a href="runmodels.html#cb211-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">est =</span> <span class="fu">ifelse</span>(sig <span class="sc">==</span> <span class="st">&quot;sig&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;%s&lt;/strong&gt;&quot;</span>, est), est),</span>
<span id="cb211-38"><a href="runmodels.html#cb211-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">study =</span> <span class="fu">mapvalues</span>(study, <span class="fu">c</span>(<span class="st">&quot;RADC-MAP&quot;</span>, <span class="st">&quot;ADRC&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Rush-MAP&quot;</span>, <span class="st">&quot;WUSM-MAP&quot;</span>)),</span>
<span id="cb211-39"><a href="runmodels.html#cb211-39" aria-hidden="true" tabindex="-1"></a>         <span class="at">study =</span> <span class="fu">factor</span>(study, <span class="at">levels =</span> <span class="fu">c</span>(studies_long, <span class="st">&quot;Overall&quot;</span>),</span>
<span id="cb211-40"><a href="runmodels.html#cb211-40" aria-hidden="true" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">c</span>(studies_long, <span class="st">&quot;Overall&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb211-41"><a href="runmodels.html#cb211-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reshaping: remove extra columns, arrange by key variables, and make wide</span></span>
<span id="cb211-42"><a href="runmodels.html#cb211-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Outcome, Trait, Moderator, Covariate, study, term, est) <span class="sc">%&gt;%</span></span>
<span id="cb211-43"><a href="runmodels.html#cb211-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Outcome, Trait, Moderator, Covariate, study, term, est) <span class="sc">%&gt;%</span></span>
<span id="cb211-44"><a href="runmodels.html#cb211-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Outcome&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;est&quot;</span>) </span>
<span id="cb211-45"><a href="runmodels.html#cb211-45" aria-hidden="true" tabindex="-1"></a>nested_mega_tab</span></code></pre></div>
<pre><code>## # A tibble: 1,521 × 16
##    Trait Moderator Covariate      study    term        Incident …¹ Braak…² CERAD Lewy …³ Gross…⁴ Gross…⁵ Cereb…⁶ Cereb…⁷ Arter…⁸ Hippo…⁹ TDP-4…˟
##    &lt;fct&gt; &lt;fct&gt;     &lt;fct&gt;          &lt;fct&gt;    &lt;fct&gt;       &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1 E     None      Unadjusted     ROS      Personality 0.95&lt;br&gt;[0… 0.04&lt;b… -0.0… 1.04&lt;b… &lt;stron… 0.95&lt;b… -0.00&lt;… 0.01&lt;b… -0.01&lt;… 0.96&lt;b… 1.01&lt;b…
##  2 E     None      Unadjusted     Rush-MAP Personality 0.95&lt;br&gt;[0… 0.02&lt;b… &lt;str… 0.99&lt;b… 0.95&lt;b… 0.98&lt;b… -0.02&lt;… 0.01&lt;b… -0.01&lt;… 0.99&lt;b… 1.04&lt;b…
##  3 E     None      Unadjusted     EAS      Personality 0.93&lt;br&gt;[0… 0.001&lt;… &lt;NA&gt;  0.99&lt;b… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    0.99&lt;b… &lt;NA&gt;   
##  4 E     None      Unadjusted     WUSM-MAP Personality &lt;strong&gt;0.… &lt;stron… -0.0… 1.04&lt;b… &lt;NA&gt;    0.96&lt;b… 0.01&lt;b… -0.01&lt;… -0.01&lt;… 0.92&lt;b… 0.94&lt;b…
##  5 E     None      Unadjusted     SATSA    Personality 0.93&lt;br&gt;[0… &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
##  6 E     None      Unadjusted     HRS      Personality &lt;strong&gt;0.… &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
##  7 E     None      Unadjusted     LISS     Personality 0.91&lt;br&gt;[0… &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
##  8 E     None      Unadjusted     GSOEP    Personality &lt;strong&gt;0.… &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
##  9 E     None      Unadjusted     Overall  Personality 0.93&lt;br&gt;[0… -0.01&lt;… -0.0… 1.02&lt;b… 0.95&lt;b… 0.96&lt;b… -0.01&lt;… 0.02&lt;b… -0.01&lt;… 0.97&lt;b… 1.00&lt;b…
## 10 E     None      Fully Adjusted EAS      Personality 0.83&lt;br&gt;[0… &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
## # … with 1,511 more rows, and abbreviated variable names ¹​`Incident Dementia Diagnosis`, ²​`Braak Stage`, ³​`Lewy Body Disease`,
## #   ⁴​`Gross Cerebral Infarcts`, ⁵​`Gross Cerebral Microinfarcts`, ⁶​`Cerebral Atherosclerosis`, ⁷​`Cerebral Amyloid Angiopathy`,
## #   ⁸​Arteriolosclerosis, ⁹​`Hippocampal Sclerosis`, ˟​`TDP-43`</code></pre>
<p>Now that we’ve formatted the values, we can group by moderators and save results as separate tables. Even though additional information could be included given that we have one outcome, we’ll stick with this split because it will make it easier for those using this tutorial who multiple traits, outcomes, covariates, and moderators.</p>
<div id="fixed-effects-1" class="section level4 hasAnchor" number="3.4.1.1">
<h4><span class="header-section-number">3.4.1.1</span> Fixed Effects<a href="runmodels.html#fixed-effects-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>First, here’s the overall estimates and credible intervals, split by moderators. These show the estimates across all different covariate sets.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="runmodels.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="do">## table function </span></span>
<span id="cb213-2"><a href="runmodels.html#cb213-2" aria-hidden="true" tabindex="-1"></a>ipd_tab_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, moder){</span>
<span id="cb213-3"><a href="runmodels.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  md <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(moder, moders<span class="sc">$</span>long_name, moders<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb213-4"><a href="runmodels.html#cb213-4" aria-hidden="true" tabindex="-1"></a>  rs <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb213-5"><a href="runmodels.html#cb213-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name, traits<span class="sc">$</span>long_name)) <span class="sc">%&gt;%</span></span>
<span id="cb213-6"><a href="runmodels.html#cb213-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Trait) <span class="sc">%&gt;%</span> <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb213-7"><a href="runmodels.html#cb213-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">end =</span> <span class="fu">cumsum</span>(n), <span class="at">start =</span> <span class="fu">lag</span>(end) <span class="sc">+</span> <span class="dv">1</span>, <span class="at">start =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(start), <span class="dv">1</span>, start))</span>
<span id="cb213-8"><a href="runmodels.html#cb213-8" aria-hidden="true" tabindex="-1"></a>  cs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">12</span>)</span>
<span id="cb213-9"><a href="runmodels.html#cb213-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(cs) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;&lt;strong&gt;&quot;</span>, outcomes<span class="sc">$</span>long_name, <span class="st">&quot;&lt;/strong&gt;&quot;</span>))</span>
<span id="cb213-10"><a href="runmodels.html#cb213-10" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(<span class="fu">colnames</span>(d)[<span class="fu">colnames</span>(d) <span class="sc">%in%</span> outcomes<span class="sc">$</span>long_name], outcomes<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>colnm, <span class="at">warn_missing =</span> F)</span>
<span id="cb213-11"><a href="runmodels.html#cb213-11" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Covariates&quot;</span>, cln)</span>
<span id="cb213-12"><a href="runmodels.html#cb213-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># cln &lt;- if(length(unique(d$term)) == 1) c(&quot;Covariates&quot;, rep(&quot;&lt;em&gt;b&lt;/em&gt; [CI]&quot;, 9)) else c(&quot;Covariates&quot;, &quot;Term&quot;, rep(&quot;&lt;em&gt;b&lt;/em&gt; [CI]&quot;, 9))</span></span>
<span id="cb213-13"><a href="runmodels.html#cb213-13" aria-hidden="true" tabindex="-1"></a>  al <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;r&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="dv">11</span>)) </span>
<span id="cb213-14"><a href="runmodels.html#cb213-14" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>term)</span>
<span id="cb213-15"><a href="runmodels.html#cb213-15" aria-hidden="true" tabindex="-1"></a>  fn <span class="ot">&lt;-</span> <span class="fu">paste</span>(covars<span class="sc">$</span>desc, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb213-16"><a href="runmodels.html#cb213-16" aria-hidden="true" tabindex="-1"></a>  cap <span class="ot">&lt;-</span> <span class="cf">if</span>(md <span class="sc">==</span> <span class="st">&quot;none&quot;</span>) <span class="st">&quot;&lt;strong&gt;Table X&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Overall Effects of Personality-Dementia Diagnosis and Neuropathology Associations&lt;/em&gt;&quot;</span> <span class="cf">else</span> <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;Table X&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Overall %s Moderation of Personality-Dementia Diagnosis and Neuropathology Associations&lt;/em&gt;&quot;</span>, md)</span>
<span id="cb213-17"><a href="runmodels.html#cb213-17" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb213-18"><a href="runmodels.html#cb213-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Trait) <span class="sc">%&gt;%</span></span>
<span id="cb213-19"><a href="runmodels.html#cb213-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Trait) <span class="sc">%&gt;%</span></span>
<span id="cb213-20"><a href="runmodels.html#cb213-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb213-21"><a href="runmodels.html#cb213-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kable(., &quot;latex&quot;</span></span>
<span id="cb213-22"><a href="runmodels.html#cb213-22" aria-hidden="true" tabindex="-1"></a>          , <span class="at">booktabs =</span> T</span>
<span id="cb213-23"><a href="runmodels.html#cb213-23" aria-hidden="true" tabindex="-1"></a>          , <span class="at">escape =</span> F</span>
<span id="cb213-24"><a href="runmodels.html#cb213-24" aria-hidden="true" tabindex="-1"></a>          , <span class="at">col.names =</span> cln</span>
<span id="cb213-25"><a href="runmodels.html#cb213-25" aria-hidden="true" tabindex="-1"></a>          , <span class="at">align =</span> al</span>
<span id="cb213-26"><a href="runmodels.html#cb213-26" aria-hidden="true" tabindex="-1"></a>          , <span class="at">caption =</span> cap</span>
<span id="cb213-27"><a href="runmodels.html#cb213-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb213-28"><a href="runmodels.html#cb213-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb213-29"><a href="runmodels.html#cb213-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_above</span>(cs, <span class="at">escape =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb213-30"><a href="runmodels.html#cb213-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">footnote</span>(fn)</span>
<span id="cb213-31"><a href="runmodels.html#cb213-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rs)) {</span>
<span id="cb213-32"><a href="runmodels.html#cb213-32" aria-hidden="true" tabindex="-1"></a>    tab <span class="ot">&lt;-</span> tab <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(rs<span class="sc">$</span>Trait[i], rs<span class="sc">$</span>start[i], rs<span class="sc">$</span>end[i])</span>
<span id="cb213-33"><a href="runmodels.html#cb213-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb213-34"><a href="runmodels.html#cb213-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save_kable</span>(tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/overall/%s.html&quot;</span></span>
<span id="cb213-35"><a href="runmodels.html#cb213-35" aria-hidden="true" tabindex="-1"></a>                                 , local_path, md))</span>
<span id="cb213-36"><a href="runmodels.html#cb213-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tab)</span>
<span id="cb213-37"><a href="runmodels.html#cb213-37" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb213-38"><a href="runmodels.html#cb213-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-39"><a href="runmodels.html#cb213-39" aria-hidden="true" tabindex="-1"></a>ipd_fx_tab <span class="ot">&lt;-</span> nested_mega_tab <span class="sc">%&gt;%</span></span>
<span id="cb213-40"><a href="runmodels.html#cb213-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb213-41"><a href="runmodels.html#cb213-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>study) <span class="sc">%&gt;%</span></span>
<span id="cb213-42"><a href="runmodels.html#cb213-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Moderator) <span class="sc">%&gt;%</span></span>
<span id="cb213-43"><a href="runmodels.html#cb213-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb213-44"><a href="runmodels.html#cb213-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb213-45"><a href="runmodels.html#cb213-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tab =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Moderator), ipd_tab_fun))</span>
<span id="cb213-46"><a href="runmodels.html#cb213-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-47"><a href="runmodels.html#cb213-47" aria-hidden="true" tabindex="-1"></a><span class="co"># save(ipd2b_reg_tab, ipd2b_res, file = sprintf(&quot;%s/manuscript/results/ipd2b_fx_tab.RData&quot;, res_path))</span></span>
<span id="cb213-48"><a href="runmodels.html#cb213-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-49"><a href="runmodels.html#cb213-49" aria-hidden="true" tabindex="-1"></a>(ipd_fx_tab <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Moderator <span class="sc">==</span> <span class="st">&quot;None&quot;</span>))<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>
<span id="tab:unnamed-chunk-15">Table 3.1: </span><strong>Table X</strong><br><em>Overall Effects of Personality-Dementia Diagnosis and Neuropathology Associations</em>
</caption>
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Incident Dementia Diagnosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Braak Stage</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>CERAD</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Lewy Body Disease</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Infarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Microinfarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Atherosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Amyloid Angiopathy</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Arteriolosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Hippocampal Sclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>TDP-43</strong>
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Covariates
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
</tr>
</thead>
<tbody>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Extraversion</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
0.93<br>[0.87, 1.00]
</td>
<td style="text-align:center;">
-0.01<br>[-0.14, 0.13]
</td>
<td style="text-align:center;">
-0.03<br>[-0.11, 0.05]
</td>
<td style="text-align:center;">
1.02<br>[0.90, 1.15]
</td>
<td style="text-align:center;">
0.95<br>[0.79, 1.26]
</td>
<td style="text-align:center;">
0.96<br>[0.84, 1.14]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.05]
</td>
<td style="text-align:center;">
0.02<br>[-0.05, 0.15]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.05]
</td>
<td style="text-align:center;">
0.97<br>[0.83, 1.11]
</td>
<td style="text-align:center;">
1.00<br>[0.82, 1.17]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.00<br>[0.58, 1.86]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.97<br>[0.93, 1.02]
</td>
<td style="text-align:center;">
-0.000<br>[-0.13, 0.14]
</td>
<td style="text-align:center;">
-0.04<br>[-0.10, 0.05]
</td>
<td style="text-align:center;">
1.01<br>[0.88, 1.12]
</td>
<td style="text-align:center;">
0.95<br>[0.76, 1.34]
</td>
<td style="text-align:center;">
0.97<br>[0.83, 1.13]
</td>
<td style="text-align:center;">
0.00<br>[-0.06, 0.08]
</td>
<td style="text-align:center;">
0.02<br>[-0.04, 0.07]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.07]
</td>
<td style="text-align:center;">
0.97<br>[0.83, 1.10]
</td>
<td style="text-align:center;">
1.01<br>[0.80, 1.18]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.97<br>[0.93, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.05<br>[0.68, 2.07]
</td>
<td style="text-align:center;">
0.98<br>[0.80, 1.20]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
0.99<br>[0.93, 1.05]
</td>
<td style="text-align:center;">
-0.01<br>[-0.16, 0.13]
</td>
<td style="text-align:center;">
-0.03<br>[-0.14, 0.05]
</td>
<td style="text-align:center;">
1.00<br>[0.82, 1.12]
</td>
<td style="text-align:center;">
0.97<br>[0.72, 1.33]
</td>
<td style="text-align:center;">
0.97<br>[0.82, 1.22]
</td>
<td style="text-align:center;">
0.00<br>[-0.05, 0.06]
</td>
<td style="text-align:center;">
0.02<br>[-0.07, 0.12]
</td>
<td style="text-align:center;">
-0.01<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
0.96<br>[0.74, 1.14]
</td>
<td style="text-align:center;">
1.02<br>[0.85, 1.22]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.10<br>[-1.08, 0.78]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.02<br>[0.18, 7.57]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.24<br>[0.35, 7.66]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.13<br>[-1.13, 1.39]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.00<br>[0.19, 6.68]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.42<br>[0.33, 6.43]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Agreeableness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
1.00<br>[0.92, 1.11]
</td>
<td style="text-align:center;">
0.000<br>[-0.15, 0.21]
</td>
<td style="text-align:center;">
-0.01<br>[-0.20, 0.21]
</td>
<td style="text-align:center;">
1.04<br>[0.75, 1.75]
</td>
<td style="text-align:center;">
0.91<br>[0.32, 2.14]
</td>
<td style="text-align:center;">
1.03<br>[0.73, 1.46]
</td>
<td style="text-align:center;">
-0.02<br>[-0.36, 0.33]
</td>
<td style="text-align:center;">
0.01<br>[-0.16, 0.19]
</td>
<td style="text-align:center;">
0.000<br>[-0.17, 0.19]
</td>
<td style="text-align:center;">
1.00<br>[0.68, 1.48]
</td>
<td style="text-align:center;">
0.97<br>[0.68, 1.36]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.04<br>[0.73, 1.55]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.97<br>[0.92, 1.03]
</td>
<td style="text-align:center;">
-0.02<br>[-0.15, 0.10]
</td>
<td style="text-align:center;">
-0.02<br>[-0.30, 0.15]
</td>
<td style="text-align:center;">
0.99<br>[0.83, 1.23]
</td>
<td style="text-align:center;">
1.08<br>[0.40, 2.48]
</td>
<td style="text-align:center;">
1.07<br>[0.77, 1.52]
</td>
<td style="text-align:center;">
-0.02<br>[-0.19, 0.16]
</td>
<td style="text-align:center;">
0.02<br>[-0.21, 0.25]
</td>
<td style="text-align:center;">
0.02<br>[-0.19, 0.30]
</td>
<td style="text-align:center;">
1.02<br>[0.66, 1.75]
</td>
<td style="text-align:center;">
0.99<br>[0.74, 1.44]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.97<br>[0.92, 1.03]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.03<br>[0.42, 3.44]
</td>
<td style="text-align:center;">
1.13<br>[0.72, 1.80]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
0.99<br>[0.90, 1.10]
</td>
<td style="text-align:center;">
-0.02<br>[-0.16, 0.10]
</td>
<td style="text-align:center;">
-0.06<br>[-0.32, 0.18]
</td>
<td style="text-align:center;">
0.98<br>[0.82, 1.23]
</td>
<td style="text-align:center;">
1.03<br>[0.42, 2.55]
</td>
<td style="text-align:center;">
1.07<br>[0.65, 1.58]
</td>
<td style="text-align:center;">
-0.01<br>[-0.23, 0.24]
</td>
<td style="text-align:center;">
-0.01<br>[-0.26, 0.21]
</td>
<td style="text-align:center;">
0.04<br>[-0.16, 0.32]
</td>
<td style="text-align:center;">
1.01<br>[0.63, 1.78]
</td>
<td style="text-align:center;">
0.98<br>[0.65, 1.33]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.00<br>[-1.00, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.29<br>[0.84, 168.03]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.20<br>[0.32, 6.05]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.01<br>[-1.02, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.65<br>[0.88, 250.91]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.43<br>[0.39, 7.70]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Conscientiousness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
<strong>0.87<br>[0.83, 0.93]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.11, 0.02]
</td>
<td style="text-align:center;">
0.03<br>[-0.07, 0.12]
</td>
<td style="text-align:center;">
0.97<br>[0.82, 1.14]
</td>
<td style="text-align:center;">
1.01<br>[0.81, 1.45]
</td>
<td style="text-align:center;">
1.03<br>[0.84, 1.29]
</td>
<td style="text-align:center;">
-0.01<br>[-0.06, 0.04]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.06]
</td>
<td style="text-align:center;">
-0.02<br>[-0.09, 0.05]
</td>
<td style="text-align:center;">
1.04<br>[0.86, 1.27]
</td>
<td style="text-align:center;">
1.00<br>[0.76, 1.16]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
0.96<br>[0.65, 1.47]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.85, 0.92]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.11, 0.02]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.12]
</td>
<td style="text-align:center;">
0.95<br>[0.67, 1.22]
</td>
<td style="text-align:center;">
1.02<br>[0.83, 1.28]
</td>
<td style="text-align:center;">
1.06<br>[0.84, 1.37]
</td>
<td style="text-align:center;">
-0.01<br>[-0.12, 0.05]
</td>
<td style="text-align:center;">
-0.03<br>[-0.16, 0.07]
</td>
<td style="text-align:center;">
-0.02<br>[-0.11, 0.07]
</td>
<td style="text-align:center;">
1.06<br>[0.88, 1.30]
</td>
<td style="text-align:center;">
1.02<br>[0.85, 1.19]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.84, 0.91]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.12<br>[0.75, 2.12]
</td>
<td style="text-align:center;">
1.08<br>[0.86, 1.42]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
<strong>0.91<br>[0.86, 0.95]</strong>
</td>
<td style="text-align:center;">
-0.05<br>[-0.12, 0.01]
</td>
<td style="text-align:center;">
0.03<br>[-0.09, 0.12]
</td>
<td style="text-align:center;">
0.97<br>[0.84, 1.11]
</td>
<td style="text-align:center;">
1.07<br>[0.76, 1.46]
</td>
<td style="text-align:center;">
1.04<br>[0.79, 1.38]
</td>
<td style="text-align:center;">
-0.001<br>[-0.06, 0.07]
</td>
<td style="text-align:center;">
0.01<br>[-0.06, 0.12]
</td>
<td style="text-align:center;">
-0.04<br>[-0.10, 0.04]
</td>
<td style="text-align:center;">
1.06<br>[0.85, 1.30]
</td>
<td style="text-align:center;">
1.01<br>[0.84, 1.18]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.20<br>[-1.37, 0.95]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.14<br>[0.42, 22.67]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.79<br>[0.46, 58.48]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.14<br>[-1.09, 0.98]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.43<br>[0.44, 21.69]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.09<br>[0.46, 13.45]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Neuroticism</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
<strong>1.11<br>[1.05, 1.17]</strong>
</td>
<td style="text-align:center;">
0.02<br>[-0.10, 0.11]
</td>
<td style="text-align:center;">
-0.001<br>[-0.09, 0.10]
</td>
<td style="text-align:center;">
1.00<br>[0.86, 1.16]
</td>
<td style="text-align:center;">
0.98<br>[0.81, 1.26]
</td>
<td style="text-align:center;">
0.99<br>[0.86, 1.13]
</td>
<td style="text-align:center;">
0.01<br>[-0.04, 0.06]
</td>
<td style="text-align:center;">
0.02<br>[-0.06, 0.10]
</td>
<td style="text-align:center;">
0.01<br>[-0.08, 0.10]
</td>
<td style="text-align:center;">
1.01<br>[0.85, 1.16]
</td>
<td style="text-align:center;">
1.03<br>[0.88, 1.20]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.60<br>[0.67, 5.76]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.06, 1.14]</strong>
</td>
<td style="text-align:center;">
0.04<br>[-0.09, 0.21]
</td>
<td style="text-align:center;">
-0.03<br>[-0.18, 0.07]
</td>
<td style="text-align:center;">
1.01<br>[0.86, 1.16]
</td>
<td style="text-align:center;">
0.96<br>[0.52, 1.35]
</td>
<td style="text-align:center;">
0.98<br>[0.86, 1.13]
</td>
<td style="text-align:center;">
0.01<br>[-0.05, 0.06]
</td>
<td style="text-align:center;">
-0.00<br>[-0.10, 0.07]
</td>
<td style="text-align:center;">
0.01<br>[-0.07, 0.09]
</td>
<td style="text-align:center;">
1.02<br>[0.87, 1.20]
</td>
<td style="text-align:center;">
1.03<br>[0.88, 1.19]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.05, 1.13]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.04<br>[0.61, 2.24]
</td>
<td style="text-align:center;">
0.97<br>[0.81, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.03, 1.13]</strong>
</td>
<td style="text-align:center;">
-0.18<br>[-0.79, 0.11]
</td>
<td style="text-align:center;">
-0.01<br>[-0.12, 0.09]
</td>
<td style="text-align:center;">
1.00<br>[0.86, 1.15]
</td>
<td style="text-align:center;">
0.97<br>[0.70, 1.32]
</td>
<td style="text-align:center;">
0.99<br>[0.85, 1.21]
</td>
<td style="text-align:center;">
0.01<br>[-0.06, 0.08]
</td>
<td style="text-align:center;">
0.001<br>[-0.07, 0.07]
</td>
<td style="text-align:center;">
0.00<br>[-0.07, 0.08]
</td>
<td style="text-align:center;">
1.01<br>[0.84, 1.17]
</td>
<td style="text-align:center;">
1.02<br>[0.88, 1.18]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.12<br>[-1.07, 0.80]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.77<br>[0.05, 10.83]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.74<br>[0.33, 34.37]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.14<br>[-1.37, 0.77]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.84<br>[0.09, 10.61]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.10<br>[0.34, 4.99]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Openness to Experience</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
<strong>0.87<br>[0.78, 0.97]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.24, 0.06]
</td>
<td style="text-align:center;">
-0.03<br>[-0.20, 0.13]
</td>
<td style="text-align:center;">
1.02<br>[0.86, 1.20]
</td>
<td style="text-align:center;">
0.94<br>[0.47, 2.04]
</td>
<td style="text-align:center;">
0.90<br>[0.52, 1.34]
</td>
<td style="text-align:center;">
-0.03<br>[-0.32, 0.25]
</td>
<td style="text-align:center;">
-0.02<br>[-0.21, 0.12]
</td>
<td style="text-align:center;">
-0.07<br>[-0.40, 0.18]
</td>
<td style="text-align:center;">
0.98<br>[0.77, 1.22]
</td>
<td style="text-align:center;">
1.00<br>[0.74, 1.35]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
0.96<br>[0.50, 2.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.95<br>[0.90, 1.02]
</td>
<td style="text-align:center;">
-0.01<br>[-0.10, 0.10]
</td>
<td style="text-align:center;">
-0.08<br>[-0.41, 0.15]
</td>
<td style="text-align:center;">
1.03<br>[0.83, 1.32]
</td>
<td style="text-align:center;">
0.90<br>[0.42, 2.13]
</td>
<td style="text-align:center;">
0.95<br>[0.69, 1.53]
</td>
<td style="text-align:center;">
-0.05<br>[-0.21, 0.16]
</td>
<td style="text-align:center;">
-0.03<br>[-0.36, 0.20]
</td>
<td style="text-align:center;">
-0.05<br>[-0.40, 0.26]
</td>
<td style="text-align:center;">
1.02<br>[0.78, 1.30]
</td>
<td style="text-align:center;">
1.02<br>[0.78, 1.32]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.95<br>[0.90, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.05<br>[0.35, 3.13]
</td>
<td style="text-align:center;">
0.94<br>[0.63, 1.48]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
0.97<br>[0.86, 1.06]
</td>
<td style="text-align:center;">
0.000<br>[-0.09, 0.08]
</td>
<td style="text-align:center;">
-0.03<br>[-0.23, 0.19]
</td>
<td style="text-align:center;">
1.03<br>[0.86, 1.32]
</td>
<td style="text-align:center;">
1.03<br>[0.46, 2.68]
</td>
<td style="text-align:center;">
0.96<br>[0.68, 1.34]
</td>
<td style="text-align:center;">
-0.02<br>[-0.18, 0.15]
</td>
<td style="text-align:center;">
-0.02<br>[-0.18, 0.18]
</td>
<td style="text-align:center;">
-0.03<br>[-0.29, 0.27]
</td>
<td style="text-align:center;">
1.02<br>[0.77, 1.32]
</td>
<td style="text-align:center;">
1.03<br>[0.73, 1.67]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.11<br>[-1.23, 0.79]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.28<br>[0.98, 238.12]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.94<br>[0.17, 5.92]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
(With Dementia
Diagnosis)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.22<br>[-1.77, 0.81]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.22<br>[1.00, 196.99]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.98<br>[0.19, 7.35]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Positive Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
0.92<br>[0.81, 1.05]
</td>
<td style="text-align:center;">
0.00<br>[-0.17, 0.25]
</td>
<td style="text-align:center;">
0.00<br>[-0.22, 0.21]
</td>
<td style="text-align:center;">
0.97<br>[0.70, 1.28]
</td>
<td style="text-align:center;">
0.97<br>[0.68, 1.35]
</td>
<td style="text-align:center;">
1.01<br>[0.73, 1.37]
</td>
<td style="text-align:center;">
0.01<br>[-0.19, 0.15]
</td>
<td style="text-align:center;">
0.03<br>[-0.17, 0.26]
</td>
<td style="text-align:center;">
-0.01<br>[-0.21, 0.24]
</td>
<td style="text-align:center;">
1.11<br>[0.77, 1.76]
</td>
<td style="text-align:center;">
1.19<br>[0.78, 2.30]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.10<br>[0.51, 2.83]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.93<br>[0.88, 1.00]
</td>
<td style="text-align:center;">
-0.03<br>[-0.31, 0.17]
</td>
<td style="text-align:center;">
0.01<br>[-0.16, 0.16]
</td>
<td style="text-align:center;">
0.89<br>[0.61, 1.37]
</td>
<td style="text-align:center;">
1.03<br>[0.80, 1.33]
</td>
<td style="text-align:center;">
1.04<br>[0.76, 1.35]
</td>
<td style="text-align:center;">
-0.03<br>[-0.29, 0.09]
</td>
<td style="text-align:center;">
0.01<br>[-0.24, 0.20]
</td>
<td style="text-align:center;">
0.07<br>[-0.15, 0.33]
</td>
<td style="text-align:center;">
1.08<br>[0.74, 1.64]
</td>
<td style="text-align:center;">
1.04<br>[0.66, 1.53]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>0.93<br>[0.87, 0.99]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.98<br>[0.63, 1.44]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
0.94<br>[0.75, 1.12]
</td>
<td style="text-align:center;">
-0.000<br>[-0.23, 0.33]
</td>
<td style="text-align:center;">
0.00<br>[-0.24, 0.19]
</td>
<td style="text-align:center;">
0.98<br>[0.74, 1.34]
</td>
<td style="text-align:center;">
1.06<br>[0.81, 1.47]
</td>
<td style="text-align:center;">
1.01<br>[0.75, 1.29]
</td>
<td style="text-align:center;">
0.01<br>[-0.21, 0.27]
</td>
<td style="text-align:center;">
0.02<br>[-0.17, 0.20]
</td>
<td style="text-align:center;">
-0.03<br>[-0.28, 0.15]
</td>
<td style="text-align:center;">
1.10<br>[0.76, 1.68]
</td>
<td style="text-align:center;">
1.02<br>[0.69, 1.42]
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Negative Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.00, 1.20]</strong>
</td>
<td style="text-align:center;">
-0.05<br>[-1.49, 0.99]
</td>
<td style="text-align:center;">
-0.06<br>[-1.13, 0.97]
</td>
<td style="text-align:center;">
0.98<br>[0.26, 3.32]
</td>
<td style="text-align:center;">
0.94<br>[0.26, 3.05]
</td>
<td style="text-align:center;">
1.05<br>[0.29, 3.92]
</td>
<td style="text-align:center;">
0.00<br>[-1.09, 1.19]
</td>
<td style="text-align:center;">
-0.09<br>[-0.91, 0.82]
</td>
<td style="text-align:center;">
0.05<br>[-0.95, 0.97]
</td>
<td style="text-align:center;">
0.94<br>[0.22, 3.84]
</td>
<td style="text-align:center;">
1.11<br>[0.29, 4.16]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.09<br>[0.36, 4.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>1.14<br>[1.02, 1.26]</strong>
</td>
<td style="text-align:center;">
-0.03<br>[-1.23, 1.15]
</td>
<td style="text-align:center;">
-0.14<br>[-1.42, 1.29]
</td>
<td style="text-align:center;">
0.98<br>[0.21, 4.67]
</td>
<td style="text-align:center;">
1.07<br>[0.27, 4.56]
</td>
<td style="text-align:center;">
1.03<br>[0.17, 4.73]
</td>
<td style="text-align:center;">
-0.03<br>[-1.26, 1.08]
</td>
<td style="text-align:center;">
0.19<br>[-1.35, 1.71]
</td>
<td style="text-align:center;">
-0.02<br>[-1.30, 1.04]
</td>
<td style="text-align:center;">
0.96<br>[0.21, 3.79]
</td>
<td style="text-align:center;">
0.95<br>[0.27, 4.88]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
<strong>1.14<br>[1.01, 1.28]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.01<br>[0.28, 3.19]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
1.05<br>[0.73, 1.24]
</td>
<td style="text-align:center;">
-0.10<br>[-1.51, 1.03]
</td>
<td style="text-align:center;">
-0.10<br>[-1.31, 0.95]
</td>
<td style="text-align:center;">
1.05<br>[0.28, 6.00]
</td>
<td style="text-align:center;">
0.81<br>[0.14, 3.93]
</td>
<td style="text-align:center;">
1.12<br>[0.31, 15.58]
</td>
<td style="text-align:center;">
0.04<br>[-1.31, 1.10]
</td>
<td style="text-align:center;">
-0.72<br>[-3.13, 1.06]
</td>
<td style="text-align:center;">
-0.04<br>[-1.55, 1.33]
</td>
<td style="text-align:center;">
1.02<br>[0.30, 4.10]
</td>
<td style="text-align:center;">
0.95<br>[0.26, 5.63]
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Satisfaction with Life</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
0.92<br>[0.80, 1.05]
</td>
<td style="text-align:center;">
-0.01<br>[-0.22, 0.18]
</td>
<td style="text-align:center;">
-0.07<br>[-0.29, 0.18]
</td>
<td style="text-align:center;">
1.04<br>[0.77, 1.41]
</td>
<td style="text-align:center;">
0.99<br>[0.72, 1.31]
</td>
<td style="text-align:center;">
1.06<br>[0.72, 1.67]
</td>
<td style="text-align:center;">
0.01<br>[-0.13, 0.13]
</td>
<td style="text-align:center;">
0.02<br>[-0.14, 0.19]
</td>
<td style="text-align:center;">
0.000<br>[-0.24, 0.24]
</td>
<td style="text-align:center;">
0.87<br>[0.38, 1.71]
</td>
<td style="text-align:center;">
1.07<br>[0.83, 1.47]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Fully Adjusted
</td>
<td style="text-align:center;">
1.05<br>[0.37, 2.25]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.93<br>[0.84, 1.03]
</td>
<td style="text-align:center;">
0.000<br>[-0.33, 0.26]
</td>
<td style="text-align:center;">
0.01<br>[-0.40, 0.53]
</td>
<td style="text-align:center;">
1.07<br>[0.79, 1.49]
</td>
<td style="text-align:center;">
0.98<br>[0.72, 1.36]
</td>
<td style="text-align:center;">
1.08<br>[0.73, 1.71]
</td>
<td style="text-align:center;">
-0.01<br>[-0.23, 0.18]
</td>
<td style="text-align:center;">
0.01<br>[-0.17, 0.23]
</td>
<td style="text-align:center;">
-0.02<br>[-0.20, 0.17]
</td>
<td style="text-align:center;">
0.91<br>[0.34, 2.26]
</td>
<td style="text-align:center;">
1.10<br>[0.78, 1.53]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
0.92<br>[0.83, 1.01]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.05<br>[0.64, 1.60]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
0.94<br>[0.75, 1.13]
</td>
<td style="text-align:center;">
0.00<br>[-0.21, 0.23]
</td>
<td style="text-align:center;">
0.00<br>[-0.27, 0.27]
</td>
<td style="text-align:center;">
1.06<br>[0.68, 1.64]
</td>
<td style="text-align:center;">
0.99<br>[0.69, 1.52]
</td>
<td style="text-align:center;">
1.09<br>[0.76, 1.59]
</td>
<td style="text-align:center;">
0.09<br>[-0.08, 0.29]
</td>
<td style="text-align:center;">
0.00<br>[-0.22, 0.23]
</td>
<td style="text-align:center;">
-0.00<br>[-0.20, 0.20]
</td>
<td style="text-align:center;">
0.89<br>[0.36, 2.31]
</td>
<td style="text-align:center;">
1.11<br>[0.85, 1.50]
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Unadjusted indicates no covariates were included. Fully adjusted models include age, gender, education, smoking status, alcohol use, cognitive ability, race, chronic conditions, BMI, and self-rated health. Shared covariates adjusted models Include age, gender, education, smoking status, alcohol use. Standard covariates adjusted models include age, gender, and education. All but one covariate adjusted models include age, gender, education, cognitive ability, and chronic conditions. Shared covariates with dementia adjusted models Include age, gender, education, smoking status, alcohol use, and dementia diagnosis. Standard covariates with dementia adjusted models include age, gender, education, and incident dementia diagnosis.
</td>
</tr>
</tfoot>
</table>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="runmodels.html#cb214-1" aria-hidden="true" tabindex="-1"></a>(ipd_fx_tab <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Moderator <span class="sc">==</span> <span class="st">&quot;Dementia Diagnosis&quot;</span>))<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>
<span id="tab:unnamed-chunk-15">Table 3.1: </span><strong>Table X</strong><br><em>Overall dementia Moderation of Personality-Dementia Diagnosis and Neuropathology Associations</em>
</caption>
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Incident Dementia Diagnosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Braak Stage</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>CERAD</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Lewy Body Disease</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Infarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Microinfarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Atherosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Amyloid Angiopathy</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Arteriolosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Hippocampal Sclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>TDP-43</strong>
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Covariates
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
</tr>
</thead>
<tbody>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Extraversion</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.06<br>[-0.05, 0.17]
</td>
<td style="text-align:center;">
-0.10<br>[-0.57, 0.30]
</td>
<td style="text-align:center;">
1.03<br>[0.87, 1.22]
</td>
<td style="text-align:center;">
1.05<br>[0.65, 2.05]
</td>
<td style="text-align:center;">
1.10<br>[0.90, 1.38]
</td>
<td style="text-align:center;">
0.02<br>[-0.04, 0.09]
</td>
<td style="text-align:center;">
0.01<br>[-0.09, 0.11]
</td>
<td style="text-align:center;">
0.01<br>[-0.10, 0.11]
</td>
<td style="text-align:center;">
0.96<br>[0.71, 1.32]
</td>
<td style="text-align:center;">
1.02<br>[0.75, 1.38]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.06<br>[-0.08, 0.19]
</td>
<td style="text-align:center;">
0.04<br>[-0.27, 0.35]
</td>
<td style="text-align:center;">
1.02<br>[0.86, 1.22]
</td>
<td style="text-align:center;">
1.07<br>[0.59, 2.17]
</td>
<td style="text-align:center;">
1.16<br>[0.93, 1.79]
</td>
<td style="text-align:center;">
0.02<br>[-0.04, 0.08]
</td>
<td style="text-align:center;">
0.03<br>[-0.05, 0.12]
</td>
<td style="text-align:center;">
0.03<br>[-0.07, 0.26]
</td>
<td style="text-align:center;">
1.03<br>[0.73, 1.57]
</td>
<td style="text-align:center;">
1.01<br>[0.72, 1.33]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.07<br>[-0.09, 0.26]
</td>
<td style="text-align:center;">
0.04<br>[-0.28, 0.37]
</td>
<td style="text-align:center;">
1.04<br>[0.86, 1.24]
</td>
<td style="text-align:center;">
1.04<br>[0.61, 2.09]
</td>
<td style="text-align:center;">
1.12<br>[0.84, 1.44]
</td>
<td style="text-align:center;">
0.02<br>[-0.07, 0.15]
</td>
<td style="text-align:center;">
0.02<br>[-0.08, 0.12]
</td>
<td style="text-align:center;">
0.01<br>[-0.10, 0.13]
</td>
<td style="text-align:center;">
0.94<br>[0.70, 1.28]
</td>
<td style="text-align:center;">
1.02<br>[0.83, 1.32]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.06<br>[-0.07, 0.18]
</td>
<td style="text-align:center;">
0.04<br>[-0.26, 0.36]
</td>
<td style="text-align:center;">
1.02<br>[0.86, 1.23]
</td>
<td style="text-align:center;">
1.10<br>[0.67, 2.35]
</td>
<td style="text-align:center;">
1.15<br>[0.92, 1.49]
</td>
<td style="text-align:center;">
0.03<br>[-0.05, 0.10]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.13]
</td>
<td style="text-align:center;">
-0.00<br>[-0.30, 0.19]
</td>
<td style="text-align:center;">
1.01<br>[0.73, 1.41]
</td>
<td style="text-align:center;">
1.01<br>[0.76, 1.36]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Agreeableness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
26.79<br>[0.07, 34607206.55]
</td>
<td style="text-align:center;">
0.06<br>[-0.18, 0.27]
</td>
<td style="text-align:center;">
-0.03<br>[-0.65, 0.63]
</td>
<td style="text-align:center;">
1.13<br>[0.76, 1.79]
</td>
<td style="text-align:center;">
1.09<br>[0.34, 4.27]
</td>
<td style="text-align:center;">
0.96<br>[0.59, 2.10]
</td>
<td style="text-align:center;">
0.01<br>[-0.29, 0.36]
</td>
<td style="text-align:center;">
0.01<br>[-0.39, 0.51]
</td>
<td style="text-align:center;">
-0.02<br>[-0.44, 0.40]
</td>
<td style="text-align:center;">
1.01<br>[0.51, 2.05]
</td>
<td style="text-align:center;">
1.30<br>[0.57, 6.23]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.01<br>[-0.28, 0.20]
</td>
<td style="text-align:center;">
-0.01<br>[-0.59, 0.55]
</td>
<td style="text-align:center;">
1.09<br>[0.70, 1.83]
</td>
<td style="text-align:center;">
1.07<br>[0.31, 4.83]
</td>
<td style="text-align:center;">
0.95<br>[0.47, 2.11]
</td>
<td style="text-align:center;">
-0.03<br>[-0.80, 0.49]
</td>
<td style="text-align:center;">
0.00<br>[-0.33, 0.31]
</td>
<td style="text-align:center;">
-0.02<br>[-0.40, 0.35]
</td>
<td style="text-align:center;">
1.09<br>[0.59, 2.56]
</td>
<td style="text-align:center;">
1.23<br>[0.56, 2.82]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.04<br>[-0.18, 0.26]
</td>
<td style="text-align:center;">
-0.00<br>[-0.59, 0.59]
</td>
<td style="text-align:center;">
1.15<br>[0.82, 1.72]
</td>
<td style="text-align:center;">
1.14<br>[0.28, 5.30]
</td>
<td style="text-align:center;">
0.98<br>[0.43, 2.19]
</td>
<td style="text-align:center;">
0.03<br>[-0.45, 0.42]
</td>
<td style="text-align:center;">
0.001<br>[-0.44, 0.39]
</td>
<td style="text-align:center;">
-0.09<br>[-0.69, 0.32]
</td>
<td style="text-align:center;">
1.03<br>[0.52, 2.20]
</td>
<td style="text-align:center;">
1.16<br>[0.53, 2.58]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.06<br>[-0.14, 0.26]
</td>
<td style="text-align:center;">
-0.04<br>[-0.69, 0.58]
</td>
<td style="text-align:center;">
1.15<br>[0.83, 1.67]
</td>
<td style="text-align:center;">
1.06<br>[0.22, 5.10]
</td>
<td style="text-align:center;">
0.96<br>[0.39, 2.14]
</td>
<td style="text-align:center;">
0.001<br>[-0.38, 0.26]
</td>
<td style="text-align:center;">
-0.01<br>[-0.37, 0.38]
</td>
<td style="text-align:center;">
-0.01<br>[-0.43, 0.47]
</td>
<td style="text-align:center;">
0.99<br>[0.50, 1.94]
</td>
<td style="text-align:center;">
1.17<br>[0.56, 2.58]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Conscientiousness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.09<br>[-0.04, 0.24]
</td>
<td style="text-align:center;">
-0.04<br>[-0.28, 0.19]
</td>
<td style="text-align:center;">
1.02<br>[0.82, 1.26]
</td>
<td style="text-align:center;">
1.10<br>[0.66, 2.22]
</td>
<td style="text-align:center;">
1.14<br>[0.90, 1.46]
</td>
<td style="text-align:center;">
0.04<br>[-0.03, 0.12]
</td>
<td style="text-align:center;">
0.01<br>[-0.08, 0.11]
</td>
<td style="text-align:center;">
0.02<br>[-0.09, 0.14]
</td>
<td style="text-align:center;">
0.90<br>[0.63, 1.30]
</td>
<td style="text-align:center;">
1.08<br>[0.87, 1.37]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.11<br>[-0.08, 0.30]
</td>
<td style="text-align:center;">
-0.06<br>[-0.28, 0.15]
</td>
<td style="text-align:center;">
1.05<br>[0.84, 1.31]
</td>
<td style="text-align:center;">
1.10<br>[0.66, 2.06]
</td>
<td style="text-align:center;">
1.17<br>[0.93, 1.52]
</td>
<td style="text-align:center;">
0.04<br>[-0.06, 0.11]
</td>
<td style="text-align:center;">
0.03<br>[-0.07, 0.19]
</td>
<td style="text-align:center;">
0.001<br>[-0.12, 0.10]
</td>
<td style="text-align:center;">
0.88<br>[0.58, 1.32]
</td>
<td style="text-align:center;">
1.04<br>[0.82, 1.31]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.10<br>[-0.08, 0.28]
</td>
<td style="text-align:center;">
-0.04<br>[-0.31, 0.24]
</td>
<td style="text-align:center;">
1.02<br>[0.81, 1.29]
</td>
<td style="text-align:center;">
1.08<br>[0.62, 2.22]
</td>
<td style="text-align:center;">
1.12<br>[0.87, 1.46]
</td>
<td style="text-align:center;">
0.03<br>[-0.07, 0.14]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.12]
</td>
<td style="text-align:center;">
0.02<br>[-0.10, 0.13]
</td>
<td style="text-align:center;">
0.91<br>[0.63, 1.63]
</td>
<td style="text-align:center;">
1.05<br>[0.82, 1.36]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.12<br>[-0.03, 0.26]
</td>
<td style="text-align:center;">
-0.09<br>[-0.29, 0.14]
</td>
<td style="text-align:center;">
1.06<br>[0.84, 1.30]
</td>
<td style="text-align:center;">
1.10<br>[0.63, 2.26]
</td>
<td style="text-align:center;">
1.16<br>[0.82, 1.49]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.14]
</td>
<td style="text-align:center;">
0.02<br>[-0.14, 0.12]
</td>
<td style="text-align:center;">
0.00<br>[-0.11, 0.11]
</td>
<td style="text-align:center;">
0.88<br>[0.56, 1.33]
</td>
<td style="text-align:center;">
1.03<br>[0.82, 1.32]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Neuroticism</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.05<br>[-0.20, 0.08]
</td>
<td style="text-align:center;">
0.02<br>[-0.21, 0.26]
</td>
<td style="text-align:center;">
1.08<br>[0.81, 1.39]
</td>
<td style="text-align:center;">
1.02<br>[0.62, 1.99]
</td>
<td style="text-align:center;">
0.92<br>[0.73, 1.22]
</td>
<td style="text-align:center;">
-0.04<br>[-0.13, 0.04]
</td>
<td style="text-align:center;">
0.01<br>[-0.10, 0.14]
</td>
<td style="text-align:center;">
0.01<br>[-0.12, 0.14]
</td>
<td style="text-align:center;">
0.92<br>[0.66, 1.28]
</td>
<td style="text-align:center;">
0.99<br>[0.72, 1.35]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.08<br>[-0.24, 0.05]
</td>
<td style="text-align:center;">
0.07<br>[-0.13, 0.25]
</td>
<td style="text-align:center;">
1.08<br>[0.82, 1.38]
</td>
<td style="text-align:center;">
1.04<br>[0.63, 2.18]
</td>
<td style="text-align:center;">
0.97<br>[0.65, 1.45]
</td>
<td style="text-align:center;">
-0.03<br>[-0.15, 0.08]
</td>
<td style="text-align:center;">
-0.04<br>[-0.19, 0.09]
</td>
<td style="text-align:center;">
0.000<br>[-0.16, 0.17]
</td>
<td style="text-align:center;">
0.86<br>[0.58, 1.24]
</td>
<td style="text-align:center;">
1.01<br>[0.73, 1.35]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.05<br>[-0.18, 0.08]
</td>
<td style="text-align:center;">
0.02<br>[-0.25, 0.25]
</td>
<td style="text-align:center;">
1.07<br>[0.85, 1.34]
</td>
<td style="text-align:center;">
1.02<br>[0.62, 2.18]
</td>
<td style="text-align:center;">
0.97<br>[0.69, 1.56]
</td>
<td style="text-align:center;">
-0.03<br>[-0.16, 0.09]
</td>
<td style="text-align:center;">
-0.00<br>[-0.13, 0.16]
</td>
<td style="text-align:center;">
-0.01<br>[-0.19, 0.14]
</td>
<td style="text-align:center;">
0.92<br>[0.67, 1.28]
</td>
<td style="text-align:center;">
1.00<br>[0.76, 1.34]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.09<br>[-0.21, 0.04]
</td>
<td style="text-align:center;">
0.07<br>[-0.12, 0.25]
</td>
<td style="text-align:center;">
1.10<br>[0.85, 1.44]
</td>
<td style="text-align:center;">
1.06<br>[0.64, 2.13]
</td>
<td style="text-align:center;">
0.91<br>[0.55, 1.54]
</td>
<td style="text-align:center;">
-0.02<br>[-0.11, 0.09]
</td>
<td style="text-align:center;">
-0.04<br>[-0.16, 0.10]
</td>
<td style="text-align:center;">
0.01<br>[-0.13, 0.14]
</td>
<td style="text-align:center;">
0.86<br>[0.60, 1.23]
</td>
<td style="text-align:center;">
1.00<br>[0.72, 1.56]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Openness to Experience</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.01<br>[-0.20, 0.16]
</td>
<td style="text-align:center;">
0.02<br>[-0.69, 0.60]
</td>
<td style="text-align:center;">
1.14<br>[0.78, 1.72]
</td>
<td style="text-align:center;">
1.03<br>[0.24, 4.02]
</td>
<td style="text-align:center;">
1.03<br>[0.53, 2.10]
</td>
<td style="text-align:center;">
-0.01<br>[-0.52, 0.41]
</td>
<td style="text-align:center;">
-0.01<br>[-0.37, 0.30]
</td>
<td style="text-align:center;">
0.05<br>[-0.38, 0.61]
</td>
<td style="text-align:center;">
1.22<br>[0.72, 2.12]
</td>
<td style="text-align:center;">
0.97<br>[0.54, 1.86]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.03<br>[-0.19, 0.41]
</td>
<td style="text-align:center;">
0.05<br>[-0.52, 0.63]
</td>
<td style="text-align:center;">
1.15<br>[0.78, 1.67]
</td>
<td style="text-align:center;">
1.07<br>[0.32, 3.40]
</td>
<td style="text-align:center;">
1.04<br>[0.53, 2.04]
</td>
<td style="text-align:center;">
-0.06<br>[-0.36, 0.36]
</td>
<td style="text-align:center;">
-0.01<br>[-0.46, 0.41]
</td>
<td style="text-align:center;">
0.02<br>[-0.39, 0.54]
</td>
<td style="text-align:center;">
1.23<br>[0.74, 2.12]
</td>
<td style="text-align:center;">
0.98<br>[0.47, 1.69]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.03<br>[-0.19, 0.36]
</td>
<td style="text-align:center;">
0.04<br>[-0.55, 0.51]
</td>
<td style="text-align:center;">
1.29<br>[0.82, 2.02]
</td>
<td style="text-align:center;">
1.10<br>[0.28, 4.38]
</td>
<td style="text-align:center;">
1.08<br>[0.57, 2.23]
</td>
<td style="text-align:center;">
-0.04<br>[-0.46, 0.42]
</td>
<td style="text-align:center;">
-0.01<br>[-0.40, 0.39]
</td>
<td style="text-align:center;">
0.000<br>[-0.40, 0.39]
</td>
<td style="text-align:center;">
1.15<br>[0.46, 2.09]
</td>
<td style="text-align:center;">
0.96<br>[0.50, 1.84]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.01<br>[-0.16, 0.17]
</td>
<td style="text-align:center;">
-0.16<br>[-1.60, 0.57]
</td>
<td style="text-align:center;">
1.16<br>[0.78, 1.71]
</td>
<td style="text-align:center;">
0.99<br>[0.20, 4.63]
</td>
<td style="text-align:center;">
1.04<br>[0.51, 2.11]
</td>
<td style="text-align:center;">
-0.05<br>[-0.39, 0.24]
</td>
<td style="text-align:center;">
-0.01<br>[-0.49, 0.47]
</td>
<td style="text-align:center;">
0.02<br>[-0.30, 0.48]
</td>
<td style="text-align:center;">
1.30<br>[0.75, 2.33]
</td>
<td style="text-align:center;">
0.95<br>[0.49, 1.89]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Positive Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.00<br>[-0.52, 0.43]
</td>
<td style="text-align:center;">
-0.02<br>[-0.44, 0.35]
</td>
<td style="text-align:center;">
0.96<br>[0.40, 1.72]
</td>
<td style="text-align:center;">
1.28<br>[0.56, 3.50]
</td>
<td style="text-align:center;">
0.97<br>[0.49, 1.85]
</td>
<td style="text-align:center;">
-0.01<br>[-0.42, 0.46]
</td>
<td style="text-align:center;">
-0.01<br>[-0.37, 0.34]
</td>
<td style="text-align:center;">
-0.01<br>[-0.35, 0.34]
</td>
<td style="text-align:center;">
1.10<br>[0.50, 2.73]
</td>
<td style="text-align:center;">
1.18<br>[0.61, 2.77]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.01<br>[-0.49, 0.39]
</td>
<td style="text-align:center;">
-0.04<br>[-0.46, 0.33]
</td>
<td style="text-align:center;">
0.95<br>[0.17, 1.93]
</td>
<td style="text-align:center;">
0.95<br>[0.57, 1.79]
</td>
<td style="text-align:center;">
1.02<br>[0.49, 2.09]
</td>
<td style="text-align:center;">
0.01<br>[-0.37, 0.48]
</td>
<td style="text-align:center;">
-0.05<br>[-0.53, 0.41]
</td>
<td style="text-align:center;">
0.02<br>[-0.32, 0.38]
</td>
<td style="text-align:center;">
1.16<br>[0.51, 3.07]
</td>
<td style="text-align:center;">
1.15<br>[0.61, 2.04]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.00<br>[-0.54, 0.47]
</td>
<td style="text-align:center;">
-0.02<br>[-0.52, 0.45]
</td>
<td style="text-align:center;">
0.96<br>[0.47, 1.69]
</td>
<td style="text-align:center;">
0.96<br>[0.56, 2.13]
</td>
<td style="text-align:center;">
0.94<br>[0.45, 1.72]
</td>
<td style="text-align:center;">
0.08<br>[-0.50, 0.74]
</td>
<td style="text-align:center;">
-0.02<br>[-0.36, 0.34]
</td>
<td style="text-align:center;">
-0.001<br>[-0.38, 0.45]
</td>
<td style="text-align:center;">
1.13<br>[0.53, 2.92]
</td>
<td style="text-align:center;">
1.14<br>[0.55, 2.08]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.01<br>[-0.50, 0.35]
</td>
<td style="text-align:center;">
-0.01<br>[-0.49, 0.56]
</td>
<td style="text-align:center;">
0.99<br>[0.36, 1.82]
</td>
<td style="text-align:center;">
0.94<br>[0.58, 1.71]
</td>
<td style="text-align:center;">
1.58<br>[0.54, 6.35]
</td>
<td style="text-align:center;">
-0.00<br>[-0.41, 0.37]
</td>
<td style="text-align:center;">
-0.05<br>[-0.52, 0.34]
</td>
<td style="text-align:center;">
0.02<br>[-0.44, 0.43]
</td>
<td style="text-align:center;">
1.13<br>[0.53, 2.95]
</td>
<td style="text-align:center;">
1.17<br>[0.60, 2.31]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Negative Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.09<br>[-1.99, 1.66]
</td>
<td style="text-align:center;">
-0.10<br>[-1.73, 1.40]
</td>
<td style="text-align:center;">
1.02<br>[0.08, 7.76]
</td>
<td style="text-align:center;">
1.16<br>[0.22, 8.57]
</td>
<td style="text-align:center;">
1.07<br>[0.15, 6.53]
</td>
<td style="text-align:center;">
-0.01<br>[-1.72, 1.63]
</td>
<td style="text-align:center;">
-0.01<br>[-1.75, 1.53]
</td>
<td style="text-align:center;">
0.13<br>[-1.77, 2.22]
</td>
<td style="text-align:center;">
1.02<br>[0.16, 10.27]
</td>
<td style="text-align:center;">
0.96<br>[0.13, 5.85]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.11<br>[-2.19, 1.63]
</td>
<td style="text-align:center;">
-0.05<br>[-1.74, 1.66]
</td>
<td style="text-align:center;">
1.28<br>[0.16, 10.72]
</td>
<td style="text-align:center;">
1.05<br>[0.14, 7.19]
</td>
<td style="text-align:center;">
1.02<br>[0.15, 6.20]
</td>
<td style="text-align:center;">
0.02<br>[-1.61, 1.57]
</td>
<td style="text-align:center;">
-0.01<br>[-2.01, 1.67]
</td>
<td style="text-align:center;">
0.04<br>[-1.67, 1.68]
</td>
<td style="text-align:center;">
0.97<br>[0.16, 9.02]
</td>
<td style="text-align:center;">
0.90<br>[0.16, 7.26]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.12<br>[-1.97, 1.63]
</td>
<td style="text-align:center;">
0.02<br>[-1.76, 1.75]
</td>
<td style="text-align:center;">
0.97<br>[0.11, 7.80]
</td>
<td style="text-align:center;">
1.09<br>[0.16, 7.28]
</td>
<td style="text-align:center;">
1.08<br>[0.17, 8.13]
</td>
<td style="text-align:center;">
0.00<br>[-1.49, 1.71]
</td>
<td style="text-align:center;">
-0.01<br>[-1.61, 1.56]
</td>
<td style="text-align:center;">
0.00<br>[-1.69, 1.64]
</td>
<td style="text-align:center;">
1.00<br>[0.18, 6.32]
</td>
<td style="text-align:center;">
0.89<br>[0.08, 5.81]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.11<br>[-2.25, 1.67]
</td>
<td style="text-align:center;">
-0.06<br>[-2.04, 1.47]
</td>
<td style="text-align:center;">
1.12<br>[0.13, 6.43]
</td>
<td style="text-align:center;">
1.13<br>[0.21, 6.11]
</td>
<td style="text-align:center;">
1.08<br>[0.19, 6.18]
</td>
<td style="text-align:center;">
-0.13<br>[-2.32, 1.46]
</td>
<td style="text-align:center;">
-0.04<br>[-1.79, 1.62]
</td>
<td style="text-align:center;">
0.04<br>[-1.85, 1.89]
</td>
<td style="text-align:center;">
0.90<br>[0.14, 5.95]
</td>
<td style="text-align:center;">
0.96<br>[0.16, 5.10]
</td>
</tr>
<tr grouplength="4">
<td colspan="12" style="border-bottom: 0;">
<strong>Satisfaction with Life</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Unadjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.04<br>[-0.52, 0.39]
</td>
<td style="text-align:center;">
-0.01<br>[-0.52, 0.39]
</td>
<td style="text-align:center;">
1.11<br>[0.67, 1.92]
</td>
<td style="text-align:center;">
0.83<br>[0.42, 1.81]
</td>
<td style="text-align:center;">
0.87<br>[0.47, 1.74]
</td>
<td style="text-align:center;">
-0.01<br>[-0.39, 0.41]
</td>
<td style="text-align:center;">
-0.04<br>[-0.48, 0.37]
</td>
<td style="text-align:center;">
-0.04<br>[-0.49, 0.36]
</td>
<td style="text-align:center;">
1.24<br>[0.40, 3.58]
</td>
<td style="text-align:center;">
1.17<br>[0.63, 1.95]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Shared
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.05<br>[-0.71, 0.34]
</td>
<td style="text-align:center;">
-0.02<br>[-0.58, 0.47]
</td>
<td style="text-align:center;">
1.14<br>[0.56, 2.09]
</td>
<td style="text-align:center;">
0.85<br>[0.44, 1.67]
</td>
<td style="text-align:center;">
0.93<br>[0.52, 1.91]
</td>
<td style="text-align:center;">
-0.00<br>[-0.32, 0.34]
</td>
<td style="text-align:center;">
-0.03<br>[-0.45, 0.52]
</td>
<td style="text-align:center;">
0.02<br>[-0.44, 0.47]
</td>
<td style="text-align:center;">
1.64<br>[0.41, 4.14]
</td>
<td style="text-align:center;">
1.13<br>[0.56, 2.19]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Standard
Covariates
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.03<br>[-0.54, 0.40]
</td>
<td style="text-align:center;">
-0.00<br>[-0.51, 0.39]
</td>
<td style="text-align:center;">
1.12<br>[0.56, 2.61]
</td>
<td style="text-align:center;">
0.82<br>[0.40, 1.56]
</td>
<td style="text-align:center;">
0.86<br>[0.45, 1.58]
</td>
<td style="text-align:center;">
0.02<br>[-0.33, 0.34]
</td>
<td style="text-align:center;">
-0.03<br>[-0.55, 0.55]
</td>
<td style="text-align:center;">
-0.03<br>[-0.52, 0.42]
</td>
<td style="text-align:center;">
1.02<br>[0.10, 4.23]
</td>
<td style="text-align:center;">
1.15<br>[0.60, 2.02]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
All But One
Covariate
Adjusted
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.02<br>[-0.46, 0.47]
</td>
<td style="text-align:center;">
-0.01<br>[-0.65, 0.49]
</td>
<td style="text-align:center;">
1.14<br>[0.55, 2.05]
</td>
<td style="text-align:center;">
0.83<br>[0.41, 1.52]
</td>
<td style="text-align:center;">
0.91<br>[0.43, 1.76]
</td>
<td style="text-align:center;">
-0.00<br>[-0.42, 0.35]
</td>
<td style="text-align:center;">
-0.06<br>[-0.52, 0.39]
</td>
<td style="text-align:center;">
-0.03<br>[-0.51, 0.35]
</td>
<td style="text-align:center;">
1.27<br>[0.30, 4.58]
</td>
<td style="text-align:center;">
1.14<br>[0.62, 2.10]
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Unadjusted indicates no covariates were included. Fully adjusted models include age, gender, education, smoking status, alcohol use, cognitive ability, race, chronic conditions, BMI, and self-rated health. Shared covariates adjusted models Include age, gender, education, smoking status, alcohol use. Standard covariates adjusted models include age, gender, and education. All but one covariate adjusted models include age, gender, education, cognitive ability, and chronic conditions. Shared covariates with dementia adjusted models Include age, gender, education, smoking status, alcohol use, and dementia diagnosis. Standard covariates with dementia adjusted models include age, gender, education, and incident dementia diagnosis.
</td>
</tr>
</tfoot>
</table>
<p>These show the estimates, split by covariate sets across moderators, traits, and outcomes.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="runmodels.html#cb215-1" aria-hidden="true" tabindex="-1"></a>ipd_tab_fun2 <span class="ot">&lt;-</span> <span class="cf">function</span>(d, cov){</span>
<span id="cb215-2"><a href="runmodels.html#cb215-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># long outcome name</span></span>
<span id="cb215-3"><a href="runmodels.html#cb215-3" aria-hidden="true" tabindex="-1"></a>  covar <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb215-4"><a href="runmodels.html#cb215-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># getting row numbers for later grouping</span></span>
<span id="cb215-5"><a href="runmodels.html#cb215-5" aria-hidden="true" tabindex="-1"></a>  rs <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Moderator) <span class="sc">%&gt;%</span> <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb215-6"><a href="runmodels.html#cb215-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">end =</span> <span class="fu">cumsum</span>(n), <span class="at">start =</span> <span class="fu">lag</span>(end) <span class="sc">+</span> <span class="dv">1</span>, <span class="at">start =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(start), <span class="dv">1</span>, start))</span>
<span id="cb215-7"><a href="runmodels.html#cb215-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># number and name of columns for span columns </span></span>
<span id="cb215-8"><a href="runmodels.html#cb215-8" aria-hidden="true" tabindex="-1"></a>  cs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">12</span>)</span>
<span id="cb215-9"><a href="runmodels.html#cb215-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(cs) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, outcomes<span class="sc">$</span>long_name)</span>
<span id="cb215-10"><a href="runmodels.html#cb215-10" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(<span class="fu">colnames</span>(d)[<span class="fu">colnames</span>(d) <span class="sc">%in%</span> outcomes<span class="sc">$</span>long_name], outcomes<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>colnm, <span class="at">warn_missing =</span> F)</span>
<span id="cb215-11"><a href="runmodels.html#cb215-11" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Trait&quot;</span>, cln)</span>
<span id="cb215-12"><a href="runmodels.html#cb215-12" aria-hidden="true" tabindex="-1"></a>  al <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;r&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="dv">11</span>))</span>
<span id="cb215-13"><a href="runmodels.html#cb215-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># caption </span></span>
<span id="cb215-14"><a href="runmodels.html#cb215-14" aria-hidden="true" tabindex="-1"></a>  cap <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;Table X&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Fixed Effect Estimates of %s Personality-Dementia Diagnosis and Neuropathology Associations&lt;/em&gt;&quot;</span>, cov)</span>
<span id="cb215-15"><a href="runmodels.html#cb215-15" aria-hidden="true" tabindex="-1"></a>  fn <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>desc, <span class="at">warn_missing =</span> F)</span>
<span id="cb215-16"><a href="runmodels.html#cb215-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># kable the table</span></span>
<span id="cb215-17"><a href="runmodels.html#cb215-17" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb215-18"><a href="runmodels.html#cb215-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name, traits<span class="sc">$</span>long_name)) <span class="sc">%&gt;%</span></span>
<span id="cb215-19"><a href="runmodels.html#cb215-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Moderator, <span class="sc">-</span>term) <span class="sc">%&gt;%</span></span>
<span id="cb215-20"><a href="runmodels.html#cb215-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb215-21"><a href="runmodels.html#cb215-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kable(., &quot;latex&quot;</span></span>
<span id="cb215-22"><a href="runmodels.html#cb215-22" aria-hidden="true" tabindex="-1"></a>          , <span class="at">booktabs =</span> T</span>
<span id="cb215-23"><a href="runmodels.html#cb215-23" aria-hidden="true" tabindex="-1"></a>          , <span class="at">escape =</span> F</span>
<span id="cb215-24"><a href="runmodels.html#cb215-24" aria-hidden="true" tabindex="-1"></a>          , <span class="at">col.names =</span> cln</span>
<span id="cb215-25"><a href="runmodels.html#cb215-25" aria-hidden="true" tabindex="-1"></a>          , <span class="at">align =</span> al</span>
<span id="cb215-26"><a href="runmodels.html#cb215-26" aria-hidden="true" tabindex="-1"></a>          , <span class="at">caption =</span> cap</span>
<span id="cb215-27"><a href="runmodels.html#cb215-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb215-28"><a href="runmodels.html#cb215-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb215-29"><a href="runmodels.html#cb215-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kable_styling(full_width = F, font_size = 7) %&gt;%</span></span>
<span id="cb215-30"><a href="runmodels.html#cb215-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_above</span>(cs) <span class="sc">%&gt;%</span></span>
<span id="cb215-31"><a href="runmodels.html#cb215-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">footnote</span>(fn)</span>
<span id="cb215-32"><a href="runmodels.html#cb215-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for loop to add grouped sections </span></span>
<span id="cb215-33"><a href="runmodels.html#cb215-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rs)){</span>
<span id="cb215-34"><a href="runmodels.html#cb215-34" aria-hidden="true" tabindex="-1"></a>    tab <span class="ot">&lt;-</span> tab <span class="sc">%&gt;%</span> </span>
<span id="cb215-35"><a href="runmodels.html#cb215-35" aria-hidden="true" tabindex="-1"></a>      kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(rs<span class="sc">$</span>Moderator[i], rs<span class="sc">$</span>start[i], rs<span class="sc">$</span>end[i]) </span>
<span id="cb215-36"><a href="runmodels.html#cb215-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb215-37"><a href="runmodels.html#cb215-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># save the resulting html table</span></span>
<span id="cb215-38"><a href="runmodels.html#cb215-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save_kable</span>(tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/key-terms/%s.html&quot;</span></span>
<span id="cb215-39"><a href="runmodels.html#cb215-39" aria-hidden="true" tabindex="-1"></a>                                 , local_path, covar))</span>
<span id="cb215-40"><a href="runmodels.html#cb215-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tab) <span class="co"># return the html table</span></span>
<span id="cb215-41"><a href="runmodels.html#cb215-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb215-42"><a href="runmodels.html#cb215-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-43"><a href="runmodels.html#cb215-43" aria-hidden="true" tabindex="-1"></a>ipd_fx_tab2 <span class="ot">&lt;-</span> nested_mega_tab <span class="sc">%&gt;%</span></span>
<span id="cb215-44"><a href="runmodels.html#cb215-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb215-45"><a href="runmodels.html#cb215-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>study) <span class="sc">%&gt;%</span></span>
<span id="cb215-46"><a href="runmodels.html#cb215-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Moderator, term) <span class="sc">%&gt;%</span></span>
<span id="cb215-47"><a href="runmodels.html#cb215-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Covariate %in% c(&quot;unadjusted&quot;, &quot;shared&quot;)) %&gt;%</span></span>
<span id="cb215-48"><a href="runmodels.html#cb215-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Covariate) <span class="sc">%&gt;%</span> </span>
<span id="cb215-49"><a href="runmodels.html#cb215-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb215-50"><a href="runmodels.html#cb215-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb215-51"><a href="runmodels.html#cb215-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tab =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Covariate), ipd_tab_fun2))</span>
<span id="cb215-52"><a href="runmodels.html#cb215-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-53"><a href="runmodels.html#cb215-53" aria-hidden="true" tabindex="-1"></a><span class="do">## Frequentist, no moderator</span></span>
<span id="cb215-54"><a href="runmodels.html#cb215-54" aria-hidden="true" tabindex="-1"></a>(ipd_fx_tab2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Covariate <span class="sc">==</span> <span class="st">&quot;Shared</span><span class="sc">\n</span><span class="st">Covariates</span><span class="sc">\n</span><span class="st">Adjusted</span><span class="sc">\n</span><span class="st">(With Dementia</span><span class="sc">\n</span><span class="st">Diagnosis)&quot;</span>))<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>
<span id="tab:unnamed-chunk-16">Table 3.2: </span><strong>Table X</strong><br><em>Fixed Effect Estimates of Shared
Covariates
Adjusted
(With Dementia
Diagnosis) Personality-Dementia Diagnosis and Neuropathology Associations</em>
</caption>
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Incident Dementia Diagnosis
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Braak Stage
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
CERAD
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Lewy Body Disease
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Gross Cerebral Infarcts
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Gross Cerebral Microinfarcts
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Cerebral Atherosclerosis
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Cerebral Amyloid Angiopathy
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Arteriolosclerosis
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Hippocampal Sclerosis
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
TDP-43
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Trait
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
</tr>
</thead>
<tbody>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>None</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.10<br>[-1.08, 0.78]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.02<br>[0.18, 7.57]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.24<br>[0.35, 7.66]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.00<br>[-1.00, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.29<br>[0.84, 168.03]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.20<br>[0.32, 6.05]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.20<br>[-1.37, 0.95]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.14<br>[0.42, 22.67]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.79<br>[0.46, 58.48]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.12<br>[-1.07, 0.80]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.77<br>[0.05, 10.83]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.74<br>[0.33, 34.37]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.11<br>[-1.23, 0.79]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.28<br>[0.98, 238.12]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.94<br>[0.17, 5.92]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Age</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.02<br>[-0.25, 0.20]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.14<br>[0.79, 2.29]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.00<br>[0.75, 1.39]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.02<br>[-0.27, 0.21]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.67<br>[0.92, 4.50]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.99<br>[0.74, 1.36]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.05<br>[-0.45, 0.45]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.16<br>[0.61, 2.57]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.98<br>[0.67, 1.48]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.01<br>[-0.26, 0.21]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.20<br>[0.80, 2.26]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.09<br>[0.82, 1.50]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.01<br>[-0.34, 0.22]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.62<br>[0.93, 6.71]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.91<br>[0.58, 1.28]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Gender</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.30<br>[-1.96, 1.16]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.20<br>[0.10, 24.36]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.17<br>[0.35, 19.69]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.21<br>[-1.45, 1.80]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.25<br>[0.09, 28.52]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.83<br>[0.15, 7.28]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.26<br>[-2.28, 1.41]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.36<br>[0.01, 20.53]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.97<br>[0.15, 8.07]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.09<br>[-1.95, 1.15]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.61<br>[0.02, 19.45]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.42<br>[0.38, 63.30]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.03<br>[-2.43, 1.38]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.27<br>[0.11, 33.82]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.43<br>[0.03, 9.28]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Education</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.09<br>[-0.87, 0.62]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.19<br>[0.17, 8.28]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.11<br>[0.47, 3.21]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.05<br>[-0.69, 0.58]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.85<br>[0.42, 14.00]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.17<br>[0.54, 3.20]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.11<br>[-1.26, 0.79]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.56<br>[0.08, 226.50]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.11<br>[0.38, 5.00]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.13<br>[-0.67, 0.60]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.74<br>[0.38, 10.14]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.33<br>[0.62, 3.34]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.03<br>[-0.57, 0.46]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.37<br>[0.43, 4.82]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.41<br>[0.64, 3.67]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="5">
<td colspan="12" style="border-bottom: 0;">
<strong>Cognition</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.08<br>[-0.60, 0.41]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.28<br>[0.45, 4.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.75<br>[0.25, 1.89]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.01<br>[-0.64, 0.56]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
2.83<br>[0.70, 19.50]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.87<br>[0.70, 6.67]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.20<br>[-0.63, 1.27]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
<strong>4.70<br>[1.03, 105.76]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.49<br>[0.50, 4.87]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.21<br>[-0.75, 0.38]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.01<br>[0.22, 3.96]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.62<br>[0.16, 1.70]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
-0.07<br>[-0.65, 0.50]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.03<br>[0.75, 18.66]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.94<br>[0.72, 10.04]
</td>
<td style="text-align:center;">
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Shared covariates with dementia adjusted models Include age, gender, education, smoking status, alcohol use, and dementia diagnosis.
</td>
</tr>
</tfoot>
</table>
</div>
<div id="study-specific-effects-1" class="section level4 hasAnchor" number="3.4.1.2">
<h4><span class="header-section-number">3.4.1.2</span> Study-Specific Effects<a href="runmodels.html#study-specific-effects-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Next, we’ll look at these estimates for each sample.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="runmodels.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="do">## table function </span></span>
<span id="cb216-2"><a href="runmodels.html#cb216-2" aria-hidden="true" tabindex="-1"></a>ipd_rx_tab_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, moder, cov){</span>
<span id="cb216-3"><a href="runmodels.html#cb216-3" aria-hidden="true" tabindex="-1"></a>  covar <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb216-4"><a href="runmodels.html#cb216-4" aria-hidden="true" tabindex="-1"></a>  md <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(moder, moders<span class="sc">$</span>long_name, moders<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb216-5"><a href="runmodels.html#cb216-5" aria-hidden="true" tabindex="-1"></a>  rs <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb216-6"><a href="runmodels.html#cb216-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name, traits<span class="sc">$</span>long_name)) <span class="sc">%&gt;%</span></span>
<span id="cb216-7"><a href="runmodels.html#cb216-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Trait) <span class="sc">%&gt;%</span> <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb216-8"><a href="runmodels.html#cb216-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">end =</span> <span class="fu">cumsum</span>(n), <span class="at">start =</span> <span class="fu">lag</span>(end) <span class="sc">+</span> <span class="dv">1</span>, <span class="at">start =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(start), <span class="dv">1</span>, start))</span>
<span id="cb216-9"><a href="runmodels.html#cb216-9" aria-hidden="true" tabindex="-1"></a>  cs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">12</span>)</span>
<span id="cb216-10"><a href="runmodels.html#cb216-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(cs) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;&lt;strong&gt;&quot;</span>, outcomes<span class="sc">$</span>long_name, <span class="st">&quot;&lt;/strong&gt;&quot;</span>))</span>
<span id="cb216-11"><a href="runmodels.html#cb216-11" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(<span class="fu">colnames</span>(d)[<span class="fu">colnames</span>(d) <span class="sc">%in%</span> outcomes<span class="sc">$</span>long_name], outcomes<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>colnm, <span class="at">warn_missing =</span> F)</span>
<span id="cb216-12"><a href="runmodels.html#cb216-12" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Study&quot;</span>, cln)</span>
<span id="cb216-13"><a href="runmodels.html#cb216-13" aria-hidden="true" tabindex="-1"></a>  al <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;r&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="dv">11</span>)) </span>
<span id="cb216-14"><a href="runmodels.html#cb216-14" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>term)</span>
<span id="cb216-15"><a href="runmodels.html#cb216-15" aria-hidden="true" tabindex="-1"></a>  cap <span class="ot">&lt;-</span> <span class="cf">if</span>(md <span class="sc">==</span> <span class="st">&quot;none&quot;</span>) <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;Table X&lt;/strong&gt;&lt;br&gt;&lt;em&gt;%s Overall and Sample-Specific Effects of Personality-Crystallized Domain Associations&lt;/em&gt;&quot;</span>, cov) <span class="cf">else</span> <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;Table X&lt;/strong&gt;&lt;br&gt;&lt;em&gt;%s Overall and Sample-Specific %s Moderation of Personality-Crystallized Domain Associations&lt;/em&gt;&quot;</span>, cov, md)</span>
<span id="cb216-16"><a href="runmodels.html#cb216-16" aria-hidden="true" tabindex="-1"></a>  fn <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>desc, <span class="at">warn_missing =</span> F)</span>
<span id="cb216-17"><a href="runmodels.html#cb216-17" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb216-18"><a href="runmodels.html#cb216-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Trait) <span class="sc">%&gt;%</span></span>
<span id="cb216-19"><a href="runmodels.html#cb216-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Trait) <span class="sc">%&gt;%</span></span>
<span id="cb216-20"><a href="runmodels.html#cb216-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb216-21"><a href="runmodels.html#cb216-21" aria-hidden="true" tabindex="-1"></a>          , <span class="at">escape =</span> F</span>
<span id="cb216-22"><a href="runmodels.html#cb216-22" aria-hidden="true" tabindex="-1"></a>          , <span class="at">col.names =</span> cln</span>
<span id="cb216-23"><a href="runmodels.html#cb216-23" aria-hidden="true" tabindex="-1"></a>          , <span class="at">align =</span> al</span>
<span id="cb216-24"><a href="runmodels.html#cb216-24" aria-hidden="true" tabindex="-1"></a>          , <span class="at">caption =</span> cap</span>
<span id="cb216-25"><a href="runmodels.html#cb216-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb216-26"><a href="runmodels.html#cb216-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb216-27"><a href="runmodels.html#cb216-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_above</span>(cs, <span class="at">escape =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb216-28"><a href="runmodels.html#cb216-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">footnote</span>(fn)</span>
<span id="cb216-29"><a href="runmodels.html#cb216-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(rs)) {</span>
<span id="cb216-30"><a href="runmodels.html#cb216-30" aria-hidden="true" tabindex="-1"></a>    tab <span class="ot">&lt;-</span> tab <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(rs<span class="sc">$</span>Trait[i], rs<span class="sc">$</span>start[i], rs<span class="sc">$</span>end[i])</span>
<span id="cb216-31"><a href="runmodels.html#cb216-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb216-32"><a href="runmodels.html#cb216-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save_kable</span>(tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/study-specific/%s_%s.html&quot;</span></span>
<span id="cb216-33"><a href="runmodels.html#cb216-33" aria-hidden="true" tabindex="-1"></a>                                 , local_path, md, covar))</span>
<span id="cb216-34"><a href="runmodels.html#cb216-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tab)</span>
<span id="cb216-35"><a href="runmodels.html#cb216-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb216-36"><a href="runmodels.html#cb216-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-37"><a href="runmodels.html#cb216-37" aria-hidden="true" tabindex="-1"></a>ipd_rx_tab <span class="ot">&lt;-</span> nested_mega_tab <span class="sc">%&gt;%</span></span>
<span id="cb216-38"><a href="runmodels.html#cb216-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Moderator, Covariate) <span class="sc">%&gt;%</span></span>
<span id="cb216-39"><a href="runmodels.html#cb216-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb216-40"><a href="runmodels.html#cb216-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb216-41"><a href="runmodels.html#cb216-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tab =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Moderator, Covariate), ipd_rx_tab_fun))</span>
<span id="cb216-42"><a href="runmodels.html#cb216-42" aria-hidden="true" tabindex="-1"></a>ipd_rx_tab</span></code></pre></div>
<pre><code>## # A tibble: 39 × 4
##    Moderator Covariate                          data               tab           
##    &lt;fct&gt;     &lt;fct&gt;                              &lt;list&gt;             &lt;list&gt;        
##  1 None      &quot;Unadjusted&quot;                       &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
##  2 None      &quot;Fully Adjusted&quot;                   &lt;tibble [21 × 14]&gt; &lt;kablExtr [1]&gt;
##  3 None      &quot;Shared\nCovariates\nAdjusted&quot;     &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
##  4 None      &quot;Standard\nCovariates\nAdjusted&quot;   &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
##  5 None      &quot;All But One\nCovariate\nAdjusted&quot; &lt;tibble [55 × 14]&gt; &lt;kablExtr [1]&gt;
##  6 Age       &quot;Unadjusted&quot;                       &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
##  7 Age       &quot;Fully Adjusted&quot;                   &lt;tibble [16 × 14]&gt; &lt;kablExtr [1]&gt;
##  8 Age       &quot;Shared\nCovariates\nAdjusted&quot;     &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
##  9 Age       &quot;Standard\nCovariates\nAdjusted&quot;   &lt;tibble [63 × 14]&gt; &lt;kablExtr [1]&gt;
## 10 Age       &quot;All But One\nCovariate\nAdjusted&quot; &lt;tibble [55 × 14]&gt; &lt;kablExtr [1]&gt;
## # … with 29 more rows</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="runmodels.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Frequentist</span></span>
<span id="cb218-2"><a href="runmodels.html#cb218-2" aria-hidden="true" tabindex="-1"></a>(ipd_rx_tab <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Moderator <span class="sc">==</span> <span class="st">&quot;None&quot;</span> <span class="sc">&amp;</span> Covariate <span class="sc">==</span> <span class="st">&quot;Shared</span><span class="sc">\n</span><span class="st">Covariates</span><span class="sc">\n</span><span class="st">Adjusted&quot;</span>))<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>
(#tab:ipd2b study specific table)<strong>Table X</strong><br><em>Shared
Covariates
Adjusted Overall and Sample-Specific Effects of Personality-Crystallized Domain Associations</em>
</caption>
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Incident Dementia Diagnosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Braak Stage</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>CERAD</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Lewy Body Disease</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Infarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Gross Cerebral Microinfarcts</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Atherosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Cerebral Amyloid Angiopathy</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Arteriolosclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Hippocampal Sclerosis</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>TDP-43</strong>
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Study
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
b [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
<th style="text-align:center;">
OR [CI]
</th>
</tr>
</thead>
<tbody>
<tr grouplength="9">
<td colspan="12" style="border-bottom: 0;">
<strong>Extraversion</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
0.98<br>[0.93, 1.04]
</td>
<td style="text-align:center;">
0.04<br>[-0.01, 0.10]
</td>
<td style="text-align:center;">
-0.02<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
1.03<br>[0.95, 1.13]
</td>
<td style="text-align:center;">
0.95<br>[0.87, 1.02]
</td>
<td style="text-align:center;">
0.97<br>[0.89, 1.04]
</td>
<td style="text-align:center;">
0.01<br>[-0.02, 0.04]
</td>
<td style="text-align:center;">
0.02<br>[-0.01, 0.06]
</td>
<td style="text-align:center;">
-0.01<br>[-0.05, 0.02]
</td>
<td style="text-align:center;">
0.96<br>[0.85, 1.08]
</td>
<td style="text-align:center;">
1.04<br>[0.96, 1.12]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
0.97<br>[0.93, 1.02]
</td>
<td style="text-align:center;">
0.04<br>[-0.01, 0.10]
</td>
<td style="text-align:center;">
<strong>-0.04<br>[-0.08, -0.00]</strong>
</td>
<td style="text-align:center;">
1.01<br>[0.93, 1.08]
</td>
<td style="text-align:center;">
0.95<br>[0.88, 1.03]
</td>
<td style="text-align:center;">
0.98<br>[0.91, 1.05]
</td>
<td style="text-align:center;">
-0.01<br>[-0.04, 0.02]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.05]
</td>
<td style="text-align:center;">
-0.01<br>[-0.04, 0.03]
</td>
<td style="text-align:center;">
0.98<br>[0.88, 1.09]
</td>
<td style="text-align:center;">
1.04<br>[0.97, 1.12]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
EAS
</td>
<td style="text-align:center;">
0.97<br>[0.91, 1.04]
</td>
<td style="text-align:center;">
-0.01<br>[-0.11, 0.10]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.01<br>[0.84, 1.25]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.98<br>[0.84, 1.17]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
WUSM-MAP
</td>
<td style="text-align:center;">
0.97<br>[0.91, 1.02]
</td>
<td style="text-align:center;">
<strong>-0.10<br>[-0.18, -0.01]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.10, 0.01]
</td>
<td style="text-align:center;">
1.03<br>[0.93, 1.15]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.96<br>[0.84, 1.07]
</td>
<td style="text-align:center;">
0.01<br>[-0.02, 0.05]
</td>
<td style="text-align:center;">
0.01<br>[-0.04, 0.04]
</td>
<td style="text-align:center;">
-0.02<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
0.93<br>[0.75, 1.08]
</td>
<td style="text-align:center;">
0.98<br>[0.87, 1.09]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
0.97<br>[0.89, 1.04]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
0.98<br>[0.95, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
0.98<br>[0.90, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
0.96<br>[0.86, 1.01]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
0.97<br>[0.93, 1.02]
</td>
<td style="text-align:center;">
-0.000<br>[-0.13, 0.14]
</td>
<td style="text-align:center;">
-0.04<br>[-0.10, 0.05]
</td>
<td style="text-align:center;">
1.01<br>[0.88, 1.12]
</td>
<td style="text-align:center;">
0.95<br>[0.76, 1.34]
</td>
<td style="text-align:center;">
0.97<br>[0.83, 1.13]
</td>
<td style="text-align:center;">
0.00<br>[-0.06, 0.08]
</td>
<td style="text-align:center;">
0.02<br>[-0.04, 0.07]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.07]
</td>
<td style="text-align:center;">
0.97<br>[0.83, 1.10]
</td>
<td style="text-align:center;">
1.01<br>[0.80, 1.18]
</td>
</tr>
<tr grouplength="8">
<td colspan="12" style="border-bottom: 0;">
<strong>Agreeableness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
0.95<br>[0.87, 1.01]
</td>
<td style="text-align:center;">
-0.01<br>[-0.07, 0.06]
</td>
<td style="text-align:center;">
-0.00<br>[-0.06, 0.06]
</td>
<td style="text-align:center;">
0.97<br>[0.86, 1.09]
</td>
<td style="text-align:center;">
1.02<br>[0.90, 1.15]
</td>
<td style="text-align:center;">
1.03<br>[0.89, 1.17]
</td>
<td style="text-align:center;">
-0.02<br>[-0.06, 0.01]
</td>
<td style="text-align:center;">
0.00<br>[-0.04, 0.05]
</td>
<td style="text-align:center;">
0.02<br>[-0.03, 0.07]
</td>
<td style="text-align:center;">
1.09<br>[0.91, 1.34]
</td>
<td style="text-align:center;">
1.00<br>[0.90, 1.12]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
EAS
</td>
<td style="text-align:center;">
0.97<br>[0.89, 1.04]
</td>
<td style="text-align:center;">
0.00<br>[-0.08, 0.10]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.05<br>[0.87, 1.38]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.06<br>[0.82, 1.34]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
WUSM-MAP
</td>
<td style="text-align:center;">
0.96<br>[0.89, 1.01]
</td>
<td style="text-align:center;">
-0.04<br>[-0.12, 0.03]
</td>
<td style="text-align:center;">
-0.03<br>[-0.10, 0.03]
</td>
<td style="text-align:center;">
0.94<br>[0.84, 1.05]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.14<br>[0.98, 1.34]
</td>
<td style="text-align:center;">
-0.000<br>[-0.04, 0.04]
</td>
<td style="text-align:center;">
-0.01<br>[-0.05, 0.04]
</td>
<td style="text-align:center;">
0.01<br>[-0.04, 0.06]
</td>
<td style="text-align:center;">
0.82<br>[0.51, 1.11]
</td>
<td style="text-align:center;">
0.96<br>[0.84, 1.09]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
0.99<br>[0.93, 1.10]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
0.98<br>[0.95, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
0.99<br>[0.89, 1.13]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
0.97<br>[0.90, 1.05]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
0.97<br>[0.92, 1.03]
</td>
<td style="text-align:center;">
-0.02<br>[-0.15, 0.10]
</td>
<td style="text-align:center;">
-0.02<br>[-0.30, 0.15]
</td>
<td style="text-align:center;">
0.99<br>[0.83, 1.23]
</td>
<td style="text-align:center;">
1.08<br>[0.40, 2.48]
</td>
<td style="text-align:center;">
1.07<br>[0.77, 1.52]
</td>
<td style="text-align:center;">
-0.02<br>[-0.19, 0.16]
</td>
<td style="text-align:center;">
0.02<br>[-0.21, 0.25]
</td>
<td style="text-align:center;">
0.02<br>[-0.19, 0.30]
</td>
<td style="text-align:center;">
1.02<br>[0.66, 1.75]
</td>
<td style="text-align:center;">
0.99<br>[0.74, 1.44]
</td>
</tr>
<tr grouplength="9">
<td colspan="12" style="border-bottom: 0;">
<strong>Conscientiousness</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.84, 0.93]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.09, 0.01]
</td>
<td style="text-align:center;">
0.05<br>[-0.00, 0.11]
</td>
<td style="text-align:center;">
0.94<br>[0.85, 1.03]
</td>
<td style="text-align:center;">
1.03<br>[0.94, 1.14]
</td>
<td style="text-align:center;">
1.08<br>[0.98, 1.19]
</td>
<td style="text-align:center;">
-0.01<br>[-0.04, 0.02]
</td>
<td style="text-align:center;">
0.02<br>[-0.01, 0.06]
</td>
<td style="text-align:center;">
-0.02<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
1.03<br>[0.85, 1.20]
</td>
<td style="text-align:center;">
1.05<br>[0.96, 1.16]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.84, 0.92]</strong>
</td>
<td style="text-align:center;">
-0.05<br>[-0.10, 0.01]
</td>
<td style="text-align:center;">
0.04<br>[-0.02, 0.10]
</td>
<td style="text-align:center;">
0.93<br>[0.81, 1.04]
</td>
<td style="text-align:center;">
1.01<br>[0.91, 1.13]
</td>
<td style="text-align:center;">
1.10<br>[1.00, 1.23]
</td>
<td style="text-align:center;">
0.01<br>[-0.03, 0.05]
</td>
<td style="text-align:center;">
-0.00<br>[-0.05, 0.04]
</td>
<td style="text-align:center;">
-0.03<br>[-0.08, 0.02]
</td>
<td style="text-align:center;">
1.07<br>[0.90, 1.28]
</td>
<td style="text-align:center;">
1.01<br>[0.92, 1.11]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
EAS
</td>
<td style="text-align:center;">
<strong>0.89<br>[0.84, 0.95]</strong>
</td>
<td style="text-align:center;">
-0.05<br>[-0.13, 0.03]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.92<br>[0.72, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.15<br>[0.94, 1.45]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
WUSM-MAP
</td>
<td style="text-align:center;">
<strong>0.89<br>[0.85, 0.93]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.09, 0.02]
</td>
<td style="text-align:center;">
-0.001<br>[-0.08, 0.06]
</td>
<td style="text-align:center;">
1.05<br>[0.94, 1.17]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.95<br>[0.84, 1.09]
</td>
<td style="text-align:center;">
-0.00<br>[-0.04, 0.04]
</td>
<td style="text-align:center;">
0.01<br>[-0.03, 0.05]
</td>
<td style="text-align:center;">
-0.02<br>[-0.07, 0.02]
</td>
<td style="text-align:center;">
0.99<br>[0.76, 1.20]
</td>
<td style="text-align:center;">
0.99<br>[0.87, 1.09]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.84, 0.93]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.85, 0.91]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.80, 0.95]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.83, 0.94]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.85, 0.92]</strong>
</td>
<td style="text-align:center;">
-0.04<br>[-0.11, 0.02]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.12]
</td>
<td style="text-align:center;">
0.95<br>[0.67, 1.22]
</td>
<td style="text-align:center;">
1.02<br>[0.83, 1.28]
</td>
<td style="text-align:center;">
1.06<br>[0.84, 1.37]
</td>
<td style="text-align:center;">
-0.01<br>[-0.12, 0.05]
</td>
<td style="text-align:center;">
-0.03<br>[-0.16, 0.07]
</td>
<td style="text-align:center;">
-0.02<br>[-0.11, 0.07]
</td>
<td style="text-align:center;">
1.06<br>[0.88, 1.30]
</td>
<td style="text-align:center;">
1.02<br>[0.85, 1.19]
</td>
</tr>
<tr grouplength="9">
<td colspan="12" style="border-bottom: 0;">
<strong>Neuroticism</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.05, 1.15]</strong>
</td>
<td style="text-align:center;">
0.01<br>[-0.05, 0.06]
</td>
<td style="text-align:center;">
-0.02<br>[-0.07, 0.03]
</td>
<td style="text-align:center;">
1.01<br>[0.91, 1.10]
</td>
<td style="text-align:center;">
0.99<br>[0.91, 1.08]
</td>
<td style="text-align:center;">
0.99<br>[0.91, 1.07]
</td>
<td style="text-align:center;">
0.02<br>[-0.01, 0.05]
</td>
<td style="text-align:center;">
-0.01<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
0.01<br>[-0.03, 0.04]
</td>
<td style="text-align:center;">
1.04<br>[0.92, 1.17]
</td>
<td style="text-align:center;">
1.00<br>[0.90, 1.09]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
<strong>1.11<br>[1.06, 1.17]</strong>
</td>
<td style="text-align:center;">
0.03<br>[-0.02, 0.10]
</td>
<td style="text-align:center;">
-0.03<br>[-0.08, 0.02]
</td>
<td style="text-align:center;">
1.06<br>[0.96, 1.20]
</td>
<td style="text-align:center;">
0.95<br>[0.86, 1.04]
</td>
<td style="text-align:center;">
0.98<br>[0.89, 1.07]
</td>
<td style="text-align:center;">
0.00<br>[-0.03, 0.04]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.06]
</td>
<td style="text-align:center;">
-0.01<br>[-0.05, 0.03]
</td>
<td style="text-align:center;">
1.05<br>[0.92, 1.20]
</td>
<td style="text-align:center;">
1.04<br>[0.96, 1.15]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
EAS
</td>
<td style="text-align:center;">
<strong>1.09<br>[1.01, 1.15]</strong>
</td>
<td style="text-align:center;">
-0.02<br>[-0.11, 0.08]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.96<br>[0.75, 1.11]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.01<br>[0.83, 1.18]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
WUSM-MAP
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.04, 1.15]</strong>
</td>
<td style="text-align:center;">
<strong>0.09<br>[0.02, 0.16]</strong>
</td>
<td style="text-align:center;">
0.02<br>[-0.04, 0.07]
</td>
<td style="text-align:center;">
1.02<br>[0.91, 1.13]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.98<br>[0.87, 1.12]
</td>
<td style="text-align:center;">
0.02<br>[-0.01, 0.05]
</td>
<td style="text-align:center;">
0.01<br>[-0.03, 0.06]
</td>
<td style="text-align:center;">
0.03<br>[-0.02, 0.08]
</td>
<td style="text-align:center;">
0.98<br>[0.79, 1.15]
</td>
<td style="text-align:center;">
1.04<br>[0.93, 1.18]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.04, 1.15]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.07, 1.13]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.01, 1.18]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.04, 1.17]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.06, 1.14]</strong>
</td>
<td style="text-align:center;">
0.04<br>[-0.09, 0.21]
</td>
<td style="text-align:center;">
-0.03<br>[-0.18, 0.07]
</td>
<td style="text-align:center;">
1.01<br>[0.86, 1.16]
</td>
<td style="text-align:center;">
0.96<br>[0.52, 1.35]
</td>
<td style="text-align:center;">
0.98<br>[0.86, 1.13]
</td>
<td style="text-align:center;">
0.01<br>[-0.05, 0.06]
</td>
<td style="text-align:center;">
-0.00<br>[-0.10, 0.07]
</td>
<td style="text-align:center;">
0.01<br>[-0.07, 0.09]
</td>
<td style="text-align:center;">
1.02<br>[0.87, 1.20]
</td>
<td style="text-align:center;">
1.03<br>[0.88, 1.19]
</td>
</tr>
<tr grouplength="8">
<td colspan="12" style="border-bottom: 0;">
<strong>Openness to Experience</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
<strong>0.93<br>[0.85, 0.99]</strong>
</td>
<td style="text-align:center;">
0.00<br>[-0.06, 0.08]
</td>
<td style="text-align:center;">
-0.03<br>[-0.08, 0.03]
</td>
<td style="text-align:center;">
1.09<br>[0.96, 1.27]
</td>
<td style="text-align:center;">
1.00<br>[0.89, 1.12]
</td>
<td style="text-align:center;">
0.91<br>[0.80, 1.03]
</td>
<td style="text-align:center;">
-0.03<br>[-0.07, 0.01]
</td>
<td style="text-align:center;">
-0.02<br>[-0.07, 0.03]
</td>
<td style="text-align:center;">
<strong>-0.07<br>[-0.12, -0.02]</strong>
</td>
<td style="text-align:center;">
1.03<br>[0.85, 1.23]
</td>
<td style="text-align:center;">
1.03<br>[0.91, 1.15]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
EAS
</td>
<td style="text-align:center;">
0.98<br>[0.91, 1.10]
</td>
<td style="text-align:center;">
-0.01<br>[-0.10, 0.10]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.02<br>[0.81, 1.26]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
1.03<br>[0.83, 1.29]
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
WUSM-MAP
</td>
<td style="text-align:center;">
0.96<br>[0.91, 1.03]
</td>
<td style="text-align:center;">
-0.01<br>[-0.08, 0.05]
</td>
<td style="text-align:center;">
-0.02<br>[-0.07, 0.04]
</td>
<td style="text-align:center;">
0.99<br>[0.88, 1.10]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
0.97<br>[0.84, 1.12]
</td>
<td style="text-align:center;">
-0.01<br>[-0.05, 0.03]
</td>
<td style="text-align:center;">
-0.03<br>[-0.07, 0.02]
</td>
<td style="text-align:center;">
-0.01<br>[-0.06, 0.04]
</td>
<td style="text-align:center;">
1.03<br>[0.82, 1.34]
</td>
<td style="text-align:center;">
1.02<br>[0.89, 1.17]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
0.94<br>[0.86, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>0.96<br>[0.93, 1.00]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
0.98<br>[0.87, 1.15]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>0.93<br>[0.84, 1.00]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
0.95<br>[0.90, 1.02]
</td>
<td style="text-align:center;">
-0.01<br>[-0.10, 0.10]
</td>
<td style="text-align:center;">
-0.08<br>[-0.41, 0.15]
</td>
<td style="text-align:center;">
1.03<br>[0.83, 1.32]
</td>
<td style="text-align:center;">
0.90<br>[0.42, 2.13]
</td>
<td style="text-align:center;">
0.95<br>[0.69, 1.53]
</td>
<td style="text-align:center;">
-0.05<br>[-0.21, 0.16]
</td>
<td style="text-align:center;">
-0.03<br>[-0.36, 0.20]
</td>
<td style="text-align:center;">
-0.05<br>[-0.40, 0.26]
</td>
<td style="text-align:center;">
1.02<br>[0.78, 1.30]
</td>
<td style="text-align:center;">
1.02<br>[0.78, 1.32]
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Positive Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
0.97<br>[0.90, 1.08]
</td>
<td style="text-align:center;">
-0.000<br>[-0.09, 0.08]
</td>
<td style="text-align:center;">
0.02<br>[-0.05, 0.11]
</td>
<td style="text-align:center;">
1.01<br>[0.88, 1.17]
</td>
<td style="text-align:center;">
1.02<br>[0.87, 1.16]
</td>
<td style="text-align:center;">
1.00<br>[0.83, 1.12]
</td>
<td style="text-align:center;">
0.01<br>[-0.04, 0.05]
</td>
<td style="text-align:center;">
0.04<br>[-0.03, 0.10]
</td>
<td style="text-align:center;">
-0.02<br>[-0.08, 0.04]
</td>
<td style="text-align:center;">
1.04<br>[0.77, 1.40]
</td>
<td style="text-align:center;">
1.11<br>[0.94, 1.74]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
<strong>0.94<br>[0.91, 0.99]</strong>
</td>
<td style="text-align:center;">
-0.01<br>[-0.04, 0.02]
</td>
<td style="text-align:center;">
0.01<br>[-0.02, 0.04]
</td>
<td style="text-align:center;">
0.97<br>[0.91, 1.03]
</td>
<td style="text-align:center;">
1.04<br>[0.98, 1.10]
</td>
<td style="text-align:center;">
1.05<br>[0.99, 1.11]
</td>
<td style="text-align:center;">
0.01<br>[-0.01, 0.03]
</td>
<td style="text-align:center;">
0.02<br>[-0.01, 0.04]
</td>
<td style="text-align:center;">
0.000<br>[-0.02, 0.02]
</td>
<td style="text-align:center;">
1.06<br>[0.95, 1.20]
</td>
<td style="text-align:center;">
1.02<br>[0.96, 1.08]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
0.95<br>[0.91, 1.02]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>0.93<br>[0.90, 0.96]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
0.90<br>[0.77, 1.01]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>0.89<br>[0.81, 0.96]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
0.93<br>[0.88, 1.00]
</td>
<td style="text-align:center;">
-0.03<br>[-0.31, 0.17]
</td>
<td style="text-align:center;">
0.01<br>[-0.16, 0.16]
</td>
<td style="text-align:center;">
0.89<br>[0.61, 1.37]
</td>
<td style="text-align:center;">
1.03<br>[0.80, 1.33]
</td>
<td style="text-align:center;">
1.04<br>[0.76, 1.35]
</td>
<td style="text-align:center;">
-0.03<br>[-0.29, 0.09]
</td>
<td style="text-align:center;">
0.01<br>[-0.24, 0.20]
</td>
<td style="text-align:center;">
0.07<br>[-0.15, 0.33]
</td>
<td style="text-align:center;">
1.08<br>[0.74, 1.64]
</td>
<td style="text-align:center;">
1.04<br>[0.66, 1.53]
</td>
</tr>
<tr grouplength="6">
<td colspan="12" style="border-bottom: 0;">
<strong>Negative Affect</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
1.07<br>[0.99, 1.15]
</td>
<td style="text-align:center;">
0.02<br>[-0.03, 0.08]
</td>
<td style="text-align:center;">
-0.03<br>[-0.08, 0.02]
</td>
<td style="text-align:center;">
0.99<br>[0.89, 1.11]
</td>
<td style="text-align:center;">
0.98<br>[0.89, 1.08]
</td>
<td style="text-align:center;">
0.97<br>[0.88, 1.07]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.05]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.06]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.06]
</td>
<td style="text-align:center;">
0.95<br>[0.78, 1.13]
</td>
<td style="text-align:center;">
1.05<br>[0.96, 1.16]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
<strong>1.09<br>[1.02, 1.16]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>1.17<br>[1.13, 1.21]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
1.17<br>[0.99, 1.35]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>1.21<br>[1.10, 1.34]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
<strong>1.14<br>[1.02, 1.26]</strong>
</td>
<td style="text-align:center;">
-0.03<br>[-1.23, 1.15]
</td>
<td style="text-align:center;">
-0.14<br>[-1.42, 1.29]
</td>
<td style="text-align:center;">
0.98<br>[0.21, 4.67]
</td>
<td style="text-align:center;">
1.07<br>[0.27, 4.56]
</td>
<td style="text-align:center;">
1.03<br>[0.17, 4.73]
</td>
<td style="text-align:center;">
-0.03<br>[-1.26, 1.08]
</td>
<td style="text-align:center;">
0.19<br>[-1.35, 1.71]
</td>
<td style="text-align:center;">
-0.02<br>[-1.30, 1.04]
</td>
<td style="text-align:center;">
0.96<br>[0.21, 3.79]
</td>
<td style="text-align:center;">
0.95<br>[0.27, 4.88]
</td>
</tr>
<tr grouplength="7">
<td colspan="12" style="border-bottom: 0;">
<strong>Satisfaction with Life</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
ROS
</td>
<td style="text-align:center;">
0.97<br>[0.86, 1.09]
</td>
<td style="text-align:center;">
0.03<br>[-0.06, 0.12]
</td>
<td style="text-align:center;">
0.03<br>[-0.05, 0.13]
</td>
<td style="text-align:center;">
1.08<br>[0.91, 1.28]
</td>
<td style="text-align:center;">
0.94<br>[0.77, 1.07]
</td>
<td style="text-align:center;">
1.03<br>[0.85, 1.21]
</td>
<td style="text-align:center;">
0.02<br>[-0.03, 0.07]
</td>
<td style="text-align:center;">
0.001<br>[-0.08, 0.07]
</td>
<td style="text-align:center;">
-0.04<br>[-0.11, 0.03]
</td>
<td style="text-align:center;">
0.50<br>[0.05, 1.09]
</td>
<td style="text-align:center;">
1.11<br>[0.95, 1.27]
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Rush-MAP
</td>
<td style="text-align:center;">
<strong>0.93<br>[0.87, 0.99]</strong>
</td>
<td style="text-align:center;">
0.001<br>[-0.05, 0.05]
</td>
<td style="text-align:center;">
-0.02<br>[-0.06, 0.03]
</td>
<td style="text-align:center;">
1.02<br>[0.93, 1.14]
</td>
<td style="text-align:center;">
1.00<br>[0.92, 1.09]
</td>
<td style="text-align:center;">
<strong>1.14<br>[1.04, 1.26]</strong>
</td>
<td style="text-align:center;">
0.03<br>[-0.00, 0.05]
</td>
<td style="text-align:center;">
0.02<br>[-0.02, 0.06]
</td>
<td style="text-align:center;">
0.00<br>[-0.03, 0.04]
</td>
<td style="text-align:center;">
0.98<br>[0.84, 1.15]
</td>
<td style="text-align:center;">
<strong>1.12<br>[1.03, 1.21]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
SATSA
</td>
<td style="text-align:center;">
0.99<br>[0.94, 1.04]
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
HRS
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.93, 0.98]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
LISS
</td>
<td style="text-align:center;">
<strong>0.86<br>[0.72, 0.99]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
GSOEP
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.81, 0.95]</strong>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:right;padding-left: 2em;" indentlevel="1">
Overall
</td>
<td style="text-align:center;">
0.93<br>[0.84, 1.03]
</td>
<td style="text-align:center;">
0.000<br>[-0.33, 0.26]
</td>
<td style="text-align:center;">
0.01<br>[-0.40, 0.53]
</td>
<td style="text-align:center;">
1.07<br>[0.79, 1.49]
</td>
<td style="text-align:center;">
0.98<br>[0.72, 1.36]
</td>
<td style="text-align:center;">
1.08<br>[0.73, 1.71]
</td>
<td style="text-align:center;">
-0.01<br>[-0.23, 0.18]
</td>
<td style="text-align:center;">
0.01<br>[-0.17, 0.23]
</td>
<td style="text-align:center;">
-0.02<br>[-0.20, 0.17]
</td>
<td style="text-align:center;">
0.91<br>[0.34, 2.26]
</td>
<td style="text-align:center;">
1.10<br>[0.78, 1.53]
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Shared covariates adjusted models Include age, gender, education, smoking status, alcohol use.
</td>
</tr>
</tfoot>
</table>
</div>
<div id="heterogeneity-estimates" class="section level4 hasAnchor" number="3.4.1.3">
<h4><span class="header-section-number">3.4.1.3</span> Heterogeneity Estimates<a href="runmodels.html#heterogeneity-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h4>
</div>
<div id="all-model-terms" class="section level4 hasAnchor" number="3.4.1.4">
<h4><span class="header-section-number">3.4.1.4</span> All Model Terms<a href="runmodels.html#all-model-terms" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="runmodels.html#cb219-1" aria-hidden="true" tabindex="-1"></a>ipd_mod_tab <span class="ot">&lt;-</span> nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb219-2"><a href="runmodels.html#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n, <span class="sc">-</span>rx) <span class="sc">%&gt;%</span></span>
<span id="cb219-3"><a href="runmodels.html#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(fx) <span class="sc">%&gt;%</span></span>
<span id="cb219-4"><a href="runmodels.html#cb219-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># keep key terms </span></span>
<span id="cb219-5"><a href="runmodels.html#cb219-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mark significance and prettify trait, outcome, and covariate names</span></span>
<span id="cb219-6"><a href="runmodels.html#cb219-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb219-7"><a href="runmodels.html#cb219-7" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">Outcome =</span> short_name, link)</span>
<span id="cb219-8"><a href="runmodels.html#cb219-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb219-9"><a href="runmodels.html#cb219-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">ifelse</span>(<span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high), <span class="st">&quot;sig&quot;</span>, <span class="st">&quot;ns&quot;</span>),</span>
<span id="cb219-10"><a href="runmodels.html#cb219-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name),</span>
<span id="cb219-11"><a href="runmodels.html#cb219-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">Outcome =</span> <span class="fu">factor</span>(Outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name),</span>
<span id="cb219-12"><a href="runmodels.html#cb219-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">Moderator =</span> <span class="fu">factor</span>(Moderator, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name),</span>
<span id="cb219-13"><a href="runmodels.html#cb219-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">Covariate =</span> <span class="fu">factor</span>(Covariate, covars<span class="sc">$</span>short_name, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>))</span>
<span id="cb219-14"><a href="runmodels.html#cb219-14" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb219-15"><a href="runmodels.html#cb219-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), <span class="sc">~</span><span class="fu">ifelse</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>, <span class="fu">exp</span>(.), .)) <span class="sc">%&gt;%</span></span>
<span id="cb219-16"><a href="runmodels.html#cb219-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># format values as text, combine estimates and CI&#39;s, bold significance</span></span>
<span id="cb219-17"><a href="runmodels.html#cb219-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), </span>
<span id="cb219-18"><a href="runmodels.html#cb219-18" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">abs</span>(.) <span class="sc">&lt;</span> .<span class="dv">01</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, .), <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb219-19"><a href="runmodels.html#cb219-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">est =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s&lt;br&gt;[%s, %s]&quot;</span>, estimate, conf.low, conf.high),</span>
<span id="cb219-20"><a href="runmodels.html#cb219-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">est =</span> <span class="fu">ifelse</span>(sig <span class="sc">==</span> <span class="st">&quot;sig&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;%s&lt;/strong&gt;&quot;</span>, est), est)) <span class="sc">%&gt;%</span></span>
<span id="cb219-21"><a href="runmodels.html#cb219-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(est = sprintf(&quot;%s [%s, %s]&quot;, estimate, conf.low, conf.high),</span></span>
<span id="cb219-22"><a href="runmodels.html#cb219-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># est = ifelse(sig == &quot;sig&quot;, sprintf(&quot;\\textbf{%s}&quot;, est), est)) %&gt;%</span></span>
<span id="cb219-23"><a href="runmodels.html#cb219-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># final reshaping, remove extra columns, arrange values, and change to wide format</span></span>
<span id="cb219-24"><a href="runmodels.html#cb219-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate, <span class="sc">-</span>conf.low, <span class="sc">-</span>conf.high, <span class="sc">-</span>sig) <span class="sc">%&gt;%</span></span>
<span id="cb219-25"><a href="runmodels.html#cb219-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Outcome, Trait, Moderator, Covariate) <span class="sc">%&gt;%</span></span>
<span id="cb219-26"><a href="runmodels.html#cb219-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Trait&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;est&quot;</span>) </span>
<span id="cb219-27"><a href="runmodels.html#cb219-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-28"><a href="runmodels.html#cb219-28" aria-hidden="true" tabindex="-1"></a>ipd_mod_tab_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, out, moder, cov, link){</span>
<span id="cb219-29"><a href="runmodels.html#cb219-29" aria-hidden="true" tabindex="-1"></a>  md <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(moder, moders<span class="sc">$</span>long_name, moders<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb219-30"><a href="runmodels.html#cb219-30" aria-hidden="true" tabindex="-1"></a>  o <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(out, outcomes<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb219-31"><a href="runmodels.html#cb219-31" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb219-32"><a href="runmodels.html#cb219-32" aria-hidden="true" tabindex="-1"></a>  cs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">9</span>)</span>
<span id="cb219-33"><a href="runmodels.html#cb219-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(cs) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;&lt;strong&gt;&quot;</span>, traits<span class="sc">$</span>long_name, <span class="st">&quot;&lt;/strong&gt;&quot;</span>))</span>
<span id="cb219-34"><a href="runmodels.html#cb219-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># cln &lt;- if(length(unique(d$term2)) == 1) c(&quot;Covariate&quot;, rep(&quot;\\textit{b} [CI]&quot;, 5)) else c(&quot; &quot;, &quot;Term&quot;, rep(&quot;\\textit{b} [CI]&quot;, 5))</span></span>
<span id="cb219-35"><a href="runmodels.html#cb219-35" aria-hidden="true" tabindex="-1"></a>  lnk <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="st">&quot;&lt;em&gt;OR&lt;/em&gt; [CI]&quot;</span> <span class="cf">else</span> <span class="st">&quot;&lt;em&gt;b&lt;/em&gt; [CI]&quot;</span></span>
<span id="cb219-36"><a href="runmodels.html#cb219-36" aria-hidden="true" tabindex="-1"></a>  cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Term&quot;</span>, <span class="fu">rep</span>(lnk, <span class="dv">8</span>))</span>
<span id="cb219-37"><a href="runmodels.html#cb219-37" aria-hidden="true" tabindex="-1"></a>  al <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;r&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="dv">8</span>))</span>
<span id="cb219-38"><a href="runmodels.html#cb219-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># caption </span></span>
<span id="cb219-39"><a href="runmodels.html#cb219-39" aria-hidden="true" tabindex="-1"></a>  cap <span class="ot">&lt;-</span> <span class="cf">if</span>(md <span class="sc">==</span> <span class="st">&quot;none&quot;</span>) <span class="fu">sprintf</span>(<span class="st">&quot;All %s Model Estimates of Fixed Effect Personality-Dementia Diagnosis / Neuropathology Associations&quot;</span>, cov) <span class="cf">else</span> <span class="fu">sprintf</span>(<span class="st">&quot;All %s Model Estimates of Fixed Effect %s Moderation of Personality-Crystallized Domain Associations&quot;</span>, cov, md)</span>
<span id="cb219-40"><a href="runmodels.html#cb219-40" aria-hidden="true" tabindex="-1"></a>  fn <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>desc, <span class="at">warn_missing =</span> F)</span>
<span id="cb219-41"><a href="runmodels.html#cb219-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-42"><a href="runmodels.html#cb219-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># kable the table</span></span>
<span id="cb219-43"><a href="runmodels.html#cb219-43" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb219-44"><a href="runmodels.html#cb219-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(term) <span class="sc">%&gt;%</span></span>
<span id="cb219-45"><a href="runmodels.html#cb219-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb219-46"><a href="runmodels.html#cb219-46" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kable(., &quot;latex&quot;</span></span>
<span id="cb219-47"><a href="runmodels.html#cb219-47" aria-hidden="true" tabindex="-1"></a>          , <span class="at">booktabs =</span> T</span>
<span id="cb219-48"><a href="runmodels.html#cb219-48" aria-hidden="true" tabindex="-1"></a>          , <span class="at">escape =</span> F</span>
<span id="cb219-49"><a href="runmodels.html#cb219-49" aria-hidden="true" tabindex="-1"></a>          , <span class="at">col.names =</span> cln</span>
<span id="cb219-50"><a href="runmodels.html#cb219-50" aria-hidden="true" tabindex="-1"></a>          , <span class="at">align =</span> al</span>
<span id="cb219-51"><a href="runmodels.html#cb219-51" aria-hidden="true" tabindex="-1"></a>          , <span class="at">caption =</span> cap</span>
<span id="cb219-52"><a href="runmodels.html#cb219-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb219-53"><a href="runmodels.html#cb219-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb219-54"><a href="runmodels.html#cb219-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kable_styling(full_width = F, font_size = 7) %&gt;%</span></span>
<span id="cb219-55"><a href="runmodels.html#cb219-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_above</span>(cs, <span class="at">escape =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb219-56"><a href="runmodels.html#cb219-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">footnote</span>(fn)</span>
<span id="cb219-57"><a href="runmodels.html#cb219-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># save the resulting html table</span></span>
<span id="cb219-58"><a href="runmodels.html#cb219-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save_kable</span>(tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/all-terms/%s_%s_%s.html&quot;</span></span>
<span id="cb219-59"><a href="runmodels.html#cb219-59" aria-hidden="true" tabindex="-1"></a>                                 , local_path, o, md, cv))</span>
<span id="cb219-60"><a href="runmodels.html#cb219-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tab) <span class="co"># return the html table</span></span>
<span id="cb219-61"><a href="runmodels.html#cb219-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb219-62"><a href="runmodels.html#cb219-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-63"><a href="runmodels.html#cb219-63" aria-hidden="true" tabindex="-1"></a>ipd_mod_tab <span class="ot">&lt;-</span> ipd_mod_tab <span class="sc">%&gt;%</span></span>
<span id="cb219-64"><a href="runmodels.html#cb219-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Outcome, Moderator, Covariate, link) <span class="sc">%&gt;%</span></span>
<span id="cb219-65"><a href="runmodels.html#cb219-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb219-66"><a href="runmodels.html#cb219-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb219-67"><a href="runmodels.html#cb219-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tab =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Outcome, Moderator, Covariate, link), ipd_mod_tab_fun))</span>
<span id="cb219-68"><a href="runmodels.html#cb219-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-69"><a href="runmodels.html#cb219-69" aria-hidden="true" tabindex="-1"></a>(ipd_mod_tab <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Covariate <span class="sc">==</span> <span class="st">&quot;Shared</span><span class="sc">\n</span><span class="st">Covariates</span><span class="sc">\n</span><span class="st">Adjusted&quot;</span>))<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>
<span id="tab:unnamed-chunk-17">Table 3.3: </span>All Shared
Covariates
Adjusted Model Estimates of Fixed Effect Personality-Dementia Diagnosis / Neuropathology Associations
</caption>
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Extraversion</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Agreeableness</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Conscientiousness</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Neuroticism</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Openness to Experience</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Positive Affect</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Negative Affect</strong>
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
<strong>Satisfaction with Life</strong>
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Term
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
<th style="text-align:center;">
<em>OR</em> [CI]
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
(Intercept)
</td>
<td style="text-align:center;">
<strong>0.05<br>[0.02, 0.14]</strong>
</td>
<td style="text-align:center;">
<strong>0.04<br>[0.01, 0.17]</strong>
</td>
<td style="text-align:center;">
<strong>0.09<br>[0.03, 0.25]</strong>
</td>
<td style="text-align:center;">
<strong>0.03<br>[0.009, 0.07]</strong>
</td>
<td style="text-align:center;">
<strong>0.05<br>[0.01, 0.17]</strong>
</td>
<td style="text-align:center;">
<strong>0.06<br>[0.02, 0.18]</strong>
</td>
<td style="text-align:center;">
<strong>0.02<br>[0.005, 0.08]</strong>
</td>
<td style="text-align:center;">
<strong>0.06<br>[0.02, 0.16]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
age
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.08<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.09<br>[1.08, 1.09]</strong>
</td>
<td style="text-align:center;">
<strong>1.09<br>[1.08, 1.09]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
alcohol1
</td>
<td style="text-align:center;">
<strong>0.82<br>[0.74, 0.91]</strong>
</td>
<td style="text-align:center;">
<strong>0.83<br>[0.74, 0.94]</strong>
</td>
<td style="text-align:center;">
<strong>0.81<br>[0.73, 0.91]</strong>
</td>
<td style="text-align:center;">
<strong>0.82<br>[0.74, 0.91]</strong>
</td>
<td style="text-align:center;">
<strong>0.84<br>[0.75, 0.94]</strong>
</td>
<td style="text-align:center;">
<strong>0.83<br>[0.74, 0.93]</strong>
</td>
<td style="text-align:center;">
<strong>0.82<br>[0.73, 0.92]</strong>
</td>
<td style="text-align:center;">
<strong>0.83<br>[0.74, 0.93]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
cor__(Intercept).p_value
</td>
<td style="text-align:center;">
0.94<br>[0.39, 2.52]
</td>
<td style="text-align:center;">
0.75<br>[0.38, 2.29]
</td>
<td style="text-align:center;">
0.98<br>[0.38, 2.61]
</td>
<td style="text-align:center;">
0.97<br>[0.38, 2.58]
</td>
<td style="text-align:center;">
0.82<br>[0.39, 2.40]
</td>
<td style="text-align:center;">
1.51<br>[0.47, 2.69]
</td>
<td style="text-align:center;">
0.61<br>[0.37, 1.69]
</td>
<td style="text-align:center;">
1.37<br>[0.52, 2.60]
</td>
</tr>
<tr>
<td style="text-align:right;">
education
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.94, 0.97]</strong>
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.93, 0.96]</strong>
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.94, 0.97]</strong>
</td>
<td style="text-align:center;">
<strong>0.96<br>[0.94, 0.97]</strong>
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.93, 0.97]</strong>
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.93, 0.96]</strong>
</td>
<td style="text-align:center;">
<strong>0.96<br>[0.94, 0.97]</strong>
</td>
<td style="text-align:center;">
<strong>0.95<br>[0.93, 0.96]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
gender1
</td>
<td style="text-align:center;">
1.02<br>[0.92, 1.12]
</td>
<td style="text-align:center;">
1.03<br>[0.93, 1.15]
</td>
<td style="text-align:center;">
1.02<br>[0.92, 1.13]
</td>
<td style="text-align:center;">
0.98<br>[0.89, 1.09]
</td>
<td style="text-align:center;">
1.01<br>[0.91, 1.14]
</td>
<td style="text-align:center;">
1.01<br>[0.90, 1.15]
</td>
<td style="text-align:center;">
0.95<br>[0.84, 1.08]
</td>
<td style="text-align:center;">
1.02<br>[0.90, 1.14]
</td>
</tr>
<tr>
<td style="text-align:right;">
p_value
</td>
<td style="text-align:center;">
0.97<br>[0.93, 1.02]
</td>
<td style="text-align:center;">
0.97<br>[0.92, 1.03]
</td>
<td style="text-align:center;">
<strong>0.88<br>[0.85, 0.92]</strong>
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.06, 1.14]</strong>
</td>
<td style="text-align:center;">
0.95<br>[0.90, 1.02]
</td>
<td style="text-align:center;">
0.93<br>[0.88, 1.00]
</td>
<td style="text-align:center;">
<strong>1.14<br>[1.02, 1.26]</strong>
</td>
<td style="text-align:center;">
0.93<br>[0.84, 1.03]
</td>
</tr>
<tr>
<td style="text-align:right;">
sd__(Intercept)
</td>
<td style="text-align:center;">
<strong>4.15<br>[2.27, 12.70]</strong>
</td>
<td style="text-align:center;">
<strong>4.92<br>[2.40, 19.94]</strong>
</td>
<td style="text-align:center;">
<strong>3.90<br>[2.17, 11.42]</strong>
</td>
<td style="text-align:center;">
<strong>3.90<br>[2.20, 10.80]</strong>
</td>
<td style="text-align:center;">
<strong>5.13<br>[2.46, 22.04]</strong>
</td>
<td style="text-align:center;">
<strong>3.38<br>[1.69, 11.90]</strong>
</td>
<td style="text-align:center;">
<strong>4.16<br>[2.06, 17.37]</strong>
</td>
<td style="text-align:center;">
<strong>3.08<br>[1.54, 11.22]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
sd__p_value
</td>
<td style="text-align:center;">
<strong>1.03<br>[1.00, 1.11]</strong>
</td>
<td style="text-align:center;">
<strong>1.04<br>[1.00, 1.14]</strong>
</td>
<td style="text-align:center;">
<strong>1.02<br>[1.00, 1.08]</strong>
</td>
<td style="text-align:center;">
<strong>1.02<br>[1.00, 1.08]</strong>
</td>
<td style="text-align:center;">
<strong>1.05<br>[1.00, 1.16]</strong>
</td>
<td style="text-align:center;">
<strong>1.06<br>[1.00, 1.19]</strong>
</td>
<td style="text-align:center;">
<strong>1.09<br>[1.02, 1.30]</strong>
</td>
<td style="text-align:center;">
<strong>1.10<br>[1.01, 1.28]</strong>
</td>
</tr>
<tr>
<td style="text-align:right;">
smokes1
</td>
<td style="text-align:center;">
1.03<br>[0.93, 1.14]
</td>
<td style="text-align:center;">
1.05<br>[0.94, 1.18]
</td>
<td style="text-align:center;">
1.00<br>[0.90, 1.12]
</td>
<td style="text-align:center;">
1.02<br>[0.92, 1.13]
</td>
<td style="text-align:center;">
1.05<br>[0.94, 1.18]
</td>
<td style="text-align:center;">
0.99<br>[0.88, 1.11]
</td>
<td style="text-align:center;">
0.99<br>[0.88, 1.12]
</td>
<td style="text-align:center;">
1.01<br>[0.90, 1.13]
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Shared covariates adjusted models Include age, gender, education, smoking status, alcohol use.
</td>
</tr>
</tfoot>
</table>
</div>
</div>
<div id="figures" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Figures<a href="runmodels.html#figures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, let’s make figures. These will include 4 kinds:</p>
<ol style="list-style-type: decimal">
<li>“Forest Plots” over overall associations (and credible intervals) across traits, moderators, covariates, and outcomes<br />
</li>
<li>Sample-Specific Forest Plots (or true forest plots) of sample-specific and overall associations across traits, moderators, outcomes, and covariates<br />
</li>
<li>Overall Simple Slopes or figures showing the associations across levels of the moderators<br />
</li>
<li>Sample-Specific Simple Slopes or figures showing the associations across levels of the moderators for each sample</li>
</ol>
<div id="overall-forest" class="section level4 hasAnchor" number="3.4.2.1">
<h4><span class="header-section-number">3.4.2.1</span> Overall Forest<a href="runmodels.html#overall-forest" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="runmodels.html#cb220-1" aria-hidden="true" tabindex="-1"></a>fx_forest_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcome, mod, cov, link){</span>
<span id="cb220-2"><a href="runmodels.html#cb220-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(outcome, mod))</span>
<span id="cb220-3"><a href="runmodels.html#cb220-3" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>long_name, moders<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb220-4"><a href="runmodels.html#cb220-4" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(<span class="fu">abs</span>(<span class="fu">min</span>(df<span class="sc">$</span>estimate)), <span class="fu">abs</span>(<span class="fu">max</span>(df<span class="sc">$</span>estimate))), <span class="dv">3</span>)</span>
<span id="cb220-5"><a href="runmodels.html#cb220-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stds &lt;- unique(df$study)</span></span>
<span id="cb220-6"><a href="runmodels.html#cb220-6" aria-hidden="true" tabindex="-1"></a>  lim <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">c</span>(.<span class="dv">75</span>, <span class="fl">1.25</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">round</span>(<span class="dv">2</span><span class="sc">*</span>d,<span class="dv">2</span>), <span class="fu">round</span>(<span class="dv">2</span><span class="sc">*</span>d, <span class="dv">2</span>))</span>
<span id="cb220-7"><a href="runmodels.html#cb220-7" aria-hidden="true" tabindex="-1"></a>  brk <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">c</span>(.<span class="dv">75</span>, <span class="dv">1</span>, <span class="fl">1.25</span>) <span class="cf">else</span> {</span>
<span id="cb220-8"><a href="runmodels.html#cb220-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(d <span class="sc">&gt;</span> .<span class="dv">01</span>) <span class="fu">round</span>(<span class="fl">1.75</span><span class="sc">*</span>d,<span class="dv">2</span>) <span class="cf">else</span> <span class="fu">round</span>(<span class="fl">1.75</span><span class="sc">*</span>d,<span class="dv">3</span>) </span>
<span id="cb220-9"><a href="runmodels.html#cb220-9" aria-hidden="true" tabindex="-1"></a>    }; brk <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>brk, <span class="dv">0</span>, brk)</span>
<span id="cb220-10"><a href="runmodels.html#cb220-10" aria-hidden="true" tabindex="-1"></a>  lim_high <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) lim[<span class="dv">2</span>]<span class="sc">*</span><span class="dv">2</span> <span class="cf">else</span> lim[<span class="dv">2</span>]<span class="sc">*</span><span class="dv">4</span></span>
<span id="cb220-11"><a href="runmodels.html#cb220-11" aria-hidden="true" tabindex="-1"></a>  lab <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(brk, <span class="st">&quot;^0.&quot;</span>, <span class="st">&quot;.&quot;</span>)<span class="co">#str_remove(round(c(0-d-(d/5), 0, 0+d+(d/5)),2), &quot;^0&quot;)</span></span>
<span id="cb220-12"><a href="runmodels.html#cb220-12" aria-hidden="true" tabindex="-1"></a>  shapes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">18</span>)[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term))]</span>
<span id="cb220-13"><a href="runmodels.html#cb220-13" aria-hidden="true" tabindex="-1"></a>  lt <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;solid&quot;</span>, <span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term)))</span>
<span id="cb220-14"><a href="runmodels.html#cb220-14" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;None&quot;</span>){<span class="st">&quot;Main Effects&quot;</span>} <span class="cf">else</span> {<span class="fu">sprintf</span>(<span class="st">&quot;Personality x %s&quot;</span>, mod)}</span>
<span id="cb220-15"><a href="runmodels.html#cb220-15" aria-hidden="true" tabindex="-1"></a>  leg <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term)) <span class="sc">&gt;</span> <span class="dv">1</span>){<span class="st">&quot;bottom&quot;</span>} <span class="cf">else</span> {<span class="st">&quot;none&quot;</span>}</span>
<span id="cb220-16"><a href="runmodels.html#cb220-16" aria-hidden="true" tabindex="-1"></a>  trm <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;None&quot;</span>) <span class="fu">paste</span>(<span class="st">&quot;Personality x&quot;</span>, <span class="fu">unique</span>(df<span class="sc">$</span>term[<span class="sc">!</span><span class="fu">is.na</span>(df<span class="sc">$</span>term)])) <span class="cf">else</span> <span class="st">&quot;Main Effects&quot;</span></span>
<span id="cb220-17"><a href="runmodels.html#cb220-17" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(<span class="fu">tibble</span>(<span class="at">Trait =</span> <span class="st">&quot; &quot;</span>, <span class="at">estimate =</span> <span class="cn">NA</span>, <span class="at">n =</span> <span class="cn">NA</span>))</span>
<span id="cb220-18"><a href="runmodels.html#cb220-18" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(estimate)</span>
<span id="cb220-19"><a href="runmodels.html#cb220-19" aria-hidden="true" tabindex="-1"></a>  trts <span class="ot">&lt;-</span> df<span class="sc">$</span>Trait[<span class="sc">!</span>df<span class="sc">$</span>Trait <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>)]</span>
<span id="cb220-20"><a href="runmodels.html#cb220-20" aria-hidden="true" tabindex="-1"></a>  labs <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="st">&quot;OR [CI]&quot;</span> <span class="cf">else</span> <span class="st">&quot;b [CI]&quot;</span></span>
<span id="cb220-21"><a href="runmodels.html#cb220-21" aria-hidden="true" tabindex="-1"></a>  yint <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="dv">1</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb220-22"><a href="runmodels.html#cb220-22" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb220-23"><a href="runmodels.html#cb220-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high),</span>
<span id="cb220-24"><a href="runmodels.html#cb220-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">lst</span>(<span class="at">f =</span> <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">abs</span>(.) <span class="sc">&lt;</span> .<span class="dv">001</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.4f&quot;</span>, .), <span class="fu">ifelse</span>(<span class="fu">abs</span>(.) <span class="sc">&lt;</span> .<span class="dv">01</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, .), <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, .))))) <span class="sc">%&gt;%</span></span>
<span id="cb220-25"><a href="runmodels.html#cb220-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, <span class="fu">rev</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span>, trts)))<span class="co">#Trait = factor(Trait, rev(c(&quot; &quot;, traits$short_name)), rev(c(&quot; &quot;, traits$short_name)))</span></span>
<span id="cb220-26"><a href="runmodels.html#cb220-26" aria-hidden="true" tabindex="-1"></a>           , <span class="at">lb =</span> <span class="fu">ifelse</span>(conf.low <span class="sc">&lt;</span> lim[<span class="dv">1</span>], <span class="st">&quot;lower&quot;</span>, <span class="st">&quot;no&quot;</span>)</span>
<span id="cb220-27"><a href="runmodels.html#cb220-27" aria-hidden="true" tabindex="-1"></a>           , <span class="at">ub =</span> <span class="fu">ifelse</span>(conf.high <span class="sc">&gt;</span> lim[<span class="dv">2</span>], <span class="st">&quot;upper&quot;</span>, <span class="st">&quot;no&quot;</span>)</span>
<span id="cb220-28"><a href="runmodels.html#cb220-28" aria-hidden="true" tabindex="-1"></a>           , <span class="at">conf.low2 =</span> <span class="fu">ifelse</span>(conf.low <span class="sc">&lt;</span> lim[<span class="dv">1</span>], lim[<span class="dv">1</span>], conf.low)</span>
<span id="cb220-29"><a href="runmodels.html#cb220-29" aria-hidden="true" tabindex="-1"></a>           , <span class="at">conf.high2 =</span> <span class="fu">ifelse</span>(conf.high <span class="sc">&gt;</span> lim[<span class="dv">2</span>], lim[<span class="dv">2</span>], conf.high)</span>
<span id="cb220-30"><a href="runmodels.html#cb220-30" aria-hidden="true" tabindex="-1"></a>           , <span class="at">est =</span> <span class="fu">ifelse</span>(Trait <span class="sc">!=</span> <span class="st">&quot; &quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%s [%s, %s]&quot;</span>, estimate_f, conf.low_f, conf.high_f), <span class="st">&quot;&quot;</span>)</span>
<span id="cb220-31"><a href="runmodels.html#cb220-31" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Trait)</span>
<span id="cb220-32"><a href="runmodels.html#cb220-32" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb220-33"><a href="runmodels.html#cb220-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Trait, <span class="at">y =</span> estimate)) <span class="sc">+</span> </span>
<span id="cb220-34"><a href="runmodels.html#cb220-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> conf.low2, <span class="at">ymax =</span> conf.high2)</span>
<span id="cb220-35"><a href="runmodels.html#cb220-35" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span></span>
<span id="cb220-36"><a href="runmodels.html#cb220-36" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">width =</span> <span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb220-37"><a href="runmodels.html#cb220-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> term, <span class="at">size =</span> term)) <span class="sc">+</span></span>
<span id="cb220-38"><a href="runmodels.html#cb220-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lb <span class="sc">==</span> <span class="st">&quot;lower&quot;</span>)</span>
<span id="cb220-39"><a href="runmodels.html#cb220-39" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.high2, <span class="at">yend =</span> conf.low2, <span class="at">xend =</span> Trait)</span>
<span id="cb220-40"><a href="runmodels.html#cb220-40" aria-hidden="true" tabindex="-1"></a>                 , <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">&quot;closed&quot;</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;cm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb220-41"><a href="runmodels.html#cb220-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ub <span class="sc">==</span> <span class="st">&quot;upper&quot;</span>)</span>
<span id="cb220-42"><a href="runmodels.html#cb220-42" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.low2, <span class="at">yend =</span> conf.high2, <span class="at">xend =</span> Trait)</span>
<span id="cb220-43"><a href="runmodels.html#cb220-43" aria-hidden="true" tabindex="-1"></a>                 , <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">&quot;closed&quot;</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;cm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb220-44"><a href="runmodels.html#cb220-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> yint), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb220-45"><a href="runmodels.html#cb220-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">length</span>(trts) <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb220-46"><a href="runmodels.html#cb220-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="at">xmin =</span> <span class="fu">length</span>(trts) <span class="sc">+</span> .<span class="dv">6</span>, <span class="at">xmax =</span> <span class="cn">Inf</span>, <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb220-47"><a href="runmodels.html#cb220-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">label =</span> labs, <span class="at">x =</span> <span class="fu">length</span>(trts) <span class="sc">+</span> .<span class="dv">75</span>, <span class="at">y =</span> lim_high<span class="sc">*</span>.<span class="dv">75</span>, <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">fontface =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb220-48"><a href="runmodels.html#cb220-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">label =</span> trm, <span class="at">x =</span> <span class="fu">length</span>(trts) <span class="sc">+</span> .<span class="dv">75</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">fontface =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb220-49"><a href="runmodels.html#cb220-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> lim_high<span class="sc">*</span>.<span class="dv">75</span>, <span class="at">label =</span> est), <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb220-50"><a href="runmodels.html#cb220-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(lim[<span class="dv">1</span>], lim_high), <span class="at">breaks =</span> brk, <span class="at">labels =</span> lab) <span class="sc">+</span> </span>
<span id="cb220-51"><a href="runmodels.html#cb220-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>)) <span class="sc">+</span> </span>
<span id="cb220-52"><a href="runmodels.html#cb220-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb220-53"><a href="runmodels.html#cb220-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span></span>
<span id="cb220-54"><a href="runmodels.html#cb220-54" aria-hidden="true" tabindex="-1"></a>         , <span class="at">y =</span> <span class="st">&quot;Estimate&quot;</span></span>
<span id="cb220-55"><a href="runmodels.html#cb220-55" aria-hidden="true" tabindex="-1"></a>         <span class="co"># , title = meth</span></span>
<span id="cb220-56"><a href="runmodels.html#cb220-56" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb220-57"><a href="runmodels.html#cb220-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb220-58"><a href="runmodels.html#cb220-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb220-59"><a href="runmodels.html#cb220-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb220-60"><a href="runmodels.html#cb220-60" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb220-61"><a href="runmodels.html#cb220-61" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb220-62"><a href="runmodels.html#cb220-62" aria-hidden="true" tabindex="-1"></a>          , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb220-63"><a href="runmodels.html#cb220-63" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb220-64"><a href="runmodels.html#cb220-64" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb220-65"><a href="runmodels.html#cb220-65" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.line.x.top =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb220-66"><a href="runmodels.html#cb220-66" aria-hidden="true" tabindex="-1"></a>          <span class="co"># , panel.background = element_rect(fill = &quot;transparent&quot;, colour = NA)</span></span>
<span id="cb220-67"><a href="runmodels.html#cb220-67" aria-hidden="true" tabindex="-1"></a>          <span class="co"># , plot.background = element_rect(fill = &quot;transparent&quot;, colour = NA)</span></span>
<span id="cb220-68"><a href="runmodels.html#cb220-68" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb220-69"><a href="runmodels.html#cb220-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb220-70"><a href="runmodels.html#cb220-70" aria-hidden="true" tabindex="-1"></a>  my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb220-71"><a href="runmodels.html#cb220-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb220-72"><a href="runmodels.html#cb220-72" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>))</span>
<span id="cb220-73"><a href="runmodels.html#cb220-73" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb220-74"><a href="runmodels.html#cb220-74" aria-hidden="true" tabindex="-1"></a>  title_theme <span class="ot">&lt;-</span> <span class="fu">calc_element</span>(<span class="st">&quot;plot.title&quot;</span>, <span class="fu">my_theme</span>())</span>
<span id="cb220-75"><a href="runmodels.html#cb220-75" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span> </span>
<span id="cb220-76"><a href="runmodels.html#cb220-76" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw_label</span>(</span>
<span id="cb220-77"><a href="runmodels.html#cb220-77" aria-hidden="true" tabindex="-1"></a>          <span class="fu">str_wrap</span>(outcome, <span class="dv">50</span>),</span>
<span id="cb220-78"><a href="runmodels.html#cb220-78" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontfamily =</span> title_theme<span class="sc">$</span>family,</span>
<span id="cb220-79"><a href="runmodels.html#cb220-79" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontface =</span> title_theme<span class="sc">$</span>face,</span>
<span id="cb220-80"><a href="runmodels.html#cb220-80" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> title_theme<span class="sc">$</span>size<span class="dv">-2</span></span>
<span id="cb220-81"><a href="runmodels.html#cb220-81" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb220-82"><a href="runmodels.html#cb220-82" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(ttl, p1, <span class="at">rel_heights =</span> <span class="fu">c</span>(.<span class="dv">15</span>, .<span class="dv">85</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb220-83"><a href="runmodels.html#cb220-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)  </span>
<span id="cb220-84"><a href="runmodels.html#cb220-84" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb220-85"><a href="runmodels.html#cb220-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-86"><a href="runmodels.html#cb220-86" aria-hidden="true" tabindex="-1"></a>nested_ipd_fx_fig <span class="ot">&lt;-</span> nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb220-87"><a href="runmodels.html#cb220-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>rx, <span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb220-88"><a href="runmodels.html#cb220-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(fx) <span class="sc">%&gt;%</span></span>
<span id="cb220-89"><a href="runmodels.html#cb220-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb220-90"><a href="runmodels.html#cb220-90" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">Outcome =</span> short_name, link)</span>
<span id="cb220-91"><a href="runmodels.html#cb220-91" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb220-92"><a href="runmodels.html#cb220-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), <span class="sc">~</span><span class="fu">ifelse</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>, <span class="fu">exp</span>(.), .)) <span class="sc">%&gt;%</span></span>
<span id="cb220-93"><a href="runmodels.html#cb220-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((Moderator <span class="sc">==</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> term <span class="sc">==</span> <span class="st">&quot;p_value&quot;</span>) <span class="sc">|</span></span>
<span id="cb220-94"><a href="runmodels.html#cb220-94" aria-hidden="true" tabindex="-1"></a>         (Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">&quot;p_value:&quot;</span>, term)</span>
<span id="cb220-95"><a href="runmodels.html#cb220-95" aria-hidden="true" tabindex="-1"></a>          <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;p_value:study&quot;</span>, term)</span>
<span id="cb220-96"><a href="runmodels.html#cb220-96" aria-hidden="true" tabindex="-1"></a>          <span class="sc">&amp;</span> <span class="sc">!</span>(<span class="fu">grepl</span>(<span class="st">&quot;cor_&quot;</span>, term) <span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">&quot;sd_&quot;</span>, term)))) <span class="sc">%&gt;%</span></span>
<span id="cb220-97"><a href="runmodels.html#cb220-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">ifelse</span>(<span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high), <span class="st">&quot;sig&quot;</span>, <span class="st">&quot;ns&quot;</span>),</span>
<span id="cb220-98"><a href="runmodels.html#cb220-98" aria-hidden="true" tabindex="-1"></a>         <span class="at">Outcome =</span> <span class="fu">factor</span>(Outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name),</span>
<span id="cb220-99"><a href="runmodels.html#cb220-99" aria-hidden="true" tabindex="-1"></a>         <span class="at">Covariate =</span> <span class="fu">factor</span>(Covariate, covars<span class="sc">$</span>short_name, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>)),</span>
<span id="cb220-100"><a href="runmodels.html#cb220-100" aria-hidden="true" tabindex="-1"></a>         <span class="at">term =</span> <span class="fu">str_remove_all</span>(term, <span class="st">&quot;p_value:&quot;</span>),</span>
<span id="cb220-101"><a href="runmodels.html#cb220-101" aria-hidden="true" tabindex="-1"></a>         <span class="at">term =</span> <span class="fu">str_to_title</span>(<span class="fu">str_remove_all</span>(term, <span class="st">&quot;[0-9]&quot;</span>)),</span>
<span id="cb220-102"><a href="runmodels.html#cb220-102" aria-hidden="true" tabindex="-1"></a>         <span class="co"># term = factor(term, c(covars$short_term, moders$short_term, stdyModers$short_term),</span></span>
<span id="cb220-103"><a href="runmodels.html#cb220-103" aria-hidden="true" tabindex="-1"></a>         <span class="co">#               c(covars$long_term, moders$long_term, stdyModers$long_term)),</span></span>
<span id="cb220-104"><a href="runmodels.html#cb220-104" aria-hidden="true" tabindex="-1"></a>         <span class="at">Moderator =</span> <span class="fu">factor</span>(Moderator, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name)) <span class="sc">%&gt;%</span></span>
<span id="cb220-105"><a href="runmodels.html#cb220-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Moderator, Covariate, Outcome, link) <span class="sc">%&gt;%</span></span>
<span id="cb220-106"><a href="runmodels.html#cb220-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb220-107"><a href="runmodels.html#cb220-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb220-108"><a href="runmodels.html#cb220-108" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Covariate == &quot;Shared\nCovariates\nAdjusted&quot; &amp; Moderator == &quot;None&quot;) %&gt;% </span></span>
<span id="cb220-109"><a href="runmodels.html#cb220-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Outcome, Moderator, Covariate, link), fx_forest_fun))</span>
<span id="cb220-110"><a href="runmodels.html#cb220-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-111"><a href="runmodels.html#cb220-111" aria-hidden="true" tabindex="-1"></a>fx_forest_comb_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, mod, cov){</span>
<span id="cb220-112"><a href="runmodels.html#cb220-112" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>long_name, moders<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb220-113"><a href="runmodels.html#cb220-113" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, <span class="fu">str_wrap</span>(covars<span class="sc">$</span>long_name, <span class="dv">15</span>), covars<span class="sc">$</span>short_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb220-114"><a href="runmodels.html#cb220-114" aria-hidden="true" tabindex="-1"></a>  <span class="co"># d &lt;- d %&gt;% mutate(Outcome = factor(Outcome, outcomes$short_name, outcomes$long_name))</span></span>
<span id="cb220-115"><a href="runmodels.html#cb220-115" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(<span class="at">plotlist =</span> d<span class="sc">$</span>p</span>
<span id="cb220-116"><a href="runmodels.html#cb220-116" aria-hidden="true" tabindex="-1"></a>            , <span class="at">nrow =</span> <span class="fu">ceiling</span>(<span class="fu">nrow</span>(d)<span class="sc">/</span><span class="dv">3</span>))</span>
<span id="cb220-117"><a href="runmodels.html#cb220-117" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;None&quot;</span>) <span class="st">&quot;Personality-Dementia and Neuropathology Associations&quot;</span> <span class="cf">else</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s Moderators of Personality-Dementia and Neuropathology Associations&quot;</span>, mod)</span>
<span id="cb220-118"><a href="runmodels.html#cb220-118" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="fu">str_wrap</span>(<span class="fu">paste</span>(cov, titl), <span class="dv">60</span>)</span>
<span id="cb220-119"><a href="runmodels.html#cb220-119" aria-hidden="true" tabindex="-1"></a>  my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb220-120"><a href="runmodels.html#cb220-120" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb220-121"><a href="runmodels.html#cb220-121" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb220-122"><a href="runmodels.html#cb220-122" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb220-123"><a href="runmodels.html#cb220-123" aria-hidden="true" tabindex="-1"></a>  title_theme <span class="ot">&lt;-</span> <span class="fu">calc_element</span>(<span class="st">&quot;plot.title&quot;</span>, <span class="fu">my_theme</span>())</span>
<span id="cb220-124"><a href="runmodels.html#cb220-124" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span> </span>
<span id="cb220-125"><a href="runmodels.html#cb220-125" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw_label</span>(</span>
<span id="cb220-126"><a href="runmodels.html#cb220-126" aria-hidden="true" tabindex="-1"></a>          titl,</span>
<span id="cb220-127"><a href="runmodels.html#cb220-127" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontfamily =</span> title_theme<span class="sc">$</span>family,</span>
<span id="cb220-128"><a href="runmodels.html#cb220-128" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontface =</span> title_theme<span class="sc">$</span>face,</span>
<span id="cb220-129"><a href="runmodels.html#cb220-129" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> title_theme<span class="sc">$</span>size<span class="dv">-1</span></span>
<span id="cb220-130"><a href="runmodels.html#cb220-130" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb220-131"><a href="runmodels.html#cb220-131" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(ttl, p1, <span class="at">rel_heights =</span> <span class="fu">c</span>(.<span class="dv">1</span>, .<span class="dv">9</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb220-132"><a href="runmodels.html#cb220-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-133"><a href="runmodels.html#cb220-133" aria-hidden="true" tabindex="-1"></a>  ht <span class="ot">&lt;-</span> <span class="fu">nrow</span>(d)<span class="sc">/</span><span class="dv">3</span></span>
<span id="cb220-134"><a href="runmodels.html#cb220-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(<span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/overall-forest/%s_%s.png&quot;</span>, local_path, m, cv)</span>
<span id="cb220-135"><a href="runmodels.html#cb220-135" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> ht<span class="sc">*</span><span class="dv">3</span>)</span>
<span id="cb220-136"><a href="runmodels.html#cb220-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(<span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/overall-forest/%s_%s.pdf&quot;</span>, local_path, m, cv)</span>
<span id="cb220-137"><a href="runmodels.html#cb220-137" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> ht<span class="sc">*</span><span class="dv">3</span>)</span>
<span id="cb220-138"><a href="runmodels.html#cb220-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(p)</span>
<span id="cb220-139"><a href="runmodels.html#cb220-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb220-140"><a href="runmodels.html#cb220-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(T)</span>
<span id="cb220-141"><a href="runmodels.html#cb220-141" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb220-142"><a href="runmodels.html#cb220-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-143"><a href="runmodels.html#cb220-143" aria-hidden="true" tabindex="-1"></a>nested_ipd_fx_fig2 <span class="ot">&lt;-</span> nested_ipd_fx_fig <span class="sc">%&gt;%</span></span>
<span id="cb220-144"><a href="runmodels.html#cb220-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Moderator, Covariate, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb220-145"><a href="runmodels.html#cb220-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Moderator, Covariate) <span class="sc">%&gt;%</span></span>
<span id="cb220-146"><a href="runmodels.html#cb220-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb220-147"><a href="runmodels.html#cb220-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb220-148"><a href="runmodels.html#cb220-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Moderator, Covariate), fx_forest_comb_fun))</span></code></pre></div>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="runmodels.html#cb221-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/overall-forest/none_shared.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/overall-forest/none_shared.png" /><!-- --></p>
</div>
<div id="study-specific-forest" class="section level4 hasAnchor" number="3.4.2.2">
<h4><span class="header-section-number">3.4.2.2</span> Study-Specific Forest<a href="runmodels.html#study-specific-forest" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="runmodels.html#cb222-1" aria-hidden="true" tabindex="-1"></a>ipd_rx_plot_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcome, mod, cov, trait){</span>
<span id="cb222-2"><a href="runmodels.html#cb222-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(outcome, mod))</span>
<span id="cb222-3"><a href="runmodels.html#cb222-3" aria-hidden="true" tabindex="-1"></a>  trt <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(trait, traits<span class="sc">$</span>short_name, traits<span class="sc">$</span>long_name)</span>
<span id="cb222-4"><a href="runmodels.html#cb222-4" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb222-5"><a href="runmodels.html#cb222-5" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, covars<span class="sc">$</span>short_name, covars<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb222-6"><a href="runmodels.html#cb222-6" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(<span class="fu">abs</span>(<span class="fu">min</span>(df<span class="sc">$</span>estimate)), <span class="fu">abs</span>(<span class="fu">max</span>(df<span class="sc">$</span>estimate))), <span class="dv">3</span>)</span>
<span id="cb222-7"><a href="runmodels.html#cb222-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stds &lt;- unique(df$study)</span></span>
<span id="cb222-8"><a href="runmodels.html#cb222-8" aria-hidden="true" tabindex="-1"></a>  lim <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">-</span>d<span class="sc">-</span>(d<span class="sc">/</span><span class="fl">2.5</span>), <span class="dv">0</span><span class="sc">+</span>d<span class="sc">+</span>(d<span class="sc">/</span><span class="fl">2.5</span>))</span>
<span id="cb222-9"><a href="runmodels.html#cb222-9" aria-hidden="true" tabindex="-1"></a>  brk <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">-</span>d<span class="sc">-</span>(d<span class="sc">/</span><span class="dv">5</span>), <span class="dv">0</span>, <span class="dv">0</span><span class="sc">+</span>d<span class="sc">+</span>(d<span class="sc">/</span><span class="dv">5</span>)),<span class="dv">2</span>)</span>
<span id="cb222-10"><a href="runmodels.html#cb222-10" aria-hidden="true" tabindex="-1"></a>  lab <span class="ot">&lt;-</span> <span class="fu">str_remove</span>(<span class="fu">round</span>(<span class="fu">c</span>(<span class="dv">0</span><span class="sc">-</span>d<span class="sc">-</span>(d<span class="sc">/</span><span class="dv">5</span>), <span class="dv">0</span>, <span class="dv">0</span><span class="sc">+</span>d<span class="sc">+</span>(d<span class="sc">/</span><span class="dv">5</span>)),<span class="dv">2</span>), <span class="st">&quot;^0&quot;</span>)</span>
<span id="cb222-11"><a href="runmodels.html#cb222-11" aria-hidden="true" tabindex="-1"></a>  shapes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">18</span>)[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term))]</span>
<span id="cb222-12"><a href="runmodels.html#cb222-12" aria-hidden="true" tabindex="-1"></a>  lt <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;solid&quot;</span>, <span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term)))</span>
<span id="cb222-13"><a href="runmodels.html#cb222-13" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;none&quot;</span>){trt} <span class="cf">else</span> {<span class="fu">sprintf</span>(<span class="st">&quot;%s x %s&quot;</span>, trt, m)}</span>
<span id="cb222-14"><a href="runmodels.html#cb222-14" aria-hidden="true" tabindex="-1"></a>  leg <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>term)) <span class="sc">&gt;</span> <span class="dv">1</span>){<span class="st">&quot;bottom&quot;</span>} <span class="cf">else</span> {<span class="st">&quot;none&quot;</span>}</span>
<span id="cb222-15"><a href="runmodels.html#cb222-15" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(<span class="fu">tibble</span>(<span class="at">study =</span> <span class="st">&quot; &quot;</span>, <span class="at">estimate =</span> <span class="cn">NA</span>, <span class="at">n =</span> <span class="cn">NA</span>))</span>
<span id="cb222-16"><a href="runmodels.html#cb222-16" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(estimate)</span>
<span id="cb222-17"><a href="runmodels.html#cb222-17" aria-hidden="true" tabindex="-1"></a>  stds <span class="ot">&lt;-</span> df<span class="sc">$</span>study[<span class="sc">!</span>df<span class="sc">$</span>study <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Overall&quot;</span>, <span class="st">&quot; &quot;</span>)]</span>
<span id="cb222-18"><a href="runmodels.html#cb222-18" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb222-19"><a href="runmodels.html#cb222-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">study =</span> <span class="fu">factor</span>(study, <span class="fu">rev</span>(<span class="fu">c</span>(<span class="st">&quot; &quot;</span>, stds, <span class="st">&quot;Overall&quot;</span>)))</span>
<span id="cb222-20"><a href="runmodels.html#cb222-20" aria-hidden="true" tabindex="-1"></a>           <span class="co"># , conf.low = ifelse(conf.low &lt; lim[1], lim[1], conf.low)</span></span>
<span id="cb222-21"><a href="runmodels.html#cb222-21" aria-hidden="true" tabindex="-1"></a>           <span class="co"># , conf.high = ifelse(conf.high &gt; lim[2], lim[2], conf.high)</span></span>
<span id="cb222-22"><a href="runmodels.html#cb222-22" aria-hidden="true" tabindex="-1"></a>           , <span class="at">lb =</span> <span class="fu">ifelse</span>(conf.low <span class="sc">&lt;</span> lim[<span class="dv">1</span>], <span class="st">&quot;lower&quot;</span>, <span class="st">&quot;no&quot;</span>)</span>
<span id="cb222-23"><a href="runmodels.html#cb222-23" aria-hidden="true" tabindex="-1"></a>           , <span class="at">ub =</span> <span class="fu">ifelse</span>(conf.high <span class="sc">&gt;</span> lim[<span class="dv">2</span>], <span class="st">&quot;upper&quot;</span>, <span class="st">&quot;no&quot;</span>)</span>
<span id="cb222-24"><a href="runmodels.html#cb222-24" aria-hidden="true" tabindex="-1"></a>           , <span class="at">conf.low2 =</span> <span class="fu">ifelse</span>(conf.low <span class="sc">&lt;</span> lim[<span class="dv">1</span>], lim[<span class="dv">1</span>], conf.low)</span>
<span id="cb222-25"><a href="runmodels.html#cb222-25" aria-hidden="true" tabindex="-1"></a>           , <span class="at">conf.high2 =</span> <span class="fu">ifelse</span>(conf.high <span class="sc">&gt;</span> lim[<span class="dv">2</span>], lim[<span class="dv">2</span>], conf.high)</span>
<span id="cb222-26"><a href="runmodels.html#cb222-26" aria-hidden="true" tabindex="-1"></a>           , <span class="at">n =</span> <span class="fu">ifelse</span>(study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span>, <span class="fu">sum</span>(n, <span class="at">na.rm =</span> T), n)</span>
<span id="cb222-27"><a href="runmodels.html#cb222-27" aria-hidden="true" tabindex="-1"></a>           <span class="co"># , study = factor(study, levels = str_remove_all(c(&quot;Overall&quot;, studies_long), &quot;-&quot;), labels = c(&quot;Overall&quot;, studies_long))</span></span>
<span id="cb222-28"><a href="runmodels.html#cb222-28" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Trait = factor(Trait, levels = traits$short_name, labels = traits$long_name),</span></span>
<span id="cb222-29"><a href="runmodels.html#cb222-29" aria-hidden="true" tabindex="-1"></a>           , <span class="at">type =</span> <span class="fu">ifelse</span>(study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span>, <span class="st">&quot;fixed&quot;</span>, <span class="st">&quot;random&quot;</span>))</span>
<span id="cb222-30"><a href="runmodels.html#cb222-30" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb222-31"><a href="runmodels.html#cb222-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> study, <span class="at">y =</span> estimate)) <span class="sc">+</span> </span>
<span id="cb222-32"><a href="runmodels.html#cb222-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_errorbar(data = df %&gt;% filter(ub != &quot;upper&quot;)</span></span>
<span id="cb222-33"><a href="runmodels.html#cb222-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , aes(ymin = estimate, ymax = conf.high2)</span></span>
<span id="cb222-34"><a href="runmodels.html#cb222-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , position = &quot;dodge&quot;</span></span>
<span id="cb222-35"><a href="runmodels.html#cb222-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , width = .2) + </span></span>
<span id="cb222-36"><a href="runmodels.html#cb222-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_errorbar(data = df %&gt;% filter(lb != &quot;lower&quot;)</span></span>
<span id="cb222-37"><a href="runmodels.html#cb222-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , aes(ymin = conf.low2, ymax = estimate)</span></span>
<span id="cb222-38"><a href="runmodels.html#cb222-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , position = &quot;dodge&quot;</span></span>
<span id="cb222-39"><a href="runmodels.html#cb222-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">#               , width = .2) + </span></span>
<span id="cb222-40"><a href="runmodels.html#cb222-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> df<span class="co"># %&gt;% filter(study != &quot;Overall&quot;)</span></span>
<span id="cb222-41"><a href="runmodels.html#cb222-41" aria-hidden="true" tabindex="-1"></a>               , <span class="fu">aes</span>(<span class="at">shape =</span> term, <span class="at">size =</span> n)) <span class="sc">+</span> </span>
<span id="cb222-42"><a href="runmodels.html#cb222-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_point(data = df %&gt;% filter(study == &quot;Overall&quot;)</span></span>
<span id="cb222-43"><a href="runmodels.html#cb222-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">#            , aes(shape = term)) +</span></span>
<span id="cb222-44"><a href="runmodels.html#cb222-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lb <span class="sc">!=</span> <span class="st">&quot;lower&quot;</span>)</span>
<span id="cb222-45"><a href="runmodels.html#cb222-45" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.high2, <span class="at">yend =</span> conf.low2, <span class="at">xend =</span> study)) <span class="sc">+</span> </span>
<span id="cb222-46"><a href="runmodels.html#cb222-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ub <span class="sc">!=</span> <span class="st">&quot;upper&quot;</span>)</span>
<span id="cb222-47"><a href="runmodels.html#cb222-47" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.low2, <span class="at">yend =</span> conf.high2, <span class="at">xend =</span> study)) <span class="sc">+</span> </span>
<span id="cb222-48"><a href="runmodels.html#cb222-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lb <span class="sc">==</span> <span class="st">&quot;lower&quot;</span>)</span>
<span id="cb222-49"><a href="runmodels.html#cb222-49" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.high2, <span class="at">yend =</span> conf.low2, <span class="at">xend =</span> study)</span>
<span id="cb222-50"><a href="runmodels.html#cb222-50" aria-hidden="true" tabindex="-1"></a>                 , <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">&quot;closed&quot;</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;cm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb222-51"><a href="runmodels.html#cb222-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ub <span class="sc">==</span> <span class="st">&quot;upper&quot;</span>)</span>
<span id="cb222-52"><a href="runmodels.html#cb222-52" aria-hidden="true" tabindex="-1"></a>                 , <span class="fu">aes</span>(<span class="at">y =</span> conf.low2, <span class="at">yend =</span> conf.high2, <span class="at">xend =</span> study)</span>
<span id="cb222-53"><a href="runmodels.html#cb222-53" aria-hidden="true" tabindex="-1"></a>                 , <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">&quot;closed&quot;</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;cm&quot;</span>))) <span class="sc">+</span></span>
<span id="cb222-54"><a href="runmodels.html#cb222-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="dv">0</span>), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb222-55"><a href="runmodels.html#cb222-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb222-56"><a href="runmodels.html#cb222-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">length</span>(stds) <span class="sc">+</span> <span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb222-57"><a href="runmodels.html#cb222-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="at">xmin =</span> <span class="fu">length</span>(stds) <span class="sc">+</span> <span class="fl">1.6</span>, <span class="at">xmax =</span> <span class="cn">Inf</span>, <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb222-58"><a href="runmodels.html#cb222-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> lim, <span class="at">breaks =</span> brk, <span class="at">labels =</span> lab) <span class="sc">+</span> </span>
<span id="cb222-59"><a href="runmodels.html#cb222-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">2.5</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb222-60"><a href="runmodels.html#cb222-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb222-61"><a href="runmodels.html#cb222-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span></span>
<span id="cb222-62"><a href="runmodels.html#cb222-62" aria-hidden="true" tabindex="-1"></a>         , <span class="at">y =</span> <span class="st">&quot;Estimate&quot;</span></span>
<span id="cb222-63"><a href="runmodels.html#cb222-63" aria-hidden="true" tabindex="-1"></a>         <span class="co"># , title = &quot;  &quot;</span></span>
<span id="cb222-64"><a href="runmodels.html#cb222-64" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb222-65"><a href="runmodels.html#cb222-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb222-66"><a href="runmodels.html#cb222-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb222-67"><a href="runmodels.html#cb222-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb222-68"><a href="runmodels.html#cb222-68" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb222-69"><a href="runmodels.html#cb222-69" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb222-70"><a href="runmodels.html#cb222-70" aria-hidden="true" tabindex="-1"></a>          , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb222-71"><a href="runmodels.html#cb222-71" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb222-72"><a href="runmodels.html#cb222-72" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb222-73"><a href="runmodels.html#cb222-73" aria-hidden="true" tabindex="-1"></a>          , <span class="at">axis.line.x.top =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="dv">1</span>))</span>
<span id="cb222-74"><a href="runmodels.html#cb222-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb222-75"><a href="runmodels.html#cb222-75" aria-hidden="true" tabindex="-1"></a>  d2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb222-76"><a href="runmodels.html#cb222-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high)</span>
<span id="cb222-77"><a href="runmodels.html#cb222-77" aria-hidden="true" tabindex="-1"></a>              , <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">abs</span>(.) <span class="sc">&lt;</span> .<span class="dv">01</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.3f&quot;</span>, .), <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb222-78"><a href="runmodels.html#cb222-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), <span class="sc">~</span><span class="fu">str_replace_all</span>(., <span class="st">&quot;^0.&quot;</span>, <span class="st">&quot;.&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb222-79"><a href="runmodels.html#cb222-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate, conf.low, conf.high), <span class="sc">~</span><span class="fu">str_replace_all</span>(., <span class="st">&quot;^-0.&quot;</span>, <span class="st">&quot;-.&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb222-80"><a href="runmodels.html#cb222-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">est =</span> <span class="fu">ifelse</span>(study <span class="sc">!=</span> <span class="st">&quot; &quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%s [%s, %s]      &quot;</span>, estimate, conf.low, conf.high), <span class="st">&quot;&quot;</span>)</span>
<span id="cb222-81"><a href="runmodels.html#cb222-81" aria-hidden="true" tabindex="-1"></a>           , <span class="at">n =</span> <span class="fu">as.character</span>(n)</span>
<span id="cb222-82"><a href="runmodels.html#cb222-82" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">%&gt;%</span></span>
<span id="cb222-83"><a href="runmodels.html#cb222-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(study, n, est) <span class="sc">%&gt;%</span></span>
<span id="cb222-84"><a href="runmodels.html#cb222-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(n, est), <span class="at">names_to =</span> <span class="st">&quot;est&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>)</span>
<span id="cb222-85"><a href="runmodels.html#cb222-85" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span></span>
<span id="cb222-86"><a href="runmodels.html#cb222-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> study, <span class="at">y =</span> est)) <span class="sc">+</span></span>
<span id="cb222-87"><a href="runmodels.html#cb222-87" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">data =</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(est <span class="sc">==</span> <span class="st">&quot;est&quot;</span>), <span class="fu">aes</span>(<span class="at">label =</span> value), <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb222-88"><a href="runmodels.html#cb222-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">data =</span> d2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(est <span class="sc">==</span> <span class="st">&quot;n&quot;</span>), <span class="fu">aes</span>(<span class="at">label =</span> value), <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb222-89"><a href="runmodels.html#cb222-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">label =</span> <span class="st">&quot;b [CI]&quot;</span>, <span class="at">x =</span> <span class="fu">length</span>(stds) <span class="sc">+</span> <span class="fl">1.75</span>, <span class="at">y =</span> <span class="st">&quot;est&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">vjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb222-90"><a href="runmodels.html#cb222-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">label =</span> <span class="st">&quot;N&quot;</span>, <span class="at">x =</span> <span class="fu">length</span>(stds) <span class="sc">+</span> <span class="fl">1.75</span>, <span class="at">y =</span> <span class="st">&quot;n&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>, <span class="at">vjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb222-91"><a href="runmodels.html#cb222-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb222-92"><a href="runmodels.html#cb222-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">length</span>(stds) <span class="sc">+</span> <span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb222-93"><a href="runmodels.html#cb222-93" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb222-94"><a href="runmodels.html#cb222-94" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb222-95"><a href="runmodels.html#cb222-95" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> <span class="dv">0</span>)</span>
<span id="cb222-96"><a href="runmodels.html#cb222-96" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis.text =</span> <span class="fu">element_blank</span>()</span>
<span id="cb222-97"><a href="runmodels.html#cb222-97" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>()</span>
<span id="cb222-98"><a href="runmodels.html#cb222-98" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis.title =</span> <span class="fu">element_blank</span>())</span>
<span id="cb222-99"><a href="runmodels.html#cb222-99" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb222-100"><a href="runmodels.html#cb222-100" aria-hidden="true" tabindex="-1"></a>  my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb222-101"><a href="runmodels.html#cb222-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb222-102"><a href="runmodels.html#cb222-102" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>))</span>
<span id="cb222-103"><a href="runmodels.html#cb222-103" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb222-104"><a href="runmodels.html#cb222-104" aria-hidden="true" tabindex="-1"></a>  title_theme <span class="ot">&lt;-</span> <span class="fu">calc_element</span>(<span class="st">&quot;plot.title&quot;</span>, <span class="fu">my_theme</span>())</span>
<span id="cb222-105"><a href="runmodels.html#cb222-105" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span> </span>
<span id="cb222-106"><a href="runmodels.html#cb222-106" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw_label</span>(</span>
<span id="cb222-107"><a href="runmodels.html#cb222-107" aria-hidden="true" tabindex="-1"></a>          titl,</span>
<span id="cb222-108"><a href="runmodels.html#cb222-108" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontfamily =</span> title_theme<span class="sc">$</span>family,</span>
<span id="cb222-109"><a href="runmodels.html#cb222-109" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontface =</span> title_theme<span class="sc">$</span>face,</span>
<span id="cb222-110"><a href="runmodels.html#cb222-110" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> title_theme<span class="sc">$</span>size<span class="dv">-2</span></span>
<span id="cb222-111"><a href="runmodels.html#cb222-111" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb222-112"><a href="runmodels.html#cb222-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-113"><a href="runmodels.html#cb222-113" aria-hidden="true" tabindex="-1"></a>  p3 <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(p1, p2</span>
<span id="cb222-114"><a href="runmodels.html#cb222-114" aria-hidden="true" tabindex="-1"></a>                     , <span class="at">rel_widths =</span> <span class="fu">c</span>(.<span class="dv">5</span>, .<span class="dv">5</span>)</span>
<span id="cb222-115"><a href="runmodels.html#cb222-115" aria-hidden="true" tabindex="-1"></a>                     , <span class="at">align =</span> <span class="st">&quot;h&quot;</span></span>
<span id="cb222-116"><a href="runmodels.html#cb222-116" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb222-117"><a href="runmodels.html#cb222-117" aria-hidden="true" tabindex="-1"></a>  <span class="co"># p &lt;- cowplot::plot_grid(ttl, subttl, p3, rel_heights = c(.05, .05, .9), nrow = 3)</span></span>
<span id="cb222-118"><a href="runmodels.html#cb222-118" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(ttl, p3, <span class="at">rel_heights =</span> <span class="fu">c</span>(.<span class="dv">05</span>, .<span class="dv">95</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb222-119"><a href="runmodels.html#cb222-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb222-120"><a href="runmodels.html#cb222-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(p</span>
<span id="cb222-121"><a href="runmodels.html#cb222-121" aria-hidden="true" tabindex="-1"></a>       , <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-forest/rdata/%s_%s_%s_%s.RData&quot;</span>, local_path, outcome, trait, mod, cov))</span>
<span id="cb222-122"><a href="runmodels.html#cb222-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb222-123"><a href="runmodels.html#cb222-123" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb222-124"><a href="runmodels.html#cb222-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-125"><a href="runmodels.html#cb222-125" aria-hidden="true" tabindex="-1"></a><span class="do">## fixed effects</span></span>
<span id="cb222-126"><a href="runmodels.html#cb222-126" aria-hidden="true" tabindex="-1"></a>nested_reg_fp <span class="ot">&lt;-</span> nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb222-127"><a href="runmodels.html#cb222-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>rx, <span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb222-128"><a href="runmodels.html#cb222-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(fx) <span class="sc">%&gt;%</span></span>
<span id="cb222-129"><a href="runmodels.html#cb222-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">study =</span> <span class="st">&quot;Overall&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb222-130"><a href="runmodels.html#cb222-130" aria-hidden="true" tabindex="-1"></a>  <span class="do">## random effects</span></span>
<span id="cb222-131"><a href="runmodels.html#cb222-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb222-132"><a href="runmodels.html#cb222-132" aria-hidden="true" tabindex="-1"></a>    nested_mega <span class="sc">%&gt;%</span></span>
<span id="cb222-133"><a href="runmodels.html#cb222-133" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">rx =</span> <span class="fu">map2</span>(rx, n, <span class="sc">~</span>(.x) <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(.y))) <span class="sc">%&gt;%</span></span>
<span id="cb222-134"><a href="runmodels.html#cb222-134" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>fx, <span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb222-135"><a href="runmodels.html#cb222-135" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(rx) <span class="sc">%&gt;%</span></span>
<span id="cb222-136"><a href="runmodels.html#cb222-136" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="at">term =</span> names)</span>
<span id="cb222-137"><a href="runmodels.html#cb222-137" aria-hidden="true" tabindex="-1"></a>      <span class="co"># mutate(term = ifelse(Moderator != &quot;none&quot;, paste(term, mapvalues(Moderator, moders$short_name, moders$short_term, warn_missing = F), sep = &quot;:&quot;), term))</span></span>
<span id="cb222-138"><a href="runmodels.html#cb222-138" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb222-139"><a href="runmodels.html#cb222-139" aria-hidden="true" tabindex="-1"></a>  <span class="do">## filter key terms</span></span>
<span id="cb222-140"><a href="runmodels.html#cb222-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((Moderator <span class="sc">==</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> term <span class="sc">==</span> <span class="st">&quot;p_value&quot;</span>)<span class="sc">|</span></span>
<span id="cb222-141"><a href="runmodels.html#cb222-141" aria-hidden="true" tabindex="-1"></a>         (Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">&quot;^p_value:&quot;</span>, term) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;study&quot;</span>, term))) <span class="sc">%&gt;%</span></span>
<span id="cb222-142"><a href="runmodels.html#cb222-142" aria-hidden="true" tabindex="-1"></a>  <span class="do">## significance</span></span>
<span id="cb222-143"><a href="runmodels.html#cb222-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sig =</span> <span class="fu">ifelse</span>(<span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high), <span class="st">&quot;sig&quot;</span>, <span class="st">&quot;ns&quot;</span>)</span>
<span id="cb222-144"><a href="runmodels.html#cb222-144" aria-hidden="true" tabindex="-1"></a>         <span class="co"># , study = mapvalues(study, studies_long, studies_sp, warn_missing = F)</span></span>
<span id="cb222-145"><a href="runmodels.html#cb222-145" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb222-146"><a href="runmodels.html#cb222-146" aria-hidden="true" tabindex="-1"></a>  <span class="do">## grouping for plotting</span></span>
<span id="cb222-147"><a href="runmodels.html#cb222-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Outcome, Moderator, Covariate, Trait) <span class="sc">%&gt;%</span></span>
<span id="cb222-148"><a href="runmodels.html#cb222-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb222-149"><a href="runmodels.html#cb222-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb222-150"><a href="runmodels.html#cb222-150" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Covariate != &quot;fully&quot; &amp; Outcome == &quot;dementia&quot;) %&gt;%</span></span>
<span id="cb222-151"><a href="runmodels.html#cb222-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Outcome, Moderator, Covariate, Trait), ipd_rx_plot_fun))</span>
<span id="cb222-152"><a href="runmodels.html#cb222-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-153"><a href="runmodels.html#cb222-153" aria-hidden="true" tabindex="-1"></a>ipd_rx_plot_comb_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(outcome, cov, mod, d){</span>
<span id="cb222-154"><a href="runmodels.html#cb222-154" aria-hidden="true" tabindex="-1"></a>  o <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb222-155"><a href="runmodels.html#cb222-155" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(cov, covars<span class="sc">$</span>short_name, covars<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb222-156"><a href="runmodels.html#cb222-156" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb222-157"><a href="runmodels.html#cb222-157" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Prospective Associations Between Personality / Subjective Well-Being</span><span class="sc">\n</span><span class="st">and&quot;</span>, o)</span>
<span id="cb222-158"><a href="runmodels.html#cb222-158" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;none&quot;</span>) titl <span class="ot">&lt;-</span> <span class="fu">paste</span>(m, <span class="st">&quot;Moderators of&quot;</span>, titl)</span>
<span id="cb222-159"><a href="runmodels.html#cb222-159" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(</span>
<span id="cb222-160"><a href="runmodels.html#cb222-160" aria-hidden="true" tabindex="-1"></a>    d<span class="sc">$</span>p[[<span class="dv">1</span>]], d<span class="sc">$</span>p[[<span class="dv">2</span>]]</span>
<span id="cb222-161"><a href="runmodels.html#cb222-161" aria-hidden="true" tabindex="-1"></a>    , d<span class="sc">$</span>p[[<span class="dv">3</span>]], d<span class="sc">$</span>p[[<span class="dv">4</span>]]</span>
<span id="cb222-162"><a href="runmodels.html#cb222-162" aria-hidden="true" tabindex="-1"></a>    , d<span class="sc">$</span>p[[<span class="dv">5</span>]], d<span class="sc">$</span>p[[<span class="dv">6</span>]]</span>
<span id="cb222-163"><a href="runmodels.html#cb222-163" aria-hidden="true" tabindex="-1"></a>    , d<span class="sc">$</span>p[[<span class="dv">7</span>]], d<span class="sc">$</span>p[[<span class="dv">8</span>]]</span>
<span id="cb222-164"><a href="runmodels.html#cb222-164" aria-hidden="true" tabindex="-1"></a>    , <span class="at">nrow =</span> <span class="dv">4</span></span>
<span id="cb222-165"><a href="runmodels.html#cb222-165" aria-hidden="true" tabindex="-1"></a>    , <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb222-166"><a href="runmodels.html#cb222-166" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis =</span> <span class="st">&quot;tblr&quot;</span></span>
<span id="cb222-167"><a href="runmodels.html#cb222-167" aria-hidden="true" tabindex="-1"></a>    , <span class="at">align =</span> <span class="st">&quot;hv&quot;</span></span>
<span id="cb222-168"><a href="runmodels.html#cb222-168" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb222-169"><a href="runmodels.html#cb222-169" aria-hidden="true" tabindex="-1"></a>  my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb222-170"><a href="runmodels.html#cb222-170" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb222-171"><a href="runmodels.html#cb222-171" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb222-172"><a href="runmodels.html#cb222-172" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb222-173"><a href="runmodels.html#cb222-173" aria-hidden="true" tabindex="-1"></a>  title_theme <span class="ot">&lt;-</span> <span class="fu">calc_element</span>(<span class="st">&quot;plot.title&quot;</span>, <span class="fu">my_theme</span>())</span>
<span id="cb222-174"><a href="runmodels.html#cb222-174" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span> </span>
<span id="cb222-175"><a href="runmodels.html#cb222-175" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw_label</span>(</span>
<span id="cb222-176"><a href="runmodels.html#cb222-176" aria-hidden="true" tabindex="-1"></a>          titl,</span>
<span id="cb222-177"><a href="runmodels.html#cb222-177" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontfamily =</span> title_theme<span class="sc">$</span>family,</span>
<span id="cb222-178"><a href="runmodels.html#cb222-178" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontface =</span> title_theme<span class="sc">$</span>face,</span>
<span id="cb222-179"><a href="runmodels.html#cb222-179" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> title_theme<span class="sc">$</span>size</span>
<span id="cb222-180"><a href="runmodels.html#cb222-180" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb222-181"><a href="runmodels.html#cb222-181" aria-hidden="true" tabindex="-1"></a>  my_theme <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb222-182"><a href="runmodels.html#cb222-182" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb222-183"><a href="runmodels.html#cb222-183" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>))</span>
<span id="cb222-184"><a href="runmodels.html#cb222-184" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb222-185"><a href="runmodels.html#cb222-185" aria-hidden="true" tabindex="-1"></a>  subtitle_theme <span class="ot">&lt;-</span> <span class="fu">calc_element</span>(<span class="st">&quot;subplot.title&quot;</span>, <span class="fu">my_theme</span>())</span>
<span id="cb222-186"><a href="runmodels.html#cb222-186" aria-hidden="true" tabindex="-1"></a>  subttl <span class="ot">&lt;-</span> <span class="fu">ggdraw</span>() <span class="sc">+</span></span>
<span id="cb222-187"><a href="runmodels.html#cb222-187" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw_label</span>(</span>
<span id="cb222-188"><a href="runmodels.html#cb222-188" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Pooled Regression Using Random Effects&quot;</span>,</span>
<span id="cb222-189"><a href="runmodels.html#cb222-189" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontfamily =</span> subtitle_theme<span class="sc">$</span>family,</span>
<span id="cb222-190"><a href="runmodels.html#cb222-190" aria-hidden="true" tabindex="-1"></a>          <span class="at">fontface =</span> subtitle_theme<span class="sc">$</span>face,</span>
<span id="cb222-191"><a href="runmodels.html#cb222-191" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> subtitle_theme<span class="sc">$</span>size</span>
<span id="cb222-192"><a href="runmodels.html#cb222-192" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb222-193"><a href="runmodels.html#cb222-193" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb222-194"><a href="runmodels.html#cb222-194" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(ttl, subttl, p1, <span class="at">rel_heights =</span> <span class="fu">c</span>(.<span class="dv">06</span>, .<span class="dv">03</span>, .<span class="dv">91</span>), <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb222-195"><a href="runmodels.html#cb222-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p </span>
<span id="cb222-196"><a href="runmodels.html#cb222-196" aria-hidden="true" tabindex="-1"></a>         , <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-forest/%s_%s_%s.png&quot;</span>, local_path, outcome, mod, cov)</span>
<span id="cb222-197"><a href="runmodels.html#cb222-197" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">10</span>)</span>
<span id="cb222-198"><a href="runmodels.html#cb222-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p </span>
<span id="cb222-199"><a href="runmodels.html#cb222-199" aria-hidden="true" tabindex="-1"></a>         , <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-forest/%s_%s_%s.pdf&quot;</span>, local_path, outcome, mod, cov)</span>
<span id="cb222-200"><a href="runmodels.html#cb222-200" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">10</span>)</span>
<span id="cb222-201"><a href="runmodels.html#cb222-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(T)</span>
<span id="cb222-202"><a href="runmodels.html#cb222-202" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb222-203"><a href="runmodels.html#cb222-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-204"><a href="runmodels.html#cb222-204" aria-hidden="true" tabindex="-1"></a>nested_reg_fp <span class="sc">%&gt;%</span></span>
<span id="cb222-205"><a href="runmodels.html#cb222-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, traits<span class="sc">$</span>short_name)) <span class="sc">%&gt;%</span></span>
<span id="cb222-206"><a href="runmodels.html#cb222-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Trait) <span class="sc">%&gt;%</span></span>
<span id="cb222-207"><a href="runmodels.html#cb222-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>data) <span class="sc">%&gt;%</span></span>
<span id="cb222-208"><a href="runmodels.html#cb222-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Outcome, Moderator, Covariate) <span class="sc">%&gt;%</span></span>
<span id="cb222-209"><a href="runmodels.html#cb222-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb222-210"><a href="runmodels.html#cb222-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb222-211"><a href="runmodels.html#cb222-211" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Covariate == &quot;shared&quot; &amp; Outcome == &quot;dementia&quot;) %&gt;%</span></span>
<span id="cb222-212"><a href="runmodels.html#cb222-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(</span>
<span id="cb222-213"><a href="runmodels.html#cb222-213" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(Outcome, Covariate, Moderator, data)</span>
<span id="cb222-214"><a href="runmodels.html#cb222-214" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">possibly</span>(ipd_rx_plot_comb_fun, <span class="cn">NA_real_</span>)</span>
<span id="cb222-215"><a href="runmodels.html#cb222-215" aria-hidden="true" tabindex="-1"></a>    ))</span></code></pre></div>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="runmodels.html#cb223-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-forest/dementia_none_shared.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-forest/dementia_none_shared.png" /><!-- --></p>
</div>
<div id="overall-simple-effects" class="section level4 hasAnchor" number="3.4.2.3">
<h4><span class="header-section-number">3.4.2.3</span> Overall Simple Effects<a href="runmodels.html#overall-simple-effects" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="runmodels.html#cb224-1" aria-hidden="true" tabindex="-1"></a>loadRData <span class="ot">&lt;-</span> <span class="cf">function</span>(fileName, cov, obj, folder){</span>
<span id="cb224-2"><a href="runmodels.html#cb224-2" aria-hidden="true" tabindex="-1"></a><span class="co">#loads an RData file, and returns it</span></span>
<span id="cb224-3"><a href="runmodels.html#cb224-3" aria-hidden="true" tabindex="-1"></a>    path <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/%s/%s/%s&quot;</span>, local_path, folder, cov, fileName)</span>
<span id="cb224-4"><a href="runmodels.html#cb224-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">load</span>(path)</span>
<span id="cb224-5"><a href="runmodels.html#cb224-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get</span>(<span class="fu">ls</span>()[<span class="fu">grepl</span>(obj, <span class="fu">ls</span>())])</span>
<span id="cb224-6"><a href="runmodels.html#cb224-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb224-7"><a href="runmodels.html#cb224-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-8"><a href="runmodels.html#cb224-8" aria-hidden="true" tabindex="-1"></a><span class="do">## load in &quot;fixed&quot; effects</span></span>
<span id="cb224-9"><a href="runmodels.html#cb224-9" aria-hidden="true" tabindex="-1"></a><span class="do">## first get file names</span></span>
<span id="cb224-10"><a href="runmodels.html#cb224-10" aria-hidden="true" tabindex="-1"></a>nested_mega_simp <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;shareddx&quot;</span>, <span class="st">&quot;standarddx&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb224-11"><a href="runmodels.html#cb224-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">file =</span> <span class="fu">map</span>(Covariate, <span class="sc">~</span><span class="fu">list.files</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/predicted/%s&quot;</span>, local_path, .)))) <span class="sc">%&gt;%</span></span>
<span id="cb224-12"><a href="runmodels.html#cb224-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(file) <span class="sc">%&gt;%</span></span>
<span id="cb224-13"><a href="runmodels.html#cb224-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(file, <span class="fu">c</span>(<span class="st">&quot;Outcome&quot;</span>, <span class="st">&quot;Trait&quot;</span>, <span class="st">&quot;Moderator&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>, <span class="at">remove =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb224-14"><a href="runmodels.html#cb224-14" aria-hidden="true" tabindex="-1"></a>  <span class="do">## read in the files</span></span>
<span id="cb224-15"><a href="runmodels.html#cb224-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Moderator =</span> <span class="fu">str_remove</span>(Moderator, <span class="st">&quot;.RData&quot;</span>),</span>
<span id="cb224-16"><a href="runmodels.html#cb224-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">pred.fx =</span> <span class="fu">map2</span>(file, Covariate, <span class="sc">~</span><span class="fu">loadRData</span>(.x, .y, <span class="st">&quot;pred.fx&quot;</span>, <span class="st">&quot;predicted&quot;</span>)),</span>
<span id="cb224-17"><a href="runmodels.html#cb224-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">pred.rx =</span> <span class="fu">map2</span>(file, Covariate, <span class="sc">~</span><span class="fu">loadRData</span>(.x, .y, <span class="st">&quot;pred.rx&quot;</span>, <span class="st">&quot;predicted&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb224-18"><a href="runmodels.html#cb224-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>file) <span class="sc">%&gt;%</span></span>
<span id="cb224-19"><a href="runmodels.html#cb224-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb224-20"><a href="runmodels.html#cb224-20" aria-hidden="true" tabindex="-1"></a>    outcomes <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">Outcome =</span> short_name, link)</span>
<span id="cb224-21"><a href="runmodels.html#cb224-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb224-22"><a href="runmodels.html#cb224-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(pred.fx, pred.rx), <span class="sc">~</span><span class="fu">ifelse</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>, <span class="fu">map</span>(., <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(pred, lower, upper), exp)), .))</span>
<span id="cb224-23"><a href="runmodels.html#cb224-23" aria-hidden="true" tabindex="-1"></a>nested_mega_simp</span></code></pre></div>
<pre><code>## # A tibble: 1,678 × 7
##    Covariate Outcome  Trait Moderator pred.fx            pred.rx            link  
##    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;     &lt;list&gt;             &lt;list&gt;             &lt;chr&gt; 
##  1 fully     dementia A     age       &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  2 fully     dementia A     cognition &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  3 fully     dementia A     education &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  4 fully     dementia A     gender    &lt;tibble [202 × 5]&gt; &lt;tibble [404 × 6]&gt; factor
##  5 fully     dementia C     education &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  6 fully     dementia C     gender    &lt;tibble [202 × 5]&gt; &lt;tibble [404 × 6]&gt; factor
##  7 fully     dementia E     age       &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  8 fully     dementia E     cognition &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
##  9 fully     dementia E     education &lt;tibble [303 × 5]&gt; &lt;tibble [606 × 6]&gt; factor
## 10 fully     dementia E     gender    &lt;tibble [202 × 5]&gt; &lt;tibble [404 × 6]&gt; factor
## # … with 1,668 more rows</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="runmodels.html#cb226-1" aria-hidden="true" tabindex="-1"></a>simp_eff_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcome, mod, cov, link){</span>
<span id="cb226-2"><a href="runmodels.html#cb226-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(outcome, mod))</span>
<span id="cb226-3"><a href="runmodels.html#cb226-3" aria-hidden="true" tabindex="-1"></a>  o <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb226-4"><a href="runmodels.html#cb226-4" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> cov<span class="co"># cv &lt;- mapvalues(cov, covars$short_name, covars$long_name, warn_missing = F)</span></span>
<span id="cb226-5"><a href="runmodels.html#cb226-5" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb226-6"><a href="runmodels.html#cb226-6" aria-hidden="true" tabindex="-1"></a>  dmini <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">min</span>(df<span class="sc">$</span>pred),<span class="dv">3</span>); dmaxi <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">max</span>(df<span class="sc">$</span>pred),<span class="dv">3</span>)</span>
<span id="cb226-7"><a href="runmodels.html#cb226-7" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(<span class="fu">abs</span>(<span class="fu">min</span>(df<span class="sc">$</span>pred)), <span class="fu">abs</span>(<span class="fu">max</span>(df<span class="sc">$</span>pred))), <span class="dv">3</span>)</span>
<span id="cb226-8"><a href="runmodels.html#cb226-8" aria-hidden="true" tabindex="-1"></a>  mini <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="dv">0</span> <span class="cf">else</span> dmini <span class="sc">-</span> (dmaxi<span class="sc">-</span>dmini)</span>
<span id="cb226-9"><a href="runmodels.html#cb226-9" aria-hidden="true" tabindex="-1"></a>  maxi <span class="ot">&lt;-</span> dmaxi <span class="sc">+</span> (dmaxi<span class="sc">-</span>dmini)</span>
<span id="cb226-10"><a href="runmodels.html#cb226-10" aria-hidden="true" tabindex="-1"></a>  hl <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="dv">1</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb226-11"><a href="runmodels.html#cb226-11" aria-hidden="true" tabindex="-1"></a>  brk <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">c</span>(<span class="fu">round</span>(mini<span class="sc">*</span><span class="fl">1.1</span>,<span class="dv">2</span>), <span class="dv">1</span>, <span class="fu">round</span>(maxi<span class="sc">*</span>.<span class="dv">9</span>,<span class="dv">2</span>)) <span class="cf">else</span> <span class="fu">c</span>(<span class="fu">round</span>(mini<span class="sc">*</span><span class="fl">1.1</span>,<span class="dv">2</span>), <span class="dv">0</span>, <span class="fu">round</span>(maxi<span class="sc">*</span>.<span class="dv">9</span>,<span class="dv">2</span>)) </span>
<span id="cb226-12"><a href="runmodels.html#cb226-12" aria-hidden="true" tabindex="-1"></a>  lab <span class="ot">&lt;-</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">str_remove</span>(<span class="fu">c</span>(<span class="fu">round</span>(mini<span class="sc">*</span><span class="fl">1.1</span>,<span class="dv">2</span>), <span class="dv">1</span>, <span class="fu">round</span>(maxi<span class="sc">*</span>.<span class="dv">9</span>,<span class="dv">2</span>)), <span class="st">&quot;^0&quot;</span>) <span class="cf">else</span> <span class="fu">str_remove</span>(<span class="fu">c</span>(<span class="fu">round</span>(mini<span class="sc">*</span><span class="fl">1.1</span>,<span class="dv">2</span>), <span class="dv">0</span>, <span class="fu">round</span>(maxi<span class="sc">*</span>.<span class="dv">9</span>,<span class="dv">2</span>)), <span class="st">&quot;^0&quot;</span>)</span>
<span id="cb226-13"><a href="runmodels.html#cb226-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mini &lt;- if(link == &quot;factor&quot;) C1+(d+(d/5)) else 0+d+(d/5)</span></span>
<span id="cb226-14"><a href="runmodels.html#cb226-14" aria-hidden="true" tabindex="-1"></a>  lim <span class="ot">&lt;-</span> <span class="fu">c</span>(mini, maxi)</span>
<span id="cb226-15"><a href="runmodels.html#cb226-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># brk &lt;- if(link == &quot;factor&quot;) round(c(1-d-(d/10), 1, 1+d+(d/10)),2) else round(c(0-d-(d/10), 0, 0+d+(d/10)),2)</span></span>
<span id="cb226-16"><a href="runmodels.html#cb226-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lab &lt;- if(link == &quot;factor&quot;) str_remove(c(round(1-d-(d/10),2), 1, round(1+d+(d/10),2)), &quot;^0&quot;) else{str_remove(c(round(0-d-(d/10),2), 0, round(0+d+(d/10),2)), &quot;^0&quot;)}</span></span>
<span id="cb226-17"><a href="runmodels.html#cb226-17" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;none&quot;</span>){o} <span class="cf">else</span> {<span class="fu">sprintf</span>(<span class="st">&quot;%s: Personality x %s Simple Effects&quot;</span>, o, m)}</span>
<span id="cb226-18"><a href="runmodels.html#cb226-18" aria-hidden="true" tabindex="-1"></a>  lt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dotted&quot;</span>, <span class="st">&quot;solid&quot;</span>, <span class="st">&quot;dashed&quot;</span>)[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>mod_fac))]</span>
<span id="cb226-19"><a href="runmodels.html#cb226-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if(link == &quot;factor&quot;) {mini &lt;- round(min(df$pred),2); maxi &lt;- round(max(df$pred),2)} else {mini &lt;- floor(min(df$pred)); maxi &lt;- ceiling(max(df$pred))}</span></span>
<span id="cb226-20"><a href="runmodels.html#cb226-20" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb226-21"><a href="runmodels.html#cb226-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Trait =</span> <span class="fu">factor</span>(Trait, <span class="at">levels =</span> traits<span class="sc">$</span>short_name, <span class="at">labels =</span> traits<span class="sc">$</span>long_name),</span>
<span id="cb226-22"><a href="runmodels.html#cb226-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">lower =</span> <span class="fu">ifelse</span>(lower <span class="sc">&lt;</span> mini, mini, lower),</span>
<span id="cb226-23"><a href="runmodels.html#cb226-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">upper =</span> <span class="fu">ifelse</span>(upper <span class="sc">&gt;</span> maxi, maxi, upper)) <span class="sc">%&gt;%</span></span>
<span id="cb226-24"><a href="runmodels.html#cb226-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p_value</span>
<span id="cb226-25"><a href="runmodels.html#cb226-25" aria-hidden="true" tabindex="-1"></a>               , <span class="at">y =</span> pred</span>
<span id="cb226-26"><a href="runmodels.html#cb226-26" aria-hidden="true" tabindex="-1"></a>               , <span class="at">group  =</span> mod_fac))  <span class="sc">+</span></span>
<span id="cb226-27"><a href="runmodels.html#cb226-27" aria-hidden="true" tabindex="-1"></a>      <span class="co"># ylim(c(mini, maxi)) +</span></span>
<span id="cb226-28"><a href="runmodels.html#cb226-28" aria-hidden="true" tabindex="-1"></a>      <span class="co"># scale_y_continuous(limits = lim#c(mini , maxi)</span></span>
<span id="cb226-29"><a href="runmodels.html#cb226-29" aria-hidden="true" tabindex="-1"></a>      <span class="co">#                    , breaks = round(seq(mini, maxi, length.out = 4),2)</span></span>
<span id="cb226-30"><a href="runmodels.html#cb226-30" aria-hidden="true" tabindex="-1"></a>      <span class="co">#                    , labels = round(seq(mini, maxi,length.out = 4), 2)) +</span></span>
<span id="cb226-31"><a href="runmodels.html#cb226-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> lt) <span class="sc">+</span></span>
<span id="cb226-32"><a href="runmodels.html#cb226-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> lower</span>
<span id="cb226-33"><a href="runmodels.html#cb226-33" aria-hidden="true" tabindex="-1"></a>                      , <span class="at">ymax =</span> upper</span>
<span id="cb226-34"><a href="runmodels.html#cb226-34" aria-hidden="true" tabindex="-1"></a>                      , <span class="at">fill =</span> mod_fac)</span>
<span id="cb226-35"><a href="runmodels.html#cb226-35" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">alpha =</span> .<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb226-36"><a href="runmodels.html#cb226-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> hl), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">size =</span> .<span class="dv">6</span>, <span class="at">color =</span> <span class="st">&quot;grey30&quot;</span>) <span class="sc">+</span></span>
<span id="cb226-37"><a href="runmodels.html#cb226-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> mod_fac)) <span class="sc">+</span></span>
<span id="cb226-38"><a href="runmodels.html#cb226-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Personality (POMP)&quot;</span></span>
<span id="cb226-39"><a href="runmodels.html#cb226-39" aria-hidden="true" tabindex="-1"></a>           , <span class="at">y =</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">paste</span>(o, <span class="st">&quot;(OR)&quot;</span>) <span class="cf">else</span> <span class="fu">paste</span>(o, <span class="st">&quot;(POMP)&quot;</span>)</span>
<span id="cb226-40"><a href="runmodels.html#cb226-40" aria-hidden="true" tabindex="-1"></a>           , <span class="at">title =</span> <span class="fu">str_wrap</span>(titl, <span class="dv">40</span>)</span>
<span id="cb226-41"><a href="runmodels.html#cb226-41" aria-hidden="true" tabindex="-1"></a>           , <span class="at">linetype =</span> m</span>
<span id="cb226-42"><a href="runmodels.html#cb226-42" aria-hidden="true" tabindex="-1"></a>           , <span class="at">fill =</span> m</span>
<span id="cb226-43"><a href="runmodels.html#cb226-43" aria-hidden="true" tabindex="-1"></a>           , <span class="at">subtitle =</span> <span class="st">&quot;Pooled Regression Using Random Effects&quot;</span>) <span class="sc">+</span></span>
<span id="cb226-44"><a href="runmodels.html#cb226-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_wrap</span>(<span class="sc">~</span>Trait, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb226-45"><a href="runmodels.html#cb226-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb226-46"><a href="runmodels.html#cb226-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb226-47"><a href="runmodels.html#cb226-47" aria-hidden="true" tabindex="-1"></a>            , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.2</span>), <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb226-48"><a href="runmodels.html#cb226-48" aria-hidden="true" tabindex="-1"></a>            , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.1</span>), <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb226-49"><a href="runmodels.html#cb226-49" aria-hidden="true" tabindex="-1"></a>            , <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb226-50"><a href="runmodels.html#cb226-50" aria-hidden="true" tabindex="-1"></a>            , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb226-51"><a href="runmodels.html#cb226-51" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>))</span>
<span id="cb226-52"><a href="runmodels.html#cb226-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(<span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/overall-simple-effects/%s_%s_%s.png&quot;</span>, local_path, outcome, mod, cov), <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">6</span>)</span>
<span id="cb226-53"><a href="runmodels.html#cb226-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb226-54"><a href="runmodels.html#cb226-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-55"><a href="runmodels.html#cb226-55" aria-hidden="true" tabindex="-1"></a>ipd_se_plot <span class="ot">&lt;-</span> nested_mega_simp <span class="sc">%&gt;%</span></span>
<span id="cb226-56"><a href="runmodels.html#cb226-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pred.rx) <span class="sc">%&gt;%</span></span>
<span id="cb226-57"><a href="runmodels.html#cb226-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Outcome, Moderator, Covariate, link) <span class="sc">%&gt;%</span></span>
<span id="cb226-58"><a href="runmodels.html#cb226-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb226-59"><a href="runmodels.html#cb226-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb226-60"><a href="runmodels.html#cb226-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">unnest</span>(pred.fx)),</span>
<span id="cb226-61"><a href="runmodels.html#cb226-61" aria-hidden="true" tabindex="-1"></a>         <span class="at">plot =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Outcome, Moderator, Covariate, link), simp_eff_fun))</span></code></pre></div>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="runmodels.html#cb227-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/overall-simple-effects/dementia_gender_shared.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/overall-simple-effects/dementia_gender_shared.png" /><!-- --></p>
</div>
<div id="study-specific-simple-effects" class="section level4 hasAnchor" number="3.4.2.4">
<h4><span class="header-section-number">3.4.2.4</span> Study-Specific Simple Effects<a href="runmodels.html#study-specific-simple-effects" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="runmodels.html#cb228-1" aria-hidden="true" tabindex="-1"></a>ipd_std_se_plot_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcome, trait, mod, cov, link){</span>
<span id="cb228-2"><a href="runmodels.html#cb228-2" aria-hidden="true" tabindex="-1"></a>  fctr_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;diabetes&quot;</span>, <span class="st">&quot;heartProb&quot;</span>, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb228-3"><a href="runmodels.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(outcome, mod))</span>
<span id="cb228-4"><a href="runmodels.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  o <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(outcome, outcomes<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb228-5"><a href="runmodels.html#cb228-5" aria-hidden="true" tabindex="-1"></a>  trt <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(trait, traits<span class="sc">$</span>short_name, traits<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb228-6"><a href="runmodels.html#cb228-6" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> cov<span class="co"># cv &lt;- mapvalues(cov, covars$short_name, covars$long_name, warn_missing = F)</span></span>
<span id="cb228-7"><a href="runmodels.html#cb228-7" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapvalues</span>(mod, moders<span class="sc">$</span>short_name, moders<span class="sc">$</span>long_name, <span class="at">warn_missing =</span> F)</span>
<span id="cb228-8"><a href="runmodels.html#cb228-8" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(<span class="fu">abs</span>(<span class="fu">min</span>(df<span class="sc">$</span>pred)), <span class="fu">abs</span>(<span class="fu">max</span>(df<span class="sc">$</span>pred))), <span class="dv">3</span>)</span>
<span id="cb228-9"><a href="runmodels.html#cb228-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mini &lt;- if(d &gt; 2) .05 else 0-(d+(d/5)) </span></span>
<span id="cb228-10"><a href="runmodels.html#cb228-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># maxi &lt;- if(d &gt; 2) 2.05 else 0+d+(d/5)</span></span>
<span id="cb228-11"><a href="runmodels.html#cb228-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lim &lt;- c(mini, maxi)</span></span>
<span id="cb228-12"><a href="runmodels.html#cb228-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># brk &lt;- if(d &gt; 2) c(0, 1, 2) else{round(c(0-d-(d/10), 0, 0+d+(d/10)),2)}</span></span>
<span id="cb228-13"><a href="runmodels.html#cb228-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lab &lt;- if(d &gt; 2){c(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;)} else{str_remove(c(round(0-d-(d/10),2), 0, round(0+d+(d/10),2)), &quot;^0&quot;)}</span></span>
<span id="cb228-14"><a href="runmodels.html#cb228-14" aria-hidden="true" tabindex="-1"></a>  titl <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;none&quot;</span>){<span class="fu">sprintf</span>(<span class="st">&quot;%s: %s&quot;</span>, o, trt)} <span class="cf">else</span> {<span class="fu">sprintf</span>(<span class="st">&quot;%s: %s x %s Simple Effects&quot;</span>, o, trt, m)}</span>
<span id="cb228-15"><a href="runmodels.html#cb228-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># colnames(df)[colnames(df) == mod] &lt;- &quot;mod_value&quot;</span></span>
<span id="cb228-16"><a href="runmodels.html#cb228-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># df &lt;- df %&gt;% unclass %&gt;% data.frame</span></span>
<span id="cb228-17"><a href="runmodels.html#cb228-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># df$mod_value &lt;- df[,mod]</span></span>
<span id="cb228-18"><a href="runmodels.html#cb228-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># df &lt;- df %&gt;% select(-all_of(mod)) %&gt;% as_tibble</span></span>
<span id="cb228-19"><a href="runmodels.html#cb228-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># # df &lt;- df %&gt;% group_by(study, p_value) %&gt;% summarize_at(vars(mod_value, pred, lower, upper), mean) %&gt;% ungroup()</span></span>
<span id="cb228-20"><a href="runmodels.html#cb228-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if(class(df$mod_value) %in% c(&quot;factor&quot;, &quot;character&quot;)){</span></span>
<span id="cb228-21"><a href="runmodels.html#cb228-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   df &lt;- df %&gt;% mutate(mod_fac = factor(mod_value))</span></span>
<span id="cb228-22"><a href="runmodels.html#cb228-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   } else {</span></span>
<span id="cb228-23"><a href="runmodels.html#cb228-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     if(mod == &quot;age&quot;) df &lt;- df %&gt;% mutate(mod_fac = factor(mod_value, levels = c(-10, 0, 10), labels = c(&quot;-10 yrs&quot;, &quot;60&quot;, &quot;+10 yrs&quot;)))</span></span>
<span id="cb228-24"><a href="runmodels.html#cb228-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     else if(mod == &quot;education&quot;) df &lt;- df %&gt;% mutate(mod_fac = factor(mod_value, levels = c(-5, 0, 5), labels = c(&quot;-5 yrs&quot;, &quot;12 yrs&quot;, &quot;+5 yrs&quot;)))</span></span>
<span id="cb228-25"><a href="runmodels.html#cb228-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     else df &lt;- df %&gt;% select(p_value, study, mod_value) %&gt;% distinct() %&gt;% </span></span>
<span id="cb228-26"><a href="runmodels.html#cb228-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#         group_by(study) %&gt;% mutate(mod_fac = factor(mod_value, levels = unique(mod_value), labels = c(&quot;-1 SD&quot;, &quot;M&quot;, &quot;+1 SD&quot;))) %&gt;%</span></span>
<span id="cb228-27"><a href="runmodels.html#cb228-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#         left_join(df)</span></span>
<span id="cb228-28"><a href="runmodels.html#cb228-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     }</span></span>
<span id="cb228-29"><a href="runmodels.html#cb228-29" aria-hidden="true" tabindex="-1"></a>  std <span class="ot">&lt;-</span> <span class="fu">unique</span>(df<span class="sc">$</span>study)</span>
<span id="cb228-30"><a href="runmodels.html#cb228-30" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> (stdcolors <span class="sc">%&gt;%</span> <span class="fu">filter</span>(studies_long <span class="sc">%in%</span> std))<span class="sc">$</span>colors</span>
<span id="cb228-31"><a href="runmodels.html#cb228-31" aria-hidden="true" tabindex="-1"></a>  lt <span class="ot">&lt;-</span> (stdcolors <span class="sc">%&gt;%</span> <span class="fu">filter</span>(studies_long <span class="sc">%in%</span> std))<span class="sc">$</span>lt</span>
<span id="cb228-32"><a href="runmodels.html#cb228-32" aria-hidden="true" tabindex="-1"></a>  ht <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>mod_fac))</span>
<span id="cb228-33"><a href="runmodels.html#cb228-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) {mini <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">min</span>(df<span class="sc">$</span>pred),<span class="dv">2</span>); maxi <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(df<span class="sc">$</span>pred),<span class="dv">2</span>)} <span class="cf">else</span> {mini <span class="ot">&lt;-</span> <span class="fu">floor</span>(<span class="fu">min</span>(df<span class="sc">$</span>pred)); maxi <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(<span class="fu">max</span>(df<span class="sc">$</span>pred))}</span>
<span id="cb228-34"><a href="runmodels.html#cb228-34" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb228-35"><a href="runmodels.html#cb228-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">study =</span> <span class="fu">factor</span>(study, <span class="at">levels =</span> stdcolors<span class="sc">$</span>studies_long, <span class="at">labels =</span> stdcolors<span class="sc">$</span>studies_long),</span>
<span id="cb228-36"><a href="runmodels.html#cb228-36" aria-hidden="true" tabindex="-1"></a>           <span class="at">lower =</span> <span class="fu">ifelse</span>(lower <span class="sc">&lt;</span> mini, mini, lower),</span>
<span id="cb228-37"><a href="runmodels.html#cb228-37" aria-hidden="true" tabindex="-1"></a>           <span class="at">upper =</span> <span class="fu">ifelse</span>(upper <span class="sc">&gt;</span> maxi, maxi, upper),</span>
<span id="cb228-38"><a href="runmodels.html#cb228-38" aria-hidden="true" tabindex="-1"></a>           <span class="at">gr =</span> <span class="fu">ifelse</span>(study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span>, <span class="st">&quot;Overall&quot;</span>, <span class="st">&quot;study&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb228-39"><a href="runmodels.html#cb228-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(study, mod_fac, p_value, gr) <span class="sc">%&gt;%</span></span>
<span id="cb228-40"><a href="runmodels.html#cb228-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize_at</span>(<span class="fu">vars</span>(pred, lower, upper), mean) <span class="sc">%&gt;%</span></span>
<span id="cb228-41"><a href="runmodels.html#cb228-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() </span>
<span id="cb228-42"><a href="runmodels.html#cb228-42" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb228-43"><a href="runmodels.html#cb228-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p_value</span>
<span id="cb228-44"><a href="runmodels.html#cb228-44" aria-hidden="true" tabindex="-1"></a>               , <span class="at">y =</span> pred</span>
<span id="cb228-45"><a href="runmodels.html#cb228-45" aria-hidden="true" tabindex="-1"></a>               , <span class="at">group  =</span> study))  <span class="sc">+</span></span>
<span id="cb228-46"><a href="runmodels.html#cb228-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(mini,maxi)</span>
<span id="cb228-47"><a href="runmodels.html#cb228-47" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">breaks =</span> <span class="fu">round</span>(<span class="fu">seq</span>(mini, maxi, <span class="at">length.out =</span> <span class="dv">4</span>), <span class="dv">2</span>)</span>
<span id="cb228-48"><a href="runmodels.html#cb228-48" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">labels =</span> <span class="fu">round</span>(<span class="fu">seq</span>(mini, maxi, <span class="at">length.out =</span> <span class="dv">4</span>), <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb228-49"><a href="runmodels.html#cb228-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> lt) <span class="sc">+</span></span>
<span id="cb228-50"><a href="runmodels.html#cb228-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> cols) <span class="sc">+</span></span>
<span id="cb228-51"><a href="runmodels.html#cb228-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> cols) <span class="sc">+</span></span>
<span id="cb228-52"><a href="runmodels.html#cb228-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">8</span>)) <span class="sc">+</span> </span>
<span id="cb228-53"><a href="runmodels.html#cb228-53" aria-hidden="true" tabindex="-1"></a>      <span class="co"># geom_ribbon(data = df %&gt;% filter(study == &quot;Overall&quot;)</span></span>
<span id="cb228-54"><a href="runmodels.html#cb228-54" aria-hidden="true" tabindex="-1"></a>      <span class="co">#             , aes(ymin = lower</span></span>
<span id="cb228-55"><a href="runmodels.html#cb228-55" aria-hidden="true" tabindex="-1"></a>      <span class="co">#                 , ymax = upper</span></span>
<span id="cb228-56"><a href="runmodels.html#cb228-56" aria-hidden="true" tabindex="-1"></a>      <span class="co">#                 , fill = study)</span></span>
<span id="cb228-57"><a href="runmodels.html#cb228-57" aria-hidden="true" tabindex="-1"></a>      <span class="co">#             , alpha = .25) +</span></span>
<span id="cb228-58"><a href="runmodels.html#cb228-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> study, <span class="at">color =</span> study, <span class="at">size =</span> gr)) <span class="sc">+</span></span>
<span id="cb228-59"><a href="runmodels.html#cb228-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Personality (POMP)&quot;</span></span>
<span id="cb228-60"><a href="runmodels.html#cb228-60" aria-hidden="true" tabindex="-1"></a>           , <span class="at">y =</span> <span class="cf">if</span>(link <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>) <span class="fu">paste</span>(o, <span class="st">&quot;(OR)&quot;</span>) <span class="cf">else</span> o</span>
<span id="cb228-61"><a href="runmodels.html#cb228-61" aria-hidden="true" tabindex="-1"></a>           , <span class="at">title =</span> titl</span>
<span id="cb228-62"><a href="runmodels.html#cb228-62" aria-hidden="true" tabindex="-1"></a>           , <span class="at">linetype =</span> <span class="st">&quot;Sample&quot;</span></span>
<span id="cb228-63"><a href="runmodels.html#cb228-63" aria-hidden="true" tabindex="-1"></a>           , <span class="at">color =</span> <span class="st">&quot;Sample&quot;</span></span>
<span id="cb228-64"><a href="runmodels.html#cb228-64" aria-hidden="true" tabindex="-1"></a>           , <span class="at">fill =</span> <span class="st">&quot;Sample&quot;</span>) <span class="sc">+</span></span>
<span id="cb228-65"><a href="runmodels.html#cb228-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">&quot;none&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb228-66"><a href="runmodels.html#cb228-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_wrap</span>(<span class="sc">~</span>mod_fac, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb228-67"><a href="runmodels.html#cb228-67" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb228-68"><a href="runmodels.html#cb228-68" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb228-69"><a href="runmodels.html#cb228-69" aria-hidden="true" tabindex="-1"></a>            , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.2</span>), <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb228-70"><a href="runmodels.html#cb228-70" aria-hidden="true" tabindex="-1"></a>            , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.1</span>), <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb228-71"><a href="runmodels.html#cb228-71" aria-hidden="true" tabindex="-1"></a>            , <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb228-72"><a href="runmodels.html#cb228-72" aria-hidden="true" tabindex="-1"></a>            , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb228-73"><a href="runmodels.html#cb228-73" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>))</span>
<span id="cb228-74"><a href="runmodels.html#cb228-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-simple-effects/%s_%s_%s_%s.png&quot;</span>, local_path, outcome, trait, mod, cov), <span class="at">width =</span> <span class="dv">3</span><span class="sc">*</span>ht, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb228-75"><a href="runmodels.html#cb228-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb228-76"><a href="runmodels.html#cb228-76" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb228-77"><a href="runmodels.html#cb228-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-78"><a href="runmodels.html#cb228-78" aria-hidden="true" tabindex="-1"></a>nested_simp_std_se <span class="ot">&lt;-</span> nested_mega_simp <span class="sc">%&gt;%</span></span>
<span id="cb228-79"><a href="runmodels.html#cb228-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Covariate <span class="sc">!=</span> <span class="st">&quot;fully&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb228-80"><a href="runmodels.html#cb228-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pred.fx =</span> <span class="fu">map</span>(pred.fx, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">study =</span> <span class="st">&quot;Overall&quot;</span>)),</span>
<span id="cb228-81"><a href="runmodels.html#cb228-81" aria-hidden="true" tabindex="-1"></a>         <span class="at">comb.fx =</span> <span class="fu">map2</span>(pred.fx, pred.rx, full_join)) <span class="sc">%&gt;%</span></span>
<span id="cb228-82"><a href="runmodels.html#cb228-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pred.fx, <span class="sc">-</span>pred.rx) <span class="sc">%&gt;%</span></span>
<span id="cb228-83"><a href="runmodels.html#cb228-83" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Moderator %in% c(&quot;age&quot;, &quot;education&quot;)) %&gt;%</span></span>
<span id="cb228-84"><a href="runmodels.html#cb228-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">pmap</span>(<span class="fu">list</span>(comb.fx, Outcome, Trait, Moderator, Covariate, link), ipd_std_se_plot_fun))</span></code></pre></div>
</div>
<div id="significant-forest-plots-simple-effects" class="section level4 hasAnchor" number="3.4.2.5">
<h4><span class="header-section-number">3.4.2.5</span> Significant Forest Plots &amp; Simple Effects<a href="runmodels.html#significant-forest-plots-simple-effects" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="runmodels.html#cb229-1" aria-hidden="true" tabindex="-1"></a>std_eff_comb_plot_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(p1, p2, cov, out, trt, mod){</span>
<span id="cb229-2"><a href="runmodels.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(cov, out, trt, mod))</span>
<span id="cb229-3"><a href="runmodels.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> (cowplot<span class="sc">::</span><span class="fu">get_title</span>(p2))<span class="sc">$</span>children</span>
<span id="cb229-4"><a href="runmodels.html#cb229-4" aria-hidden="true" tabindex="-1"></a>  ttl <span class="ot">&lt;-</span> <span class="fu">str_wrap</span>(ttl[[<span class="dv">1</span>]]<span class="sc">$</span>label, <span class="dv">45</span>); <span class="fu">print</span>(ttl)</span>
<span id="cb229-5"><a href="runmodels.html#cb229-5" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> p2 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> ttl)</span>
<span id="cb229-6"><a href="runmodels.html#cb229-6" aria-hidden="true" tabindex="-1"></a>  rw <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">levels</span>(p2<span class="sc">$</span>data<span class="sc">$</span>mod_fac)) <span class="sc">==</span> <span class="dv">3</span>) <span class="fu">c</span>(.<span class="dv">35</span>, .<span class="dv">65</span>) <span class="cf">else</span> <span class="fu">c</span>(.<span class="dv">4</span>, .<span class="dv">6</span>)</span>
<span id="cb229-7"><a href="runmodels.html#cb229-7" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(p1, p2</span>
<span id="cb229-8"><a href="runmodels.html#cb229-8" aria-hidden="true" tabindex="-1"></a>            , <span class="at">rel_widths =</span> rw</span>
<span id="cb229-9"><a href="runmodels.html#cb229-9" aria-hidden="true" tabindex="-1"></a>            , <span class="at">align =</span> <span class="st">&quot;v&quot;</span></span>
<span id="cb229-10"><a href="runmodels.html#cb229-10" aria-hidden="true" tabindex="-1"></a>            , <span class="at">axis =</span> <span class="st">&quot;tb&quot;</span></span>
<span id="cb229-11"><a href="runmodels.html#cb229-11" aria-hidden="true" tabindex="-1"></a>            , <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb229-12"><a href="runmodels.html#cb229-12" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb229-13"><a href="runmodels.html#cb229-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined/%s-%s-%s-%s.png&quot;</span>, local_path, out, trt, mod, cov)</span>
<span id="cb229-14"><a href="runmodels.html#cb229-14" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="fu">length</span>(<span class="fu">levels</span>(p2<span class="sc">$</span>data<span class="sc">$</span>mod_fac))<span class="sc">*</span><span class="dv">3</span> <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb229-15"><a href="runmodels.html#cb229-15" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb229-16"><a href="runmodels.html#cb229-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined/%s-%s-%s-%s.pdf&quot;</span>, local_path, out, trt, mod, cov)</span>
<span id="cb229-17"><a href="runmodels.html#cb229-17" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="fu">length</span>(<span class="fu">levels</span>(p2<span class="sc">$</span>data<span class="sc">$</span>mod_fac))<span class="sc">*</span><span class="dv">3</span> <span class="sc">+</span> <span class="dv">4</span></span>
<span id="cb229-18"><a href="runmodels.html#cb229-18" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="dv">4</span>)</span>
<span id="cb229-19"><a href="runmodels.html#cb229-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb229-20"><a href="runmodels.html#cb229-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb229-21"><a href="runmodels.html#cb229-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-22"><a href="runmodels.html#cb229-22" aria-hidden="true" tabindex="-1"></a>nested_std_plots_comb <span class="ot">&lt;-</span> nested_reg_fp <span class="sc">%&gt;%</span> </span>
<span id="cb229-23"><a href="runmodels.html#cb229-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>p) <span class="sc">%&gt;%</span></span>
<span id="cb229-24"><a href="runmodels.html#cb229-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb229-25"><a href="runmodels.html#cb229-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> study <span class="sc">!=</span> <span class="st">&quot;Overall&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb229-26"><a href="runmodels.html#cb229-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Covariate, Outcome, Trait, Moderator, sig) <span class="sc">%&gt;%</span></span>
<span id="cb229-27"><a href="runmodels.html#cb229-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span></span>
<span id="cb229-28"><a href="runmodels.html#cb229-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Covariate, Outcome, Trait, Moderator) <span class="sc">%&gt;%</span></span>
<span id="cb229-29"><a href="runmodels.html#cb229-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">perc =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb229-30"><a href="runmodels.html#cb229-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb229-31"><a href="runmodels.html#cb229-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sig <span class="sc">==</span> <span class="st">&quot;sig&quot;</span> <span class="sc">&amp;</span> perc <span class="sc">&gt;</span> .<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb229-32"><a href="runmodels.html#cb229-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n,<span class="sc">-</span>perc) <span class="sc">%&gt;%</span></span>
<span id="cb229-33"><a href="runmodels.html#cb229-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb229-34"><a href="runmodels.html#cb229-34" aria-hidden="true" tabindex="-1"></a>    nested_reg_fp <span class="sc">%&gt;%</span> </span>
<span id="cb229-35"><a href="runmodels.html#cb229-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>p) <span class="sc">%&gt;%</span></span>
<span id="cb229-36"><a href="runmodels.html#cb229-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb229-37"><a href="runmodels.html#cb229-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span> <span class="sc">&amp;</span> <span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high)) <span class="sc">%&gt;%</span> </span>
<span id="cb229-38"><a href="runmodels.html#cb229-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(Covariate<span class="sc">:</span>Moderator, sig)</span>
<span id="cb229-39"><a href="runmodels.html#cb229-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb229-40"><a href="runmodels.html#cb229-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb229-41"><a href="runmodels.html#cb229-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb229-42"><a href="runmodels.html#cb229-42" aria-hidden="true" tabindex="-1"></a>    nested_reg_fp <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">everything</span>(), <span class="sc">-</span>data, <span class="at">fp=</span>p)</span>
<span id="cb229-43"><a href="runmodels.html#cb229-43" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb229-44"><a href="runmodels.html#cb229-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb229-45"><a href="runmodels.html#cb229-45" aria-hidden="true" tabindex="-1"></a>    nested_simp_std_se <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">everything</span>(), <span class="sc">-</span>comb.fx, <span class="at">sep =</span> <span class="st">`</span><span class="at">pmap(...)</span><span class="st">`</span>)</span>
<span id="cb229-46"><a href="runmodels.html#cb229-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb229-47"><a href="runmodels.html#cb229-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(fp, sep, Covariate, Outcome, Trait, Moderator)</span>
<span id="cb229-48"><a href="runmodels.html#cb229-48" aria-hidden="true" tabindex="-1"></a>                  , <span class="fu">possibly</span>(std_eff_comb_plot_fun, <span class="cn">NA_real_</span>)))</span></code></pre></div>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="runmodels.html#cb230-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-simple-effects/dementia_N_cognition_shared.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-simple-effects/dementia_N_cognition_shared.png" /><!-- --></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="runmodels.html#cb231-1" aria-hidden="true" tabindex="-1"></a>nested_std_plots_comb_panel <span class="ot">&lt;-</span> <span class="cf">function</span>(plist, cov, mod, nmod, trt_group){</span>
<span id="cb231-2"><a href="runmodels.html#cb231-2" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(</span>
<span id="cb231-3"><a href="runmodels.html#cb231-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">plotlist =</span> plist<span class="sc">$</span>p</span>
<span id="cb231-4"><a href="runmodels.html#cb231-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">ncol =</span> <span class="dv">1</span></span>
<span id="cb231-5"><a href="runmodels.html#cb231-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">align =</span> <span class="st">&quot;h&quot;</span></span>
<span id="cb231-6"><a href="runmodels.html#cb231-6" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis =</span> <span class="st">&quot;lr&quot;</span></span>
<span id="cb231-7"><a href="runmodels.html#cb231-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb231-8"><a href="runmodels.html#cb231-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb231-9"><a href="runmodels.html#cb231-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined-panels/%s-%s-%s.png&quot;</span>, local_path, mod, cov, trt_group)</span>
<span id="cb231-10"><a href="runmodels.html#cb231-10" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> nmod<span class="sc">*</span><span class="dv">3</span><span class="sc">+</span><span class="dv">5</span></span>
<span id="cb231-11"><a href="runmodels.html#cb231-11" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="fu">nrow</span>(plist)<span class="sc">*</span><span class="dv">3</span>)</span>
<span id="cb231-12"><a href="runmodels.html#cb231-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined-panels/%s-%s-%s.pdf&quot;</span>, local_path, mod, cov, trt_group)</span>
<span id="cb231-13"><a href="runmodels.html#cb231-13" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> nmod<span class="sc">*</span><span class="dv">3</span><span class="sc">+</span><span class="dv">5</span></span>
<span id="cb231-14"><a href="runmodels.html#cb231-14" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="fu">nrow</span>(plist)<span class="sc">*</span><span class="dv">4</span>)</span>
<span id="cb231-15"><a href="runmodels.html#cb231-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb231-16"><a href="runmodels.html#cb231-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-17"><a href="runmodels.html#cb231-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-18"><a href="runmodels.html#cb231-18" aria-hidden="true" tabindex="-1"></a>nested_std_plots_comb <span class="sc">%&gt;%</span></span>
<span id="cb231-19"><a href="runmodels.html#cb231-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Moderator <span class="sc">==</span> <span class="st">&quot;dementia&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb231-20"><a href="runmodels.html#cb231-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nmod =</span> <span class="fu">map_dbl</span>(sep, <span class="sc">~</span><span class="fu">length</span>(<span class="fu">levels</span>((.)<span class="sc">$</span>data<span class="sc">$</span>mod_fac)))</span>
<span id="cb231-21"><a href="runmodels.html#cb231-21" aria-hidden="true" tabindex="-1"></a>         , <span class="at">trt_group =</span> <span class="fu">mapvalues</span>(Trait, traits<span class="sc">$</span>short_name, <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;big5&quot;</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="st">&quot;swb&quot;</span>, <span class="dv">3</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb231-22"><a href="runmodels.html#cb231-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>fp, <span class="sc">-</span>sep) <span class="sc">%&gt;%</span></span>
<span id="cb231-23"><a href="runmodels.html#cb231-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Covariate, Moderator, nmod, trt_group) <span class="sc">%&gt;%</span> </span>
<span id="cb231-24"><a href="runmodels.html#cb231-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb231-25"><a href="runmodels.html#cb231-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb231-26"><a href="runmodels.html#cb231-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Covariate, Moderator, nmod, trt_group), nested_std_plots_comb_panel))</span>
<span id="cb231-27"><a href="runmodels.html#cb231-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-28"><a href="runmodels.html#cb231-28" aria-hidden="true" tabindex="-1"></a>nested_std_plots_comb_panel <span class="ot">&lt;-</span> <span class="cf">function</span>(plist, out, cov){</span>
<span id="cb231-29"><a href="runmodels.html#cb231-29" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(</span>
<span id="cb231-30"><a href="runmodels.html#cb231-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">plotlist =</span> plist<span class="sc">$</span>p</span>
<span id="cb231-31"><a href="runmodels.html#cb231-31" aria-hidden="true" tabindex="-1"></a>    , <span class="at">ncol =</span> <span class="dv">1</span></span>
<span id="cb231-32"><a href="runmodels.html#cb231-32" aria-hidden="true" tabindex="-1"></a>    , <span class="at">align =</span> <span class="st">&quot;h&quot;</span></span>
<span id="cb231-33"><a href="runmodels.html#cb231-33" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis =</span> <span class="st">&quot;lr&quot;</span></span>
<span id="cb231-34"><a href="runmodels.html#cb231-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb231-35"><a href="runmodels.html#cb231-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb231-36"><a href="runmodels.html#cb231-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined-panels/%s-%s.png&quot;</span>, local_path, out, cov)</span>
<span id="cb231-37"><a href="runmodels.html#cb231-37" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">3</span><span class="sc">*</span><span class="dv">3</span><span class="sc">+</span><span class="dv">6</span></span>
<span id="cb231-38"><a href="runmodels.html#cb231-38" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="fu">nrow</span>(plist)<span class="sc">*</span><span class="dv">4</span>)</span>
<span id="cb231-39"><a href="runmodels.html#cb231-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/study-specific-combined-panels/%s-%s.pdf&quot;</span>, local_path, out, cov)</span>
<span id="cb231-40"><a href="runmodels.html#cb231-40" aria-hidden="true" tabindex="-1"></a>         , <span class="at">width =</span> <span class="dv">3</span><span class="sc">*</span><span class="dv">3</span><span class="sc">+</span><span class="dv">6</span></span>
<span id="cb231-41"><a href="runmodels.html#cb231-41" aria-hidden="true" tabindex="-1"></a>         , <span class="at">height =</span> <span class="fu">nrow</span>(plist)<span class="sc">*</span><span class="dv">4</span>)</span>
<span id="cb231-42"><a href="runmodels.html#cb231-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb231-43"><a href="runmodels.html#cb231-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-44"><a href="runmodels.html#cb231-44" aria-hidden="true" tabindex="-1"></a>nested_reg_fp <span class="sc">%&gt;%</span> </span>
<span id="cb231-45"><a href="runmodels.html#cb231-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>p) <span class="sc">%&gt;%</span></span>
<span id="cb231-46"><a href="runmodels.html#cb231-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb231-47"><a href="runmodels.html#cb231-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(Moderator <span class="sc">!=</span> <span class="st">&quot;none&quot;</span> <span class="sc">&amp;</span> study <span class="sc">==</span> <span class="st">&quot;Overall&quot;</span> <span class="sc">&amp;</span> <span class="fu">sign</span>(conf.low) <span class="sc">==</span> <span class="fu">sign</span>(conf.high)) <span class="sc">%&gt;%</span> </span>
<span id="cb231-48"><a href="runmodels.html#cb231-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(Covariate<span class="sc">:</span>Moderator, sig) <span class="sc">%&gt;%</span></span>
<span id="cb231-49"><a href="runmodels.html#cb231-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nested_std_plots_comb) <span class="sc">%&gt;%</span></span>
<span id="cb231-50"><a href="runmodels.html#cb231-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Covariate, Outcome, Moderator, Trait) <span class="sc">%&gt;%</span></span>
<span id="cb231-51"><a href="runmodels.html#cb231-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Covariate, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb231-52"><a href="runmodels.html#cb231-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb231-53"><a href="runmodels.html#cb231-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb231-54"><a href="runmodels.html#cb231-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Outcome, Covariate), nested_std_plots_comb_panel))</span></code></pre></div>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="runmodels.html#cb232-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-combined-panels/dementia-shared-big5.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-combined-panels/dementia-shared-big5.png" /><!-- --></p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="runmodels.html#cb233-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-combined-panels/dementia-shared-swb.png&quot;</span>)</span></code></pre></div>
<p><img src="https://github.com/emoriebeck/personality-dementia-neuropath/raw/master/results/figures/study-specific-combined-panels/dementia-shared-swb.png" /><!-- --></p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="runmodels.html#cb234-1" aria-hidden="true" tabindex="-1"></a>hyp <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb234-2"><a href="runmodels.html#cb234-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;p_value = 0&quot;</span>, <span class="st">&quot;p_value + p_value:dementia1 = 0&quot;</span></span>
<span id="cb234-3"><a href="runmodels.html#cb234-3" aria-hidden="true" tabindex="-1"></a>); <span class="fu">names</span>(hyp) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dementia = 0&quot;</span>, <span class="st">&quot;Dementia = 1&quot;</span>)</span>
<span id="cb234-4"><a href="runmodels.html#cb234-4" aria-hidden="true" tabindex="-1"></a><span class="co"># C - braak - dementia - shared </span></span>
<span id="cb234-5"><a href="runmodels.html#cb234-5" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/braak_C_dementia.RData&quot;</span>)</span>
<span id="cb234-6"><a href="runmodels.html#cb234-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)</span></code></pre></div>
<pre><code>## Hypothesis Tests for class :
##      Group   Hypothesis Estimate Est.Error CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1      EAS Dementia = 0    -0.12      0.11    -0.32     0.08         NA        NA     
## 2      ROS Dementia = 0    -0.08      0.04    -0.15    -0.01         NA        NA    *
## 3 Rush-MAP Dementia = 0    -0.07      0.04    -0.15     0.00         NA        NA     
## 4 WUSM-MAP Dementia = 0    -0.13      0.05    -0.24    -0.03         NA        NA    *
## 5      EAS Dementia = 1    -0.04      0.05    -0.15     0.06         NA        NA     
## 6      ROS Dementia = 1     0.04      0.04    -0.04     0.12         NA        NA     
## 7 Rush-MAP Dementia = 1     0.02      0.05    -0.08     0.11         NA        NA     
## 8 WUSM-MAP Dementia = 1     0.04      0.04    -0.03     0.11         NA        NA     
## ---
## &#39;CI&#39;: 90%-CI for one-sided and 95%-CI for two-sided hypotheses.
## &#39;*&#39;: For one-sided hypotheses, the posterior probability exceeds 95%;
## for two-sided hypotheses, the value tested against lies outside the 95%-CI.
## Posterior probabilities of point hypotheses assume equal prior probabilities.</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="runmodels.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)</span></code></pre></div>
<pre><code>## Hypothesis Tests for class b:
##     Hypothesis Estimate Est.Error CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0    -0.10      0.07    -0.25     0.03         NA        NA     
## 2 Dementia = 1     0.01      0.08    -0.17     0.19         NA        NA     
## ---
## &#39;CI&#39;: 90%-CI for one-sided and 95%-CI for two-sided hypotheses.
## &#39;*&#39;: For one-sided hypotheses, the posterior probability exceeds 95%;
## for two-sided hypotheses, the value tested against lies outside the 95%-CI.
## Posterior probabilities of point hypotheses assume equal prior probabilities.</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="runmodels.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association only for individuals without dementia diag</span></span>
<span id="cb238-2"><a href="runmodels.html#cb238-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-3"><a href="runmodels.html#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="co"># C - vsclrMcrInfrcts - dementia - shared </span></span>
<span id="cb238-4"><a href="runmodels.html#cb238-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/vsclrMcrInfrcts_C_dementia.RData&quot;</span>)</span>
<span id="cb238-5"><a href="runmodels.html#cb238-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##      Group   Hypothesis  Estimate  Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1      ROS Dementia = 0 0.9988061 0.06770320 0.8764605 1.143950         NA        NA     
## 2 Rush-MAP Dementia = 0 1.0447691 0.07200416 0.9105495 1.205530         NA        NA     
## 3 WUSM-MAP Dementia = 0 0.8432535 0.11765971 0.6625451 1.054259         NA        NA     
## 4      ROS Dementia = 1 1.1805017 0.06641137 1.0367432 1.355112         NA        NA    *
## 5 Rush-MAP Dementia = 1 1.2039033 0.08067321 1.0274525 1.409629         NA        NA    *
## 6 WUSM-MAP Dementia = 1 0.9797134 0.07422464 0.8476623 1.137349         NA        NA</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="runmodels.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##     Hypothesis  Estimate Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0 0.9754047 0.1729477 0.6870286 1.407625         NA        NA     
## 2 Dementia = 1 1.1438618 0.1839683 0.7751785 1.750536         NA        NA</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="runmodels.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association only for individuals with dementia, such that C is risk for more pathology</span></span>
<span id="cb242-2"><a href="runmodels.html#cb242-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-3"><a href="runmodels.html#cb242-3" aria-hidden="true" tabindex="-1"></a><span class="co"># N - vsclrMcrInfrcts - dementia - shared </span></span>
<span id="cb242-4"><a href="runmodels.html#cb242-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/vsclrMcrInfrcts_N_dementia.RData&quot;</span>)</span>
<span id="cb242-5"><a href="runmodels.html#cb242-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##      Group   Hypothesis  Estimate  Est.Error  CI.Lower  CI.Upper Evid.Ratio Post.Prob Star
## 1      ROS Dementia = 0 1.0437675 0.05968691 0.9314426 1.1754425         NA        NA     
## 2 Rush-MAP Dementia = 0 1.0291555 0.06132083 0.9127782 1.1558555         NA        NA     
## 3 WUSM-MAP Dementia = 0 0.8443448 0.29233588 0.4643047 1.2229480         NA        NA     
## 4      ROS Dementia = 1 0.9040711 0.06041423 0.8014478 1.0129172         NA        NA     
## 5 Rush-MAP Dementia = 1 0.8294030 0.08189033 0.7090058 0.9682649         NA        NA    *
## 6 WUSM-MAP Dementia = 1 0.9789460 0.07911353 0.8446348 1.1450185         NA        NA</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="runmodels.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##     Hypothesis  Estimate Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0 0.9313774 0.2071516 0.6188457 1.273098         NA        NA     
## 2 Dementia = 1 0.9042091 0.1792381 0.6206919 1.363077         NA        NA</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="runmodels.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association for indidvuals with dementia, usch that N is a protective factor against pathology</span></span>
<span id="cb246-2"><a href="runmodels.html#cb246-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-3"><a href="runmodels.html#cb246-3" aria-hidden="true" tabindex="-1"></a><span class="co"># SWL - hipSclerosis - dementia - shared </span></span>
<span id="cb246-4"><a href="runmodels.html#cb246-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/hipSclerosis_SWL_dementia.RData&quot;</span>)</span>
<span id="cb246-5"><a href="runmodels.html#cb246-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##      Group   Hypothesis     Estimate  Est.Error     CI.Lower  CI.Upper Evid.Ratio Post.Prob Star
## 1      ROS Dementia = 0 0.3873057437  1.2022471 9.461066e-03 0.9688038         NA        NA    *
## 2 Rush-MAP Dementia = 0 0.7703913938  0.1259654 5.871807e-01 1.0084614         NA        NA     
## 3      ROS Dementia = 1 0.0004545209 11.1017394 2.322757e-12 1.1098083         NA        NA     
## 4 Rush-MAP Dementia = 1 1.1578001156  0.1153198 9.317357e-01 1.3396036         NA        NA</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="runmodels.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##     Hypothesis Estimate Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0 0.759799 0.4889561 0.2648956 2.026910         NA        NA     
## 2 Dementia = 1 1.244944 0.7665643 0.2256517 4.189413         NA        NA</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="runmodels.html#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association for indidvuals without dementia, SWL protective against pathology</span></span>
<span id="cb250-2"><a href="runmodels.html#cb250-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb250-3"><a href="runmodels.html#cb250-3" aria-hidden="true" tabindex="-1"></a><span class="co"># PA - tdp43 - dementia - shared </span></span>
<span id="cb250-4"><a href="runmodels.html#cb250-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/tdp43_PA_dementia.RData&quot;</span>)</span>
<span id="cb250-5"><a href="runmodels.html#cb250-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##      Group   Hypothesis  Estimate  Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1      ROS Dementia = 0 1.0416263 0.15719939 0.8478363 1.580044         NA        NA     
## 2 Rush-MAP Dementia = 0 0.9614492 0.03858223 0.8939941 1.040813         NA        NA     
## 3      ROS Dementia = 1 1.2277700 0.18994277 0.9423959 1.965850         NA        NA     
## 4 Rush-MAP Dementia = 1 1.1038449 0.04651578 1.0060705 1.211011         NA        NA    *</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="runmodels.html#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##     Hypothesis  Estimate Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0 0.9969027 0.2129140 0.6742554 1.671963         NA        NA     
## 2 Dementia = 1 1.1441791 0.3380502 0.5720831 2.377481         NA        NA</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="runmodels.html#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association for indidvuals with dementia, SWL risk for pathology</span></span>
<span id="cb254-2"><a href="runmodels.html#cb254-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-3"><a href="runmodels.html#cb254-3" aria-hidden="true" tabindex="-1"></a><span class="co"># SWL - vsclrInfrcts - dementia - shared </span></span>
<span id="cb254-4"><a href="runmodels.html#cb254-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/results/models/shared/vsclrInfrcts_SWL_dementia.RData&quot;</span>)</span>
<span id="cb254-5"><a href="runmodels.html#cb254-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp, <span class="at">scope =</span> <span class="st">&quot;coef&quot;</span>, <span class="at">group =</span> <span class="st">&quot;study&quot;</span>)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##      Group   Hypothesis  Estimate  Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1      ROS Dementia = 0 0.9288913 0.14003998 0.6823330 1.169168         NA        NA     
## 2 Rush-MAP Dementia = 0 1.0803984 0.06045682 0.9603480 1.217140         NA        NA     
## 3      ROS Dementia = 1 0.7829734 0.17091983 0.5244175 1.041787         NA        NA     
## 4 Rush-MAP Dementia = 1 0.8976146 0.06612901 0.7898269 1.024365         NA        NA</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="runmodels.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(m, hyp)<span class="sc">$</span>hypothesis <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">vars</span>(Estimate, CI.Lower, CI.Upper), exp)</span></code></pre></div>
<pre><code>##     Hypothesis  Estimate Est.Error  CI.Lower CI.Upper Evid.Ratio Post.Prob Star
## 1 Dementia = 0 1.0323883 0.2540358 0.5857555 1.843218         NA        NA     
## 2 Dementia = 1 0.8802098 0.3689337 0.3921431 1.934083         NA        NA</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="runmodels.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="co"># association for indidvuals with dementia, SWL risk for pathology</span></span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-models.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
