<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis</title>
  <meta name="description" content="Personality, Dementia, and Neuropathology" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Personality, Dementia, and Neuropathology" />
  <meta name="github-repo" content="emoriebeck/personality-dementia-neuropath" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Models | Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis" />
  
  <meta name="twitter:description" content="Personality, Dementia, and Neuropathology" />
  



<meta name="date" content="2022-10-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning.html"/>
<link rel="next" href="compile.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workspace</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i><b>1.1</b> Packages</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#directory-path"><i class="fa fa-check"></i><b>1.2</b> Directory Path</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#codebook"><i class="fa fa-check"></i><b>1.3</b> Codebook</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#tables"><i class="fa fa-check"></i><b>1.4</b> Tables</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#table-s1"><i class="fa fa-check"></i><b>1.4.1</b> Table S1</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#table-s2"><i class="fa fa-check"></i><b>1.4.2</b> Table S2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>2</b> Data Cleaning</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cleaning.html"><a href="cleaning.html#health-and-retirement-study-hrs"><i class="fa fa-check"></i><b>2.1</b> Health and Retirement Study (HRS)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="cleaning.html"><a href="cleaning.html#load-data"><i class="fa fa-check"></i><b>2.1.1</b> Load Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring"><i class="fa fa-check"></i><b>2.1.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.1.3" data-path="cleaning.html"><a href="cleaning.html#covariates"><i class="fa fa-check"></i><b>2.1.3</b> Covariates</a></li>
<li class="chapter" data-level="2.1.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables"><i class="fa fa-check"></i><b>2.1.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.1.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables"><i class="fa fa-check"></i><b>2.1.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.1.6" data-path="cleaning.html"><a href="cleaning.html#outcome-variables"><i class="fa fa-check"></i><b>2.1.6</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.1.7" data-path="cleaning.html"><a href="cleaning.html#combine-data"><i class="fa fa-check"></i><b>2.1.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="cleaning.html"><a href="cleaning.html#rush-memory-and-and-aging-project-rush-map"><i class="fa fa-check"></i><b>2.2</b> RUSH Memory and and Aging Project (RUSH-MAP)</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="cleaning.html"><a href="cleaning.html#load-data-1"><i class="fa fa-check"></i><b>2.2.1</b> Load Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-1"><i class="fa fa-check"></i><b>2.2.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.2.3" data-path="cleaning.html"><a href="cleaning.html#covariates-1"><i class="fa fa-check"></i><b>2.2.3</b> Covariates</a></li>
<li class="chapter" data-level="2.2.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-1"><i class="fa fa-check"></i><b>2.2.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.2.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-1"><i class="fa fa-check"></i><b>2.2.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-1"><i class="fa fa-check"></i><b>2.2.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.2.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-1"><i class="fa fa-check"></i><b>2.2.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="cleaning.html"><a href="cleaning.html#rush-religious-orders-study-ros"><i class="fa fa-check"></i><b>2.3</b> RUSH Religious Orders Study (ROS)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-2"><i class="fa fa-check"></i><b>2.3.1</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.3.2" data-path="cleaning.html"><a href="cleaning.html#covariates-2"><i class="fa fa-check"></i><b>2.3.2</b> Covariates</a></li>
<li class="chapter" data-level="2.3.3" data-path="cleaning.html"><a href="cleaning.html#personality-variables-2"><i class="fa fa-check"></i><b>2.3.3</b> Personality Variables</a></li>
<li class="chapter" data-level="2.3.4" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-2"><i class="fa fa-check"></i><b>2.3.4</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.3.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-2"><i class="fa fa-check"></i><b>2.3.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.3.6" data-path="cleaning.html"><a href="cleaning.html#combine-data-2"><i class="fa fa-check"></i><b>2.3.6</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="cleaning.html"><a href="cleaning.html#swedish-adoption-twin-study-of-aging-satsa"><i class="fa fa-check"></i><b>2.4</b> Swedish Adoption Twin Study of Aging (SATSA)</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="cleaning.html"><a href="cleaning.html#load-data-2"><i class="fa fa-check"></i><b>2.4.1</b> Load Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-3"><i class="fa fa-check"></i><b>2.4.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.4.3" data-path="cleaning.html"><a href="cleaning.html#covariates-3"><i class="fa fa-check"></i><b>2.4.3</b> Covariates</a></li>
<li class="chapter" data-level="2.4.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-3"><i class="fa fa-check"></i><b>2.4.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.4.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-3"><i class="fa fa-check"></i><b>2.4.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.4.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-3"><i class="fa fa-check"></i><b>2.4.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.4.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-3"><i class="fa fa-check"></i><b>2.4.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cleaning.html"><a href="cleaning.html#adrc-memory-and-aging-project-adrc-map"><i class="fa fa-check"></i><b>2.5</b> ADRC Memory and Aging Project (ADRC-MAP)</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="cleaning.html"><a href="cleaning.html#load-data-3"><i class="fa fa-check"></i><b>2.5.1</b> Load Data</a></li>
<li class="chapter" data-level="2.5.2" data-path="cleaning.html"><a href="cleaning.html#recode-reverse-scoring"><i class="fa fa-check"></i><b>2.5.2</b> Recode &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.5.3" data-path="cleaning.html"><a href="cleaning.html#covariates-4"><i class="fa fa-check"></i><b>2.5.3</b> Covariates</a></li>
<li class="chapter" data-level="2.5.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-4"><i class="fa fa-check"></i><b>2.5.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.5.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-4"><i class="fa fa-check"></i><b>2.5.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.5.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-4"><i class="fa fa-check"></i><b>2.5.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.5.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-4"><i class="fa fa-check"></i><b>2.5.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="cleaning.html"><a href="cleaning.html#einstein-aging-study"><i class="fa fa-check"></i><b>2.6</b> Einstein Aging Study</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="cleaning.html"><a href="cleaning.html#load-data-4"><i class="fa fa-check"></i><b>2.6.1</b> Load Data</a></li>
<li class="chapter" data-level="2.6.2" data-path="cleaning.html"><a href="cleaning.html#recode-reverse-scoring-1"><i class="fa fa-check"></i><b>2.6.2</b> Recode &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.6.3" data-path="cleaning.html"><a href="cleaning.html#covariates-5"><i class="fa fa-check"></i><b>2.6.3</b> Covariates</a></li>
<li class="chapter" data-level="2.6.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-5"><i class="fa fa-check"></i><b>2.6.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.6.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-5"><i class="fa fa-check"></i><b>2.6.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.6.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-5"><i class="fa fa-check"></i><b>2.6.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.6.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-5"><i class="fa fa-check"></i><b>2.6.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="cleaning.html"><a href="cleaning.html#german-socioeconomic-panel-study-gsoep"><i class="fa fa-check"></i><b>2.7</b> German Socioeconomic Panel Study (GSOEP)</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="cleaning.html"><a href="cleaning.html#load-data-5"><i class="fa fa-check"></i><b>2.7.1</b> Load Data</a></li>
<li class="chapter" data-level="2.7.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-4"><i class="fa fa-check"></i><b>2.7.2</b> Recoding &amp; Reverse Scoring</a></li>
<li class="chapter" data-level="2.7.3" data-path="cleaning.html"><a href="cleaning.html#covariates-6"><i class="fa fa-check"></i><b>2.7.3</b> Covariates</a></li>
<li class="chapter" data-level="2.7.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-6"><i class="fa fa-check"></i><b>2.7.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.7.5" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-6"><i class="fa fa-check"></i><b>2.7.5</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.7.6" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-6"><i class="fa fa-check"></i><b>2.7.6</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.7.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-6"><i class="fa fa-check"></i><b>2.7.7</b> Combine Data</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="cleaning.html"><a href="cleaning.html#the-longitudinal-studies-for-the-social-sciences-liss"><i class="fa fa-check"></i><b>2.8</b> The Longitudinal Studies for the Social sciences (LISS)</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="cleaning.html"><a href="cleaning.html#load-data-6"><i class="fa fa-check"></i><b>2.8.1</b> Load Data</a></li>
<li class="chapter" data-level="2.8.2" data-path="cleaning.html"><a href="cleaning.html#recoding-reverse-scoring-5"><i class="fa fa-check"></i><b>2.8.2</b> Recoding &amp; Reverse-Scoring</a></li>
<li class="chapter" data-level="2.8.3" data-path="cleaning.html"><a href="cleaning.html#covariates-7"><i class="fa fa-check"></i><b>2.8.3</b> Covariates</a></li>
<li class="chapter" data-level="2.8.4" data-path="cleaning.html"><a href="cleaning.html#personality-variables-7"><i class="fa fa-check"></i><b>2.8.4</b> Personality Variables</a></li>
<li class="chapter" data-level="2.8.5" data-path="cleaning.html"><a href="cleaning.html#cognition-variables-7"><i class="fa fa-check"></i><b>2.8.5</b> Cognition Variables</a></li>
<li class="chapter" data-level="2.8.6" data-path="cleaning.html"><a href="cleaning.html#outcome-variables-7"><i class="fa fa-check"></i><b>2.8.6</b> Outcome Variables</a></li>
<li class="chapter" data-level="2.8.7" data-path="cleaning.html"><a href="cleaning.html#combine-data-7"><i class="fa fa-check"></i><b>2.8.7</b> Combine Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="runmodels.html"><a href="runmodels.html"><i class="fa fa-check"></i><b>3</b> Models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="runmodels.html"><a href="runmodels.html#part-1-combine-data"><i class="fa fa-check"></i><b>3.1</b> Part 1: Combine Data</a></li>
<li class="chapter" data-level="3.2" data-path="runmodels.html"><a href="runmodels.html#part-2-clean-and-prepare-data-sets"><i class="fa fa-check"></i><b>3.2</b> Part 2: Clean and Prepare Data Sets</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="runmodels.html"><a href="runmodels.html#pomp-and-factor-levels"><i class="fa fa-check"></i><b>3.2.1</b> POMP and Factor Levels</a></li>
<li class="chapter" data-level="3.2.2" data-path="runmodels.html"><a href="runmodels.html#zero-order-correlations"><i class="fa fa-check"></i><b>3.2.2</b> Zero-Order Correlations</a></li>
<li class="chapter" data-level="3.2.3" data-path="runmodels.html"><a href="runmodels.html#rescale-outcomes"><i class="fa fa-check"></i><b>3.2.3</b> Rescale Outcomes</a></li>
<li class="chapter" data-level="3.2.4" data-path="runmodels.html"><a href="runmodels.html#bring-in-moderators-and-covariate-adjustments"><i class="fa fa-check"></i><b>3.2.4</b> Bring in Moderators and Covariate Adjustments</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="runmodels.html"><a href="runmodels.html#part-3-models"><i class="fa fa-check"></i><b>3.3</b> Part 3: Models</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="runmodels.html"><a href="runmodels.html#functions"><i class="fa fa-check"></i><b>3.3.1</b> Functions</a></li>
<li class="chapter" data-level="3.3.2" data-path="runmodels.html"><a href="runmodels.html#run-models-and-summaries"><i class="fa fa-check"></i><b>3.3.2</b> Run Models and Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="compile.html"><a href="compile.html"><i class="fa fa-check"></i><b>4</b> Compile Results</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="compile.html"><a href="compile.html#tables-1"><i class="fa fa-check"></i><b>4.0.1</b> Tables</a></li>
<li class="chapter" data-level="4.0.2" data-path="compile.html"><a href="compile.html#figures"><i class="fa fa-check"></i><b>4.0.2</b> Figures</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Personality Predictors of Dementia Diagnosis and Neuropathic Burden: A Mega-Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="runmodels" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Models<a href="runmodels.html#runmodels" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section, we will:</p>
<ol style="list-style-type: decimal">
<li>Combine the data across samples and create new data frames for each personality trait / well-being x covariate x outcome x moderator combination.</li>
<li>As preregistered, we will then rescale variables in each sample to harmonize across samples</li>
<li>Next, we will create a series of functions to:</li>
</ol>
<ul>
<li>Run the model</li>
<li>Extract sample-specific estimates from each sample</li>
<li>Extract cross-sample heterogeneity estimates</li>
<li>Extract fixed and and random simple slopes</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Run the models or export files to the computing cluster to speed up runtime.</li>
</ol>
<div id="part-1-combine-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Part 1: Combine Data<a href="runmodels.html#part-1-combine-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, we’ll just load in all the combined data frames for each sample and keep our core variables:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="runmodels.html#cb189-1" aria-hidden="true" tabindex="-1"></a>loadRData <span class="ot">&lt;-</span> <span class="cf">function</span>(fileName, type){</span>
<span id="cb189-2"><a href="runmodels.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="co">#loads an RData file, and returns it</span></span>
<span id="cb189-3"><a href="runmodels.html#cb189-3" aria-hidden="true" tabindex="-1"></a>    path <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/clean/%s_cleaned.RData&quot;</span>, local_path, fileName)</span>
<span id="cb189-4"><a href="runmodels.html#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">load</span>(path)</span>
<span id="cb189-5"><a href="runmodels.html#cb189-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get</span>(<span class="fu">ls</span>()[<span class="fu">grepl</span>(type, <span class="fu">ls</span>())])</span>
<span id="cb189-6"><a href="runmodels.html#cb189-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb189-7"><a href="runmodels.html#cb189-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-8"><a href="runmodels.html#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="co"># which(apply(nested_data %&gt;% mutate(cols = map(data, colnames)) %&gt;% select(-data) %&gt;% unnest(cols) %&gt;% mutate(inc = &quot;yes&quot;) %&gt;% spread(study, inc), 1, function(x){sum(is.na(x))/7*100}) &lt; 25)</span></span>
<span id="cb189-9"><a href="runmodels.html#cb189-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-10"><a href="runmodels.html#cb189-10" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb189-11"><a href="runmodels.html#cb189-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">study =</span> studies</span>
<span id="cb189-12"><a href="runmodels.html#cb189-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> <span class="fu">map</span>(<span class="fu">str_to_lower</span>(study), <span class="sc">~</span><span class="fu">loadRData</span>(., <span class="st">&quot;combined&quot;</span>))</span>
<span id="cb189-13"><a href="runmodels.html#cb189-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb189-14"><a href="runmodels.html#cb189-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb189-15"><a href="runmodels.html#cb189-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> </span>
<span id="cb189-16"><a href="runmodels.html#cb189-16" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb189-17"><a href="runmodels.html#cb189-17" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">mutate</span>(<span class="at">SID =</span> <span class="fu">as.character</span>(SID)) <span class="sc">%&gt;%</span></span>
<span id="cb189-18"><a href="runmodels.html#cb189-18" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">select</span>(SID, Trait, p_year, p_value, Outcome, o_year, o_value <span class="co"># core variables</span></span>
<span id="cb189-19"><a href="runmodels.html#cb189-19" aria-hidden="true" tabindex="-1"></a>                        , <span class="fu">one_of</span>(<span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;cognition&quot;</span></span>
<span id="cb189-20"><a href="runmodels.html#cb189-20" aria-hidden="true" tabindex="-1"></a>                                 , <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;BMI&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;SRhealth&quot;</span></span>
<span id="cb189-21"><a href="runmodels.html#cb189-21" aria-hidden="true" tabindex="-1"></a>                                 , <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;diabetes&quot;</span>, <span class="st">&quot;heartProb&quot;</span>, <span class="st">&quot;dementia&quot;</span>)))</span>
<span id="cb189-22"><a href="runmodels.html#cb189-22" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb189-23"><a href="runmodels.html#cb189-23" aria-hidden="true" tabindex="-1"></a>    , <span class="at">study =</span> <span class="fu">mapvalues</span>(study, studies, studies_long)</span>
<span id="cb189-24"><a href="runmodels.html#cb189-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb189-25"><a href="runmodels.html#cb189-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb189-26"><a href="runmodels.html#cb189-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing this outcome because there was no variance for WUSM MAP</span></span>
<span id="cb189-27"><a href="runmodels.html#cb189-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(Outcome <span class="sc">==</span> <span class="st">&quot;vsclrInfrcts&quot;</span> <span class="sc">&amp;</span> study <span class="sc">==</span> <span class="st">&quot;ADRC&quot;</span>))</span>
<span id="cb189-28"><a href="runmodels.html#cb189-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-29"><a href="runmodels.html#cb189-29" aria-hidden="true" tabindex="-1"></a>nested_data</span></code></pre></div>
<pre><code>## # A tibble: 420,195 × 22
##    study SID   Trait p_year p_value Outcome o_year o_value   age gender educa…¹ cogni…² alcohol smokes   BMI  race stroke cancer diabe…³ heart…⁴
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 ROS   0002… A          0      32 angiop…      2       3  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  2 ROS   0002… A          0      32 arteri…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  3 ROS   0002… A          0      32 athero…      2       2  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  4 ROS   0002… A          0      32 braak        2       6  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  5 ROS   0002… A          0      32 cerad        2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  6 ROS   0002… A          0      32 hipScl…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  7 ROS   0002… A          0      32 lewyBo…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  8 ROS   0002… A          0      32 vsclrI…      2       0  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
##  9 ROS   0002… A          0      32 vsclrM…      2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
## 10 ROS   0002… A          0      32 tdp43        2       1  80.0      0      22    4.19       0      0  19.9     0      0      0       0       1
## # … with 420,185 more rows, 2 more variables: dementia &lt;dbl&gt;, SRhealth &lt;dbl&gt;, and abbreviated variable names ¹​education, ²​cognition, ³​diabetes,
## #   ⁴​heartProb</code></pre>
</div>
<div id="part-2-clean-and-prepare-data-sets" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Part 2: Clean and Prepare Data Sets<a href="runmodels.html#part-2-clean-and-prepare-data-sets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next time to rescale or relevel variables.</p>
<div id="pomp-and-factor-levels" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> POMP and Factor Levels<a href="runmodels.html#pomp-and-factor-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first thing we’ll do is get everything on the same scale. To do so, and as we preregistered, we will convert:
- age to centered at 60<br />
- education (in years) to centered at 12 years<br />
- personality characteristics and cognition to POMP<br />
- chronic conditions to 0 = no, 1 = yes
- Dementia diagnosis to 0 = no, 1 = yes
- Lewy Body Disease (binary; 0 = none, 1 = yes, collapsing across types)<br />
- Gross Cerebral Infarcts, Gross Cerebral Microinfarcts, Hippocampal Sclerosis (binary; 0 = No, 1 = Yes)</p>
<p>All other indicators have scales that are already standardized across studies (e.g., BMI, Braak stage, CERAD) and will not be transformed.</p>
<p>But first, we’ll make a table of descriptive values (M (SD) or percentage) for all variables for each sample.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="runmodels.html#cb191-1" aria-hidden="true" tabindex="-1"></a>cln <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Study&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;N&quot;</span>, <span class="st">&quot;O&quot;</span>, <span class="st">&quot;Crystallized / Knowledge&quot;</span>, <span class="st">&quot;Age (Years)&quot;</span>, <span class="st">&quot;Education (Years)&quot;</span>, <span class="st">&quot;% Women&quot;</span>)</span>
<span id="cb191-2"><a href="runmodels.html#cb191-2" aria-hidden="true" tabindex="-1"></a>fctr_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>, <span class="st">&quot;gender&quot;</span></span>
<span id="cb191-3"><a href="runmodels.html#cb191-3" aria-hidden="true" tabindex="-1"></a>               , <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;cancer&quot;</span>, <span class="st">&quot;diabetes&quot;</span>, <span class="st">&quot;heartProb&quot;</span>)</span>
<span id="cb191-4"><a href="runmodels.html#cb191-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-5"><a href="runmodels.html#cb191-5" aria-hidden="true" tabindex="-1"></a>transpose_df <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb191-6"><a href="runmodels.html#cb191-6" aria-hidden="true" tabindex="-1"></a>  t_df <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">transpose</span>(df)</span>
<span id="cb191-7"><a href="runmodels.html#cb191-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(t_df) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df)</span>
<span id="cb191-8"><a href="runmodels.html#cb191-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(t_df) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df)</span>
<span id="cb191-9"><a href="runmodels.html#cb191-9" aria-hidden="true" tabindex="-1"></a>  t_df <span class="ot">&lt;-</span> t_df <span class="sc">%&gt;%</span></span>
<span id="cb191-10"><a href="runmodels.html#cb191-10" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">.data =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb191-11"><a href="runmodels.html#cb191-11" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">as_tibble</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb191-12"><a href="runmodels.html#cb191-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb191-13"><a href="runmodels.html#cb191-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_names</span>(<span class="fu">c</span>(<span class="st">&quot;Variable&quot;</span>, df<span class="sc">$</span>study))</span>
<span id="cb191-14"><a href="runmodels.html#cb191-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(t_df)</span>
<span id="cb191-15"><a href="runmodels.html#cb191-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb191-16"><a href="runmodels.html#cb191-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-17"><a href="runmodels.html#cb191-17" aria-hidden="true" tabindex="-1"></a>desc_tab <span class="ot">&lt;-</span></span>
<span id="cb191-18"><a href="runmodels.html#cb191-18" aria-hidden="true" tabindex="-1"></a>  nested_data <span class="sc">%&gt;%</span></span>
<span id="cb191-19"><a href="runmodels.html#cb191-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>p_year, <span class="sc">-</span>o_year, <span class="sc">-</span><span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span></span>
<span id="cb191-20"><a href="runmodels.html#cb191-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study, Trait, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb191-21"><a href="runmodels.html#cb191-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth), </span>
<span id="cb191-22"><a href="runmodels.html#cb191-22" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>((. <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">/</span>(<span class="fu">max</span>(., <span class="at">na.rm =</span> T) <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">*</span><span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb191-23"><a href="runmodels.html#cb191-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.infinite</span>(.), <span class="cn">NA</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb191-24"><a href="runmodels.html#cb191-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-25"><a href="runmodels.html#cb191-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Outcome, <span class="at">values_from =</span> o_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-26"><a href="runmodels.html#cb191-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Trait, <span class="at">values_from =</span> p_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-27"><a href="runmodels.html#cb191-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb191-28"><a href="runmodels.html#cb191-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb191-29"><a href="runmodels.html#cb191-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span></span>
<span id="cb191-30"><a href="runmodels.html#cb191-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-31"><a href="runmodels.html#cb191-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>study, <span class="sc">-</span>SID, <span class="sc">-</span>n), <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span>, <span class="at">values_drop_na =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb191-32"><a href="runmodels.html#cb191-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study, item, n) <span class="sc">%&gt;%</span></span>
<span id="cb191-33"><a href="runmodels.html#cb191-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">est =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.2f (%.2f)&quot;</span>, <span class="fu">mean</span>(value, <span class="at">na.rm =</span> T), <span class="fu">sd</span>(value, <span class="at">na.rm =</span> T))) <span class="sc">%&gt;%</span></span>
<span id="cb191-34"><a href="runmodels.html#cb191-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-35"><a href="runmodels.html#cb191-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> item, <span class="at">values_from =</span> est) <span class="sc">%&gt;%</span></span>
<span id="cb191-36"><a href="runmodels.html#cb191-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb191-37"><a href="runmodels.html#cb191-37" aria-hidden="true" tabindex="-1"></a>    nested_data <span class="sc">%&gt;%</span> </span>
<span id="cb191-38"><a href="runmodels.html#cb191-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(Outcome, SID, study) <span class="sc">%&gt;%</span></span>
<span id="cb191-39"><a href="runmodels.html#cb191-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(o_year <span class="sc">==</span> <span class="fu">min</span>(o_year)) <span class="sc">%&gt;%</span></span>
<span id="cb191-40"><a href="runmodels.html#cb191-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-41"><a href="runmodels.html#cb191-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>o_year, <span class="sc">-</span>dementia) <span class="sc">%&gt;%</span></span>
<span id="cb191-42"><a href="runmodels.html#cb191-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Outcome, <span class="at">values_from =</span> o_value, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb191-43"><a href="runmodels.html#cb191-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>Trait, <span class="sc">-</span>p_year, <span class="sc">-</span>p_value) <span class="sc">%&gt;%</span> </span>
<span id="cb191-44"><a href="runmodels.html#cb191-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-45"><a href="runmodels.html#cb191-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(study, SID, <span class="fu">one_of</span>(fctr_vars)) <span class="sc">%&gt;%</span> </span>
<span id="cb191-46"><a href="runmodels.html#cb191-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb191-47"><a href="runmodels.html#cb191-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb191-48"><a href="runmodels.html#cb191-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(<span class="sc">-</span>SID), <span class="sc">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> T)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb191-49"><a href="runmodels.html#cb191-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="sc">-</span>study), <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.nan</span>(.) <span class="sc">|</span> <span class="fu">is.na</span>(.), <span class="st">&quot;&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;%.2f%%&quot;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb191-50"><a href="runmodels.html#cb191-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb191-51"><a href="runmodels.html#cb191-51" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb191-52"><a href="runmodels.html#cb191-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(study, n, E, A, C, N, O, PA, <span class="st">`</span><span class="at">NA</span><span class="st">`</span>, SWL, <span class="fu">one_of</span>(outcomes<span class="sc">$</span>short_name), </span>
<span id="cb191-53"><a href="runmodels.html#cb191-53" aria-hidden="true" tabindex="-1"></a>           age, gender, education, cognition, BMI, SRhealth, smokes, alcohol, </span>
<span id="cb191-54"><a href="runmodels.html#cb191-54" aria-hidden="true" tabindex="-1"></a>           BMI, race, stroke, cancer, diabetes, heartProb) <span class="sc">%&gt;%</span> </span>
<span id="cb191-55"><a href="runmodels.html#cb191-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">transpose_df</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-56"><a href="runmodels.html#cb191-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">ifelse</span>(Variable <span class="sc">==</span> <span class="st">&quot;n&quot;</span>, <span class="st">&quot;Valid N&quot;</span>, Variable)) <span class="sc">%&gt;%</span> </span>
<span id="cb191-57"><a href="runmodels.html#cb191-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="fu">mapvalues</span>(Variable, <span class="fu">c</span>(traits<span class="sc">$</span>short_name, outcomes<span class="sc">$</span>short_name), <span class="fu">str_wrap</span>(<span class="fu">c</span>(traits<span class="sc">$</span>long_name, outcomes<span class="sc">$</span>long_name), <span class="dv">25</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb191-58"><a href="runmodels.html#cb191-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Variable, <span class="st">`</span><span class="at">Rush-MAP</span><span class="st">`</span>, ROS, <span class="st">`</span><span class="at">WUSM-MAP</span><span class="st">`</span>, EAS, GSOEP, HRS, LISS, SATSA) <span class="sc">%&gt;%</span></span>
<span id="cb191-59"><a href="runmodels.html#cb191-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span></span>
<span id="cb191-60"><a href="runmodels.html#cb191-60" aria-hidden="true" tabindex="-1"></a>        , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb191-61"><a href="runmodels.html#cb191-61" aria-hidden="true" tabindex="-1"></a>        <span class="co"># , col.names = cln</span></span>
<span id="cb191-62"><a href="runmodels.html#cb191-62" aria-hidden="true" tabindex="-1"></a>        , <span class="at">caption =</span> <span class="st">&quot;&lt;strong&gt;Table 1&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Descriptive Statistics of All Harmonized Measures Across Samples&quot;</span></span>
<span id="cb191-63"><a href="runmodels.html#cb191-63" aria-hidden="true" tabindex="-1"></a>        , <span class="at">align =</span> <span class="fu">c</span>(<span class="st">&quot;l&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>,<span class="dv">9</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb191-64"><a href="runmodels.html#cb191-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times New Roman&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-65"><a href="runmodels.html#cb191-65" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Big Five Personality&quot;</span>, <span class="dv">2</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-66"><a href="runmodels.html#cb191-66" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Subjective Well-Being&quot;</span>, <span class="dv">7</span>, <span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-67"><a href="runmodels.html#cb191-67" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Dementia and Neuropathology&quot;</span>, <span class="dv">10</span>, <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-68"><a href="runmodels.html#cb191-68" aria-hidden="true" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">group_rows</span>(<span class="st">&quot;Covariates&quot;</span>, <span class="dv">21</span>, <span class="dv">33</span>) <span class="sc">%&gt;%</span></span>
<span id="cb191-69"><a href="runmodels.html#cb191-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_footnote</span>(<span class="at">notation =</span> <span class="st">&quot;none&quot;</span>, <span class="at">label =</span> <span class="st">&quot;&lt;em&gt;Note.&lt;/em&gt; E = Extraversion; A = Agreeableness; C = Conscientiousness; N = Neuroticism; O = Openness, PA = Positive Affect, NA = Negative Affect, SWL = Satisfaction with Life; Age, education, gender, smoking, alcohol, BMI, chronic conditions, and cognition were assessed at the first baseline personality assessment.&quot;</span>, <span class="at">escape =</span> F); desc_tab</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times New Roman; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
(#tab:tab 2)<strong>Table 1</strong><br><em>Descriptive Statistics of All Harmonized Measures Across Samples</em>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:center;">
Rush-MAP
</th>
<th style="text-align:center;">
ROS
</th>
<th style="text-align:center;">
WUSM-MAP
</th>
<th style="text-align:center;">
EAS
</th>
<th style="text-align:center;">
GSOEP
</th>
<th style="text-align:center;">
HRS
</th>
<th style="text-align:center;">
LISS
</th>
<th style="text-align:center;">
SATSA
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Valid N
</td>
<td style="text-align:center;">
4283
</td>
<td style="text-align:center;">
3374
</td>
<td style="text-align:center;">
1478
</td>
<td style="text-align:center;">
813
</td>
<td style="text-align:center;">
31072
</td>
<td style="text-align:center;">
14001
</td>
<td style="text-align:center;">
6543
</td>
<td style="text-align:center;">
2002
</td>
</tr>
<tr grouplength="5">
<td colspan="9" style="border-bottom: 0;">
<strong>Big Five Personality</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Extraversion
</td>
<td style="text-align:center;">
5.50 (1.69)
</td>
<td style="text-align:center;">
5.17 (1.65)
</td>
<td style="text-align:center;">
5.73 (1.67)
</td>
<td style="text-align:center;">
5.59 (1.75)
</td>
<td style="text-align:center;">
6.40 (1.88)
</td>
<td style="text-align:center;">
7.33 (1.85)
</td>
<td style="text-align:center;">
5.64 (1.62)
</td>
<td style="text-align:center;">
6.33 (0.74)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Agreeableness
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
5.33 (1.40)
</td>
<td style="text-align:center;">
6.37 (1.62)
</td>
<td style="text-align:center;">
6.73 (1.87)
</td>
<td style="text-align:center;">
7.45 (1.63)
</td>
<td style="text-align:center;">
8.42 (1.59)
</td>
<td style="text-align:center;">
6.68 (1.48)
</td>
<td style="text-align:center;">
7.23 (1.17)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Conscientiousness
</td>
<td style="text-align:center;">
6.25 (1.57)
</td>
<td style="text-align:center;">
6.27 (1.39)
</td>
<td style="text-align:center;">
6.31 (1.79)
</td>
<td style="text-align:center;">
6.95 (1.73)
</td>
<td style="text-align:center;">
8.21 (1.55)
</td>
<td style="text-align:center;">
7.85 (1.61)
</td>
<td style="text-align:center;">
6.34 (1.49)
</td>
<td style="text-align:center;">
7.05 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Neuroticism
</td>
<td style="text-align:center;">
3.65 (1.68)
</td>
<td style="text-align:center;">
4.59 (1.61)
</td>
<td style="text-align:center;">
3.94 (1.91)
</td>
<td style="text-align:center;">
3.56 (2.08)
</td>
<td style="text-align:center;">
4.92 (2.04)
</td>
<td style="text-align:center;">
3.51 (2.06)
</td>
<td style="text-align:center;">
3.97 (1.69)
</td>
<td style="text-align:center;">
6.53 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Openness to Experience
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
5.50 (1.51)
</td>
<td style="text-align:center;">
5.60 (1.59)
</td>
<td style="text-align:center;">
5.85 (2.03)
</td>
<td style="text-align:center;">
5.88 (2.01)
</td>
<td style="text-align:center;">
6.44 (1.87)
</td>
<td style="text-align:center;">
5.98 (1.34)
</td>
<td style="text-align:center;">
4.84 (1.34)
</td>
</tr>
<tr grouplength="3">
<td colspan="9" style="border-bottom: 0;">
<strong>Subjective Well-Being</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Positive Affect
</td>
<td style="text-align:center;">
8.46 (1.82)
</td>
<td style="text-align:center;">
8.20 (3.86)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
6.22 (2.15)
</td>
<td style="text-align:center;">
6.56 (1.93)
</td>
<td style="text-align:center;">
5.94 (1.67)
</td>
<td style="text-align:center;">
7.47 (2.12)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Negative Affect
</td>
<td style="text-align:center;">
1.06 (1.30)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.63 (1.98)
</td>
<td style="text-align:center;">
1.92 (1.81)
</td>
<td style="text-align:center;">
1.75 (1.76)
</td>
<td style="text-align:center;">
2.14 (2.29)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Satisfaction with Life
</td>
<td style="text-align:center;">
7.39 (1.78)
</td>
<td style="text-align:center;">
6.75 (2.20)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.00 (1.76)
</td>
<td style="text-align:center;">
6.08 (2.34)
</td>
<td style="text-align:center;">
6.56 (1.46)
</td>
<td style="text-align:center;">
5.75 (2.87)
</td>
</tr>
<tr grouplength="11">
<td colspan="9" style="border-bottom: 0;">
<strong>Dementia and Neuropathology</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Incident Dementia
Diagnosis
</td>
<td style="text-align:center;">
22.17%
</td>
<td style="text-align:center;">
30.77%
</td>
<td style="text-align:center;">
27.39%
</td>
<td style="text-align:center;">
5.67%
</td>
<td style="text-align:center;">
1.03%
</td>
<td style="text-align:center;">
7.19%
</td>
<td style="text-align:center;">
0.31%
</td>
<td style="text-align:center;">
8.14%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Braak Stage
</td>
<td style="text-align:center;">
3.77 (1.20)
</td>
<td style="text-align:center;">
3.58 (1.25)
</td>
<td style="text-align:center;">
4.01 (1.66)
</td>
<td style="text-align:center;">
3.12 (1.06)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
CERAD
</td>
<td style="text-align:center;">
2.16 (1.12)
</td>
<td style="text-align:center;">
2.22 (1.13)
</td>
<td style="text-align:center;">
2.46 (0.81)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Lewy Body Disease
</td>
<td style="text-align:center;">
23.14%
</td>
<td style="text-align:center;">
23.44%
</td>
<td style="text-align:center;">
38.67%
</td>
<td style="text-align:center;">
11.76%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Gross Cerebral Infarcts
</td>
<td style="text-align:center;">
37.91%
</td>
<td style="text-align:center;">
34.70%
</td>
<td style="text-align:center;">
100.00%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Gross Cerebral
Microinfarcts
</td>
<td style="text-align:center;">
33.08%
</td>
<td style="text-align:center;">
31.37%
</td>
<td style="text-align:center;">
17.09%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Cerebral Atherosclerosis
</td>
<td style="text-align:center;">
1.13 (0.77)
</td>
<td style="text-align:center;">
1.24 (0.78)
</td>
<td style="text-align:center;">
1.29 (0.76)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Cerebral Amyloid
Angiopathy
</td>
<td style="text-align:center;">
1.29 (0.95)
</td>
<td style="text-align:center;">
1.29 (0.97)
</td>
<td style="text-align:center;">
1.27 (0.88)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Arteriolosclerosis
</td>
<td style="text-align:center;">
1.03 (0.91)
</td>
<td style="text-align:center;">
0.99 (0.96)
</td>
<td style="text-align:center;">
1.42 (0.70)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Hippocampal Sclerosis
</td>
<td style="text-align:center;">
9.77%
</td>
<td style="text-align:center;">
7.64%
</td>
<td style="text-align:center;">
3.66%
</td>
<td style="text-align:center;">
11.76%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
TDP-43
</td>
<td style="text-align:center;">
54.31%
</td>
<td style="text-align:center;">
49.79%
</td>
<td style="text-align:center;">
31.40%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr grouplength="13">
<td colspan="9" style="border-bottom: 0;">
<strong>Covariates</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
age
</td>
<td style="text-align:center;">
81.12 (6.96)
</td>
<td style="text-align:center;">
76.53 (7.24)
</td>
<td style="text-align:center;">
71.37 (10.39)
</td>
<td style="text-align:center;">
79.57 (5.39)
</td>
<td style="text-align:center;">
48.51 (16.93)
</td>
<td style="text-align:center;">
67.93 (10.45)
</td>
<td style="text-align:center;">
46.54 (15.94)
</td>
<td style="text-align:center;">
59.76 (14.02)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
gender
</td>
<td style="text-align:center;">
25.93%
</td>
<td style="text-align:center;">
28.64%
</td>
<td style="text-align:center;">
56.63%
</td>
<td style="text-align:center;">
61.34%
</td>
<td style="text-align:center;">
52.48%
</td>
<td style="text-align:center;">
59.49%
</td>
<td style="text-align:center;">
54.53%
</td>
<td style="text-align:center;">
58.79%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
education
</td>
<td style="text-align:center;">
14.87 (3.15)
</td>
<td style="text-align:center;">
18.25 (3.48)
</td>
<td style="text-align:center;">
15.71 (2.95)
</td>
<td style="text-align:center;">
14.46 (3.39)
</td>
<td style="text-align:center;">
11.60 (2.52)
</td>
<td style="text-align:center;">
12.61 (3.08)
</td>
<td style="text-align:center;">
12.60 (4.19)
</td>
<td style="text-align:center;">
10.32 (1.82)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
cognition
</td>
<td style="text-align:center;">
6.55 (1.02)
</td>
<td style="text-align:center;">
6.43 (0.98)
</td>
<td style="text-align:center;">
3.92 (1.29)
</td>
<td style="text-align:center;">
4.98 (0.81)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
7.18 (1.58)
</td>
<td style="text-align:center;">
3.08 (2.81)
</td>
<td style="text-align:center;">
5.49 (1.35)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
BMI
</td>
<td style="text-align:center;">
27.03 (5.02)
</td>
<td style="text-align:center;">
27.32 (5.39)
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
28.28 (5.09)
</td>
<td style="text-align:center;">
25.61 (4.35)
</td>
<td style="text-align:center;">
27.66 (4.42)
</td>
<td style="text-align:center;">
25.42 (7.82)
</td>
<td style="text-align:center;">
25.50 (3.80)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
SRhealth
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
3.93 (2.94)
</td>
<td style="text-align:center;">
6.75 (2.30)
</td>
<td style="text-align:center;">
6.36 (2.78)
</td>
<td style="text-align:center;">
5.39 (1.89)
</td>
<td style="text-align:center;">
2.16 (2.79)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
smokes
</td>
<td style="text-align:center;">
42.52%
</td>
<td style="text-align:center;">
19.57%
</td>
<td style="text-align:center;">
11.58%
</td>
<td style="text-align:center;">
54.51%
</td>
<td style="text-align:center;">
33.97%
</td>
<td style="text-align:center;">
56.08%
</td>
<td style="text-align:center;">
61.97%
</td>
<td style="text-align:center;">
49.85%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
alcohol
</td>
<td style="text-align:center;">
36.01%
</td>
<td style="text-align:center;">
27.57%
</td>
<td style="text-align:center;">
5.25%
</td>
<td style="text-align:center;">
92.01%
</td>
<td style="text-align:center;">
58.31%
</td>
<td style="text-align:center;">
53.43%
</td>
<td style="text-align:center;">
92.02%
</td>
<td style="text-align:center;">
67.89%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
race
</td>
<td style="text-align:center;">
17.59%
</td>
<td style="text-align:center;">
15.38%
</td>
<td style="text-align:center;">
15.05%
</td>
<td style="text-align:center;">
44.20%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
35.44%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
stroke
</td>
<td style="text-align:center;">
9.26%
</td>
<td style="text-align:center;">
6.95%
</td>
<td style="text-align:center;">
2.03%
</td>
<td style="text-align:center;">
4.38%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
9.62%
</td>
<td style="text-align:center;">
0.81%
</td>
<td style="text-align:center;">
2.06%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
cancer
</td>
<td style="text-align:center;">
32.96%
</td>
<td style="text-align:center;">
30.49%
</td>
<td style="text-align:center;">
6.68%
</td>
<td style="text-align:center;">
17.62%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
17.51%
</td>
<td style="text-align:center;">
1.62%
</td>
<td style="text-align:center;">
3.98%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
diabetes
</td>
<td style="text-align:center;">
13.41%
</td>
<td style="text-align:center;">
13.26%
</td>
<td style="text-align:center;">
8.95%
</td>
<td style="text-align:center;">
18.24%
</td>
<td style="text-align:center;">
0.00%
</td>
<td style="text-align:center;">
23.77%
</td>
<td style="text-align:center;">
4.76%
</td>
<td style="text-align:center;">
6.38%
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
heartProb
</td>
<td style="text-align:center;">
12.15%
</td>
<td style="text-align:center;">
10.10%
</td>
<td style="text-align:center;">
8.35%
</td>
<td style="text-align:center;">
21.91%
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
30.52%
</td>
<td style="text-align:center;">
3.93%
</td>
<td style="text-align:center;">
33.91%
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <em>Note.</em> E = Extraversion; A = Agreeableness; C = Conscientiousness; N = Neuroticism; O = Openness, PA = Positive Affect, NA = Negative Affect, SWL = Satisfaction with Life; Age, education, gender, smoking, alcohol, BMI, chronic conditions, and cognition were assessed at the first baseline personality assessment.
</td>
</tr>
</tfoot>
</table>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="runmodels.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save_kable</span>(desc_tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/tab-1-desc.html&quot;</span>, local_path))</span></code></pre></div>
</div>
<div id="zero-order-correlations" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Zero-Order Correlations<a href="runmodels.html#zero-order-correlations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="runmodels.html#cb193-1" aria-hidden="true" tabindex="-1"></a>r_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d){</span>
<span id="cb193-2"><a href="runmodels.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d[,<span class="fu">apply</span>(d, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(x)) <span class="sc">&gt;</span> <span class="dv">0</span>)]</span>
<span id="cb193-3"><a href="runmodels.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(d, <span class="at">use =</span> <span class="st">&quot;pairwise&quot;</span>)</span>
<span id="cb193-4"><a href="runmodels.html#cb193-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb193-5"><a href="runmodels.html#cb193-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-6"><a href="runmodels.html#cb193-6" aria-hidden="true" tabindex="-1"></a>nested_r <span class="ot">&lt;-</span> nested_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, Trait, p_value) <span class="sc">%&gt;%</span></span>
<span id="cb193-7"><a href="runmodels.html#cb193-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Trait&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;p_value&quot;</span>, <span class="at">values_fn =</span> mean) <span class="sc">%&gt;%</span></span>
<span id="cb193-8"><a href="runmodels.html#cb193-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb193-9"><a href="runmodels.html#cb193-9" aria-hidden="true" tabindex="-1"></a>    nested_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, Outcome, o_value) <span class="sc">%&gt;%</span></span>
<span id="cb193-10"><a href="runmodels.html#cb193-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Outcome&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;o_value&quot;</span>, <span class="at">values_fn =</span> mean) </span>
<span id="cb193-11"><a href="runmodels.html#cb193-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb193-12"><a href="runmodels.html#cb193-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb193-13"><a href="runmodels.html#cb193-13" aria-hidden="true" tabindex="-1"></a>    nested_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, age<span class="sc">:</span>SRhealth, <span class="sc">-</span>dementia) <span class="sc">%&gt;%</span></span>
<span id="cb193-14"><a href="runmodels.html#cb193-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>()</span>
<span id="cb193-15"><a href="runmodels.html#cb193-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb193-16"><a href="runmodels.html#cb193-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>SID) <span class="sc">%&gt;%</span></span>
<span id="cb193-17"><a href="runmodels.html#cb193-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb193-18"><a href="runmodels.html#cb193-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb193-19"><a href="runmodels.html#cb193-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb193-20"><a href="runmodels.html#cb193-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r =</span> <span class="fu">map</span>(data, r_fun))</span></code></pre></div>
<div id="table" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Table<a href="runmodels.html#table" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="runmodels.html#cb194-1" aria-hidden="true" tabindex="-1"></a>cor_tab_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(r, study){</span>
<span id="cb194-2"><a href="runmodels.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  coln <span class="ot">&lt;-</span> <span class="fu">colnames</span>(r)</span>
<span id="cb194-3"><a href="runmodels.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  colnn <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(coln), <span class="st">&quot;. &quot;</span>, coln)</span>
<span id="cb194-4"><a href="runmodels.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">apply</span>(r, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="cf">function</span>(x) <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, x))</span>
<span id="cb194-5"><a href="runmodels.html#cb194-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(r) <span class="ot">&lt;-</span> colnn; <span class="fu">colnames</span>(r) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(coln)</span>
<span id="cb194-6"><a href="runmodels.html#cb194-6" aria-hidden="true" tabindex="-1"></a>  r[<span class="fu">upper.tri</span>(r)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb194-7"><a href="runmodels.html#cb194-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diag</span>(r) <span class="ot">&lt;-</span> <span class="st">&quot;--&quot;</span></span>
<span id="cb194-8"><a href="runmodels.html#cb194-8" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> r <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb194-9"><a href="runmodels.html#cb194-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">&quot;V&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb194-10"><a href="runmodels.html#cb194-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">V =</span> <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;%s&lt;/strong&gt;&quot;</span>, V)) <span class="sc">%&gt;%</span></span>
<span id="cb194-11"><a href="runmodels.html#cb194-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(.</span>
<span id="cb194-12"><a href="runmodels.html#cb194-12" aria-hidden="true" tabindex="-1"></a>          , <span class="st">&quot;html&quot;</span></span>
<span id="cb194-13"><a href="runmodels.html#cb194-13" aria-hidden="true" tabindex="-1"></a>          , <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;%i&lt;s/trong&gt;&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(coln)))</span>
<span id="cb194-14"><a href="runmodels.html#cb194-14" aria-hidden="true" tabindex="-1"></a>          , <span class="at">align =</span> <span class="fu">c</span>(<span class="st">&quot;l&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="fu">length</span>(coln)))</span>
<span id="cb194-15"><a href="runmodels.html#cb194-15" aria-hidden="true" tabindex="-1"></a>          , <span class="at">cap =</span> <span class="fu">sprintf</span>(<span class="st">&quot;&lt;strong&gt;Table SX&lt;/strong&gt;&lt;br&gt;&lt;em&gt;Zero-Order Correlations Among Variables for %s&lt;/em&gt;&quot;</span>, study)</span>
<span id="cb194-16"><a href="runmodels.html#cb194-16" aria-hidden="true" tabindex="-1"></a>          , <span class="at">escape =</span> F</span>
<span id="cb194-17"><a href="runmodels.html#cb194-17" aria-hidden="true" tabindex="-1"></a>          ) <span class="sc">%&gt;%</span></span>
<span id="cb194-18"><a href="runmodels.html#cb194-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">&quot;Times&quot;</span>)</span>
<span id="cb194-19"><a href="runmodels.html#cb194-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save_kable</span>(tab, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/tables/zero-order-cor/%s.html&quot;</span>, local_path, study))</span>
<span id="cb194-20"><a href="runmodels.html#cb194-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(tab)</span>
<span id="cb194-21"><a href="runmodels.html#cb194-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb194-22"><a href="runmodels.html#cb194-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-23"><a href="runmodels.html#cb194-23" aria-hidden="true" tabindex="-1"></a>nested_r <span class="ot">&lt;-</span> nested_r <span class="sc">%&gt;%</span></span>
<span id="cb194-24"><a href="runmodels.html#cb194-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tab =</span> <span class="fu">map2</span>(r, study, cor_tab_fun))</span>
<span id="cb194-25"><a href="runmodels.html#cb194-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-26"><a href="runmodels.html#cb194-26" aria-hidden="true" tabindex="-1"></a>nested_r<span class="sc">$</span>tab[[<span class="dv">1</span>]]</span></code></pre></div>
<table class=" lightable-classic" style="font-family: Times; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
(#tab:cor tables)<strong>Table SX</strong><br><em>Zero-Order Correlations Among Variables for ROS</em>
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
<strong>1<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>2<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>3<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>4<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>5<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>6<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>7<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>8<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>9<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>10<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>11<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>12<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>13<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>14<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>15<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>16<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>17<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>18<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>19<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>20<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>21<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>22<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>23<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>24<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>25<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>26<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>27<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>28<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>29<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>30<s> </s></strong>
</th>
<th style="text-align:center;">
<strong>31<s> </s></strong>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<strong>1. A</strong>
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>2. C</strong>
</td>
<td style="text-align:center;">
0.29
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>3. E</strong>
</td>
<td style="text-align:center;">
0.25
</td>
<td style="text-align:center;">
0.23
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>4. N</strong>
</td>
<td style="text-align:center;">
-0.33
</td>
<td style="text-align:center;">
-0.31
</td>
<td style="text-align:center;">
-0.34
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>5. O</strong>
</td>
<td style="text-align:center;">
0.21
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>6. PA</strong>
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
-0.18
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>7. SWL</strong>
</td>
<td style="text-align:center;">
0.40
</td>
<td style="text-align:center;">
0.20
</td>
<td style="text-align:center;">
0.18
</td>
<td style="text-align:center;">
-0.39
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>8. angiopathy</strong>
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
0.24
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>9. arteriolosclerosis</strong>
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
-0.34
</td>
<td style="text-align:center;">
-0.18
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>10. atherosclerosis</strong>
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.30
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>11. braak</strong>
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.34
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>12. cerad</strong>
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.33
</td>
<td style="text-align:center;">
-0.42
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.60
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>13. hipSclerosis</strong>
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.13
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>14. lewyBodyDis</strong>
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.18
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.11
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>15. vsclrInfrcts</strong>
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.22
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.21
</td>
<td style="text-align:center;">
0.26
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>16. vsclrMcrInfrcts</strong>
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.28
</td>
<td style="text-align:center;">
-0.17
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.24
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>17. tdp43</strong>
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.49
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
0.28
</td>
<td style="text-align:center;">
-0.19
</td>
<td style="text-align:center;">
0.25
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>18. dementia</strong>
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.12
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.36
</td>
<td style="text-align:center;">
-0.33
</td>
<td style="text-align:center;">
0.18
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
0.14
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
0.23
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>19. ageDementia</strong>
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.13
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.23
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.11
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>20. age</strong>
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.16
</td>
<td style="text-align:center;">
0.30
</td>
<td style="text-align:center;">
0.18
</td>
<td style="text-align:center;">
0.13
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
0.23
</td>
<td style="text-align:center;">
0.17
</td>
<td style="text-align:center;">
-0.13
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.16
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
0.18
</td>
<td style="text-align:center;">
0.57
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>21. gender</strong>
</td>
<td style="text-align:center;">
-0.12
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
-0.18
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.18
</td>
<td style="text-align:center;">
0.16
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>22. education</strong>
</td>
<td style="text-align:center;">
0.13
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
-0.17
</td>
<td style="text-align:center;">
0.32
</td>
<td style="text-align:center;">
-0.27
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>23. cognition</strong>
</td>
<td style="text-align:center;">
0.16
</td>
<td style="text-align:center;">
0.14
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
-0.17
</td>
<td style="text-align:center;">
0.31
</td>
<td style="text-align:center;">
-0.22
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.31
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.45
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
0.29
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>24. alcohol</strong>
</td>
<td style="text-align:center;">
0.11
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
-0.12
</td>
<td style="text-align:center;">
0.19
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.12
</td>
<td style="text-align:center;">
0.13
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.20
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>25. smokes</strong>
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.10
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.38
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.17
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>26. BMI</strong>
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.18
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>27. race</strong>
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.07
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.12
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.16
</td>
<td style="text-align:center;">
-0.15
</td>
<td style="text-align:center;">
-0.13
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>28. stroke</strong>
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.14
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.15
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.10
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>29. cancer</strong>
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.09
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>30. diabetes</strong>
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.11
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.23
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
–
</td>
<td style="text-align:center;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong>31. heartProb</strong>
</td>
<td style="text-align:center;">
-0.06
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.03
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
-0.19
</td>
<td style="text-align:center;">
-0.07
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.05
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.02
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.04
</td>
<td style="text-align:center;">
-0.04
</td>
<td style="text-align:center;">
-0.01
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.08
</td>
<td style="text-align:center;">
0.09
</td>
<td style="text-align:center;">
-0.00
</td>
<td style="text-align:center;">
-0.08
</td>
<td style="text-align:center;">
-0.02
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
0.05
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
-0.03
</td>
<td style="text-align:center;">
0.12
</td>
<td style="text-align:center;">
–
</td>
</tr>
</tbody>
</table>
</div>
<div id="heat-map" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Heat Map<a href="runmodels.html#heat-map" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="runmodels.html#cb195-1" aria-hidden="true" tabindex="-1"></a>r_reshape_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(r){</span>
<span id="cb195-2"><a href="runmodels.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  coln <span class="ot">&lt;-</span> <span class="fu">colnames</span>(r)</span>
<span id="cb195-3"><a href="runmodels.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove lower tri and diagonal</span></span>
<span id="cb195-4"><a href="runmodels.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  r[<span class="fu">lower.tri</span>(r, <span class="at">diag =</span> T)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb195-5"><a href="runmodels.html#cb195-5" aria-hidden="true" tabindex="-1"></a>  r <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb195-6"><a href="runmodels.html#cb195-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="st">&quot;V1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb195-7"><a href="runmodels.html#cb195-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb195-8"><a href="runmodels.html#cb195-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="sc">-</span>V1</span>
<span id="cb195-9"><a href="runmodels.html#cb195-9" aria-hidden="true" tabindex="-1"></a>      , <span class="at">values_to =</span> <span class="st">&quot;r&quot;</span></span>
<span id="cb195-10"><a href="runmodels.html#cb195-10" aria-hidden="true" tabindex="-1"></a>      , <span class="at">names_to =</span> <span class="st">&quot;V2&quot;</span></span>
<span id="cb195-11"><a href="runmodels.html#cb195-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb195-12"><a href="runmodels.html#cb195-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(V1, V2), <span class="sc">~</span><span class="fu">factor</span>(., coln))</span>
<span id="cb195-13"><a href="runmodels.html#cb195-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb195-14"><a href="runmodels.html#cb195-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-15"><a href="runmodels.html#cb195-15" aria-hidden="true" tabindex="-1"></a>r_plot_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(r, study){</span>
<span id="cb195-16"><a href="runmodels.html#cb195-16" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> r <span class="sc">%&gt;%</span> </span>
<span id="cb195-17"><a href="runmodels.html#cb195-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> V1, <span class="at">y =</span> V2, <span class="at">fill =</span> r)) <span class="sc">+</span> </span>
<span id="cb195-18"><a href="runmodels.html#cb195-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_raster</span>() <span class="sc">+</span> </span>
<span id="cb195-19"><a href="runmodels.html#cb195-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(r, <span class="dv">2</span>))) <span class="sc">+</span> </span>
<span id="cb195-20"><a href="runmodels.html#cb195-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb195-21"><a href="runmodels.html#cb195-21" aria-hidden="true" tabindex="-1"></a>    , <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span>.<span class="dv">5</span>, <span class="dv">0</span>, .<span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb195-22"><a href="runmodels.html#cb195-22" aria-hidden="true" tabindex="-1"></a>    , <span class="at">low =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb195-23"><a href="runmodels.html#cb195-23" aria-hidden="true" tabindex="-1"></a>    , <span class="at">mid =</span> <span class="st">&quot;white&quot;</span>, <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb195-24"><a href="runmodels.html#cb195-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb195-25"><a href="runmodels.html#cb195-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span></span>
<span id="cb195-26"><a href="runmodels.html#cb195-26" aria-hidden="true" tabindex="-1"></a>    , <span class="at">y =</span> <span class="cn">NULL</span></span>
<span id="cb195-27"><a href="runmodels.html#cb195-27" aria-hidden="true" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="st">&quot;Zero-Order Correlation&quot;</span></span>
<span id="cb195-28"><a href="runmodels.html#cb195-28" aria-hidden="true" tabindex="-1"></a>    , <span class="at">title =</span> <span class="st">&quot;Zero-Order Correlations Among Variables&quot;</span></span>
<span id="cb195-29"><a href="runmodels.html#cb195-29" aria-hidden="true" tabindex="-1"></a>    , <span class="at">subtitle =</span> study</span>
<span id="cb195-30"><a href="runmodels.html#cb195-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb195-31"><a href="runmodels.html#cb195-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span> </span>
<span id="cb195-32"><a href="runmodels.html#cb195-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb195-33"><a href="runmodels.html#cb195-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb195-34"><a href="runmodels.html#cb195-34" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb195-35"><a href="runmodels.html#cb195-35" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb195-36"><a href="runmodels.html#cb195-36" aria-hidden="true" tabindex="-1"></a>    , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb195-37"><a href="runmodels.html#cb195-37" aria-hidden="true" tabindex="-1"></a>    , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> .<span class="dv">5</span>)</span>
<span id="cb195-38"><a href="runmodels.html#cb195-38" aria-hidden="true" tabindex="-1"></a>    , <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb195-39"><a href="runmodels.html#cb195-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb195-40"><a href="runmodels.html#cb195-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/zero-order-cor/%s.png&quot;</span>, local_path, study), <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">15</span>)</span>
<span id="cb195-41"><a href="runmodels.html#cb195-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(p, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/figures/zero-order-cor/%s.pdf&quot;</span>, local_path, study), <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">15</span>)</span>
<span id="cb195-42"><a href="runmodels.html#cb195-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb195-43"><a href="runmodels.html#cb195-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb195-44"><a href="runmodels.html#cb195-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-45"><a href="runmodels.html#cb195-45" aria-hidden="true" tabindex="-1"></a>nested_r <span class="ot">&lt;-</span> nested_r <span class="sc">%&gt;%</span> </span>
<span id="cb195-46"><a href="runmodels.html#cb195-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r_long =</span> <span class="fu">map</span>(r, r_reshape_fun)</span>
<span id="cb195-47"><a href="runmodels.html#cb195-47" aria-hidden="true" tabindex="-1"></a>         , <span class="at">p =</span> <span class="fu">map2</span>(r_long, study, r_plot_fun))</span>
<span id="cb195-48"><a href="runmodels.html#cb195-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-49"><a href="runmodels.html#cb195-49" aria-hidden="true" tabindex="-1"></a>nested_r<span class="sc">$</span>p[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/heat%20map-1.png" width="864" /></p>
<p>Now let’s:</p>
<ol style="list-style-type: decimal">
<li>POMP personality / well-being and self-rated health</li>
<li>Create a chronic conditions composite (sum of stroke, cancer, diabetes, heart problem)</li>
<li>Turn binary indicators into factors</li>
<li>Center age at 60 years and education at 12 years.</li>
</ol>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="runmodels.html#cb196-1" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> nested_data <span class="sc">%&gt;%</span></span>
<span id="cb196-2"><a href="runmodels.html#cb196-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Trait, Outcome, study, p_year) <span class="sc">%&gt;%</span></span>
<span id="cb196-3"><a href="runmodels.html#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span>((. <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">/</span>(<span class="fu">max</span>(., <span class="at">na.rm =</span> T) <span class="sc">-</span> <span class="fu">min</span>(., <span class="at">na.rm =</span> T))<span class="sc">*</span><span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb196-4"><a href="runmodels.html#cb196-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(p_value, SRhealth),  <span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.infinite</span>(.), <span class="cn">NA</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb196-5"><a href="runmodels.html#cb196-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CC =</span> <span class="fu">rowSums</span>(<span class="fu">cbind</span>(stroke, cancer, diabetes, heartProb), <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb196-6"><a href="runmodels.html#cb196-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(alcohol, smokes, stroke, cancer, diabetes, heartProb, gender, dementia), factor) <span class="sc">%&gt;%</span></span>
<span id="cb196-7"><a href="runmodels.html#cb196-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> age <span class="sc">-</span> <span class="dv">60</span></span>
<span id="cb196-8"><a href="runmodels.html#cb196-8" aria-hidden="true" tabindex="-1"></a>         , <span class="at">education =</span> education <span class="sc">-</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb196-9"><a href="runmodels.html#cb196-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb196-10"><a href="runmodels.html#cb196-10" aria-hidden="true" tabindex="-1"></a>nested_data</span></code></pre></div>
<pre><code>## # A tibble: 420,195 × 23
##    study SID   Trait p_year p_value Outcome o_year o_value   age gender educa…¹ cogni…² alcohol smokes   BMI  race stroke cancer diabe…³ heart…⁴
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;   &lt;fct&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt;   &lt;fct&gt;  
##  1 ROS   0002… A          0    4.29 angiop…      2       3  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  2 ROS   0002… A          0    4.29 arteri…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  3 ROS   0002… A          0    4.29 athero…      2       2  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  4 ROS   0002… A          0    4.29 braak        2       6  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  5 ROS   0002… A          0    4.29 cerad        2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  6 ROS   0002… A          0    4.29 hipScl…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  7 ROS   0002… A          0    4.29 lewyBo…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  8 ROS   0002… A          0    4.29 vsclrI…      2       0  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
##  9 ROS   0002… A          0    4.29 vsclrM…      2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
## 10 ROS   0002… A          0    4.29 tdp43        2       1  20.0 0           10    4.19 0       0       19.9     0 0      0      0       1      
## # … with 420,185 more rows, 3 more variables: dementia &lt;fct&gt;, SRhealth &lt;dbl&gt;, CC &lt;dbl&gt;, and abbreviated variable names ¹​education, ²​cognition,
## #   ³​diabetes, ⁴​heartProb</code></pre>
</div>
</div>
<div id="rescale-outcomes" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Rescale Outcomes<a href="runmodels.html#rescale-outcomes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we’ve got personality and covariates scaled, we will group by personality characteristic and outcome to rescale outcomes, as needed.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="runmodels.html#cb198-1" aria-hidden="true" tabindex="-1"></a>save_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome){</span>
<span id="cb198-2"><a href="runmodels.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(outcome <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>)){</span>
<span id="cb198-3"><a href="runmodels.html#cb198-3" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">o_value =</span> <span class="fu">factor</span>(o_value))</span>
<span id="cb198-4"><a href="runmodels.html#cb198-4" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb198-5"><a href="runmodels.html#cb198-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(d, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/SCA/%s-%s.RData&quot;</span>, local_path, trait, outcome))</span>
<span id="cb198-6"><a href="runmodels.html#cb198-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(d)</span>
<span id="cb198-7"><a href="runmodels.html#cb198-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb198-8"><a href="runmodels.html#cb198-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-9"><a href="runmodels.html#cb198-9" aria-hidden="true" tabindex="-1"></a>nested_data <span class="ot">&lt;-</span> nested_data <span class="sc">%&gt;%</span></span>
<span id="cb198-10"><a href="runmodels.html#cb198-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Trait, Outcome) <span class="sc">%&gt;%</span></span>
<span id="cb198-11"><a href="runmodels.html#cb198-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb198-12"><a href="runmodels.html#cb198-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb198-13"><a href="runmodels.html#cb198-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Trait, Outcome), save_fun))</span>
<span id="cb198-14"><a href="runmodels.html#cb198-14" aria-hidden="true" tabindex="-1"></a>nested_data </span></code></pre></div>
<pre><code>## # A tibble: 96 × 3
##    Trait Outcome            data               
##    &lt;chr&gt; &lt;chr&gt;              &lt;list&gt;             
##  1 A     angiopathy         &lt;tibble [909 × 21]&gt;
##  2 A     arteriolosclerosis &lt;tibble [926 × 21]&gt;
##  3 A     atherosclerosis    &lt;tibble [943 × 21]&gt;
##  4 A     braak              &lt;tibble [969 × 21]&gt;
##  5 A     cerad              &lt;tibble [889 × 21]&gt;
##  6 A     hipSclerosis       &lt;tibble [844 × 21]&gt;
##  7 A     lewyBodyDis        &lt;tibble [935 × 21]&gt;
##  8 A     vsclrInfrcts       &lt;tibble [934 × 21]&gt;
##  9 A     vsclrMcrInfrcts    &lt;tibble [934 × 21]&gt;
## 10 A     tdp43              &lt;tibble [791 × 21]&gt;
## # … with 86 more rows</code></pre>
</div>
<div id="bring-in-moderators-and-covariate-adjustments" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Bring in Moderators and Covariate Adjustments<a href="runmodels.html#bring-in-moderators-and-covariate-adjustments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These full data sets will be used for sensitivity analyses and adjusted models, but we also want to set up our data for unadjusted models and moderator tests. For robusteness, we are using a few different sets of theoretically plausible covariates. The goal is to ensure that the pattern of results is not greatly impacted by the inclusion of different covariates. Not knowing the answer to this can be a threat to good science.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="runmodels.html#cb200-1" aria-hidden="true" tabindex="-1"></a>mod_setup_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome){</span>
<span id="cb200-2"><a href="runmodels.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">crossing</span>(<span class="at">Covariates =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;shareddx&quot;</span>, <span class="st">&quot;standarddx&quot;</span>)</span>
<span id="cb200-3"><a href="runmodels.html#cb200-3" aria-hidden="true" tabindex="-1"></a>           , <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">&quot;none&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;dementia&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb200-4"><a href="runmodels.html#cb200-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">list</span>(d)) <span class="sc">%&gt;%</span></span>
<span id="cb200-5"><a href="runmodels.html#cb200-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, trait, outcome, Moderator, Covariates), mod_save_fun))</span>
<span id="cb200-6"><a href="runmodels.html#cb200-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb200-7"><a href="runmodels.html#cb200-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb200-8"><a href="runmodels.html#cb200-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-9"><a href="runmodels.html#cb200-9" aria-hidden="true" tabindex="-1"></a>mod_save_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(d, trait, outcome, mod, cov){</span>
<span id="cb200-10"><a href="runmodels.html#cb200-10" aria-hidden="true" tabindex="-1"></a>  covs <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;unadjusted&quot;</span>){</span>
<span id="cb200-11"><a href="runmodels.html#cb200-11" aria-hidden="true" tabindex="-1"></a>    mod</span>
<span id="cb200-12"><a href="runmodels.html#cb200-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;shared&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)){</span>
<span id="cb200-13"><a href="runmodels.html#cb200-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>)</span>
<span id="cb200-14"><a href="runmodels.html#cb200-14" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;standard&quot;</span>, <span class="st">&quot;standarddx&quot;</span>)){</span>
<span id="cb200-15"><a href="runmodels.html#cb200-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>)</span>
<span id="cb200-16"><a href="runmodels.html#cb200-16" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>){</span>
<span id="cb200-17"><a href="runmodels.html#cb200-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(mod, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;CC&quot;</span>)</span>
<span id="cb200-18"><a href="runmodels.html#cb200-18" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb200-19"><a href="runmodels.html#cb200-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(d)</span>
<span id="cb200-20"><a href="runmodels.html#cb200-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb200-21"><a href="runmodels.html#cb200-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">grepl</span>(<span class="st">&quot;dx&quot;</span>, cov)) covs <span class="ot">&lt;-</span> <span class="fu">c</span>(covs, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb200-22"><a href="runmodels.html#cb200-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-23"><a href="runmodels.html#cb200-23" aria-hidden="true" tabindex="-1"></a>  d2 <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(covs)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-24"><a href="runmodels.html#cb200-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb200-25"><a href="runmodels.html#cb200-25" aria-hidden="true" tabindex="-1"></a>  d2 <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">==</span> <span class="st">&quot;unadjusted&quot;</span>){</span>
<span id="cb200-26"><a href="runmodels.html#cb200-26" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-27"><a href="runmodels.html#cb200-27" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;shared&quot;</span>){</span>
<span id="cb200-28"><a href="runmodels.html#cb200-28" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education, smokes, alcohol) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-29"><a href="runmodels.html#cb200-29" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;standard&quot;</span>){</span>
<span id="cb200-30"><a href="runmodels.html#cb200-30" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-31"><a href="runmodels.html#cb200-31" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>) {</span>
<span id="cb200-32"><a href="runmodels.html#cb200-32" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">select</span>(study, SID, p_year, p_value, o_year, o_value, <span class="fu">one_of</span>(mod), age, gender, education, smokes, alcohol, cognition, CC) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-33"><a href="runmodels.html#cb200-33" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb200-34"><a href="runmodels.html#cb200-34" aria-hidden="true" tabindex="-1"></a>    d <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span>
<span id="cb200-35"><a href="runmodels.html#cb200-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb200-36"><a href="runmodels.html#cb200-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if(mod != &quot;none&quot;) colnames(d2)[colnames(d2) == mod] &lt;- &quot;modvalue&quot;</span></span>
<span id="cb200-37"><a href="runmodels.html#cb200-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(d2, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/%s/%s-%s-%s.RData&quot;</span></span>
<span id="cb200-38"><a href="runmodels.html#cb200-38" aria-hidden="true" tabindex="-1"></a>                          , local_path, cov, trait, outcome, mod))</span>
<span id="cb200-39"><a href="runmodels.html#cb200-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb200-40"><a href="runmodels.html#cb200-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb200-41"><a href="runmodels.html#cb200-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-42"><a href="runmodels.html#cb200-42" aria-hidden="true" tabindex="-1"></a>nested_data <span class="sc">%&gt;%</span></span>
<span id="cb200-43"><a href="runmodels.html#cb200-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(Outcome != &quot;dementia&quot;) %&gt;%</span></span>
<span id="cb200-44"><a href="runmodels.html#cb200-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">pmap</span>(<span class="fu">list</span>(data, Trait, Outcome), mod_setup_fun))</span></code></pre></div>
<p>Here’s one example:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="runmodels.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;/Volumes/Emorie/projects/dementia/prediction/data/mega-analysis/shared/A-angiopathy-gender.RData&quot;</span>)</span>
<span id="cb201-2"><a href="runmodels.html#cb201-2" aria-hidden="true" tabindex="-1"></a>d2</span></code></pre></div>
<pre><code>## # A tibble: 817 × 11
##    study SID      p_year p_value o_year o_value gender   age education smokes alcohol
##    &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;  
##  1 ROS   00021073      0    4.29      2       3 0       20.0        10 0      0      
##  2 ROS   10100312      0    6.07     13       2 1       15.3         8 0      1      
##  3 ROS   10100448      0    5        15       0 1       12.4        11 1      1      
##  4 ROS   10100574      0    5.71      9       1 1       13.7         9 0      1      
##  5 ROS   10100736      0    6.07      9       0 1       20.8         2 1      1      
##  6 ROS   10101039      0    5.71      8       1 1       23.4         7 1      1      
##  7 ROS   10101291      0    4.29      1       0 1       21.5         3 1      0      
##  8 ROS   10101327      0    3.57      2       1 1       26.9         9 1      0      
##  9 ROS   10101589      0    6.07      6       1 1       42.1         8 0      0      
## 10 ROS   10101741      0    5        12       1 1       23.3        -2 0      0      
## # … with 807 more rows</code></pre>
</div>
</div>
<div id="part-3-models" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Part 3: Models<a href="runmodels.html#part-3-models" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For these first models, we’ll be testing three sets of covariates. For a full test of how covariates impact our inferences, we’ll then follow up in a later step doing a specification curve / multiverse analysis.</p>
<p>For these first models, we will run a series of Bayesian regressions. For binary outcomes, these will be multilevel logistic regressions, while for the others, these will be “regular” multilevel linear regressions. For each of these, we will also test age, gender, and education, and cognitive functioning as moderators.</p>
<div id="functions" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Functions<a href="runmodels.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="model-function" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Model Function<a href="runmodels.html#model-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="runmodels.html#cb203-1" aria-hidden="true" tabindex="-1"></a>ipd_mega_mod_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(trait, outcome, mod, cov){</span>
<span id="cb203-2"><a href="runmodels.html#cb203-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## load the data</span></span>
<span id="cb203-3"><a href="runmodels.html#cb203-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/%s/%s-%s-%s.RData&quot;</span>, local_path, cov, trait, outcome, mod))</span>
<span id="cb203-4"><a href="runmodels.html#cb203-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-5"><a href="runmodels.html#cb203-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## compiled Bayesian model to speed up processing and avoid crashing</span></span>
<span id="cb203-6"><a href="runmodels.html#cb203-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(outcome <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;dementia&quot;</span>, <span class="st">&quot;hipSclerosis&quot;</span>, <span class="st">&quot;lewyBodyDis&quot;</span>, <span class="st">&quot;tdp43&quot;</span>, <span class="st">&quot;vsclrInfrcts&quot;</span>, <span class="st">&quot;vsclrMcrInfrcts&quot;</span>)) <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path)) <span class="cf">else</span> <span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span>
<span id="cb203-7"><a href="runmodels.html#cb203-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-8"><a href="runmodels.html#cb203-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## formula </span></span>
<span id="cb203-9"><a href="runmodels.html#cb203-9" aria-hidden="true" tabindex="-1"></a>  cv <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>, <span class="st">&quot;smokes&quot;</span>, <span class="st">&quot;alcohol&quot;</span>)</span>
<span id="cb203-10"><a href="runmodels.html#cb203-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (cov == &quot;shared&quot;) cv &lt;- cv</span></span>
<span id="cb203-11"><a href="runmodels.html#cb203-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;butOne&quot;</span>)  cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;cognition&quot;</span>)</span>
<span id="cb203-12"><a href="runmodels.html#cb203-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (cov <span class="sc">==</span> <span class="st">&quot;fully&quot;</span>)    cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;BMI&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;SRhealth&quot;</span>)</span>
<span id="cb203-13"><a href="runmodels.html#cb203-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">grepl</span>(<span class="st">&quot;standard&quot;</span>, cov)) cv <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;education&quot;</span>)</span>
<span id="cb203-14"><a href="runmodels.html#cb203-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">grepl</span>(<span class="st">&quot;dx&quot;</span>, cov)) cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cv, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb203-15"><a href="runmodels.html#cb203-15" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="st">&quot;p_value&quot;</span></span>
<span id="cb203-16"><a href="runmodels.html#cb203-16" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="cf">if</span>(cov <span class="sc">!=</span> <span class="st">&quot;unadjusted&quot;</span>) <span class="fu">c</span>(rhs, cv) <span class="cf">else</span> rhs</span>
<span id="cb203-17"><a href="runmodels.html#cb203-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;none&quot;</span>) rhs <span class="ot">&lt;-</span> <span class="fu">c</span>(rhs, <span class="fu">paste</span>(<span class="st">&quot;p_value&quot;</span>, mod, <span class="at">sep =</span> <span class="st">&quot;*&quot;</span>))</span>
<span id="cb203-18"><a href="runmodels.html#cb203-18" aria-hidden="true" tabindex="-1"></a>  re <span class="ot">&lt;-</span> <span class="cf">if</span>(mod <span class="sc">==</span> <span class="st">&quot;none&quot;</span>) <span class="st">&quot;(p_value | study)&quot;</span> <span class="cf">else</span> <span class="fu">paste</span>(<span class="fu">paste</span>(<span class="st">&quot;(p_value&quot;</span>, mod, <span class="at">sep =</span> <span class="st">&quot; * &quot;</span>), <span class="st">&quot;| study)&quot;</span>)</span>
<span id="cb203-19"><a href="runmodels.html#cb203-19" aria-hidden="true" tabindex="-1"></a>  rhs <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">c</span>(rhs, re), <span class="at">collapse =</span> <span class="st">&quot; + &quot;</span>)</span>
<span id="cb203-20"><a href="runmodels.html#cb203-20" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;o_value ~ &quot;</span>, rhs, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb203-21"><a href="runmodels.html#cb203-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-22"><a href="runmodels.html#cb203-22" aria-hidden="true" tabindex="-1"></a>  <span class="do">## run the models &amp; save</span></span>
<span id="cb203-23"><a href="runmodels.html#cb203-23" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">update</span>(m</span>
<span id="cb203-24"><a href="runmodels.html#cb203-24" aria-hidden="true" tabindex="-1"></a>              , <span class="at">formula =</span> f</span>
<span id="cb203-25"><a href="runmodels.html#cb203-25" aria-hidden="true" tabindex="-1"></a>              , <span class="at">newdata =</span> d2</span>
<span id="cb203-26"><a href="runmodels.html#cb203-26" aria-hidden="true" tabindex="-1"></a>              , <span class="at">iter =</span> <span class="dv">2000</span></span>
<span id="cb203-27"><a href="runmodels.html#cb203-27" aria-hidden="true" tabindex="-1"></a>              , <span class="at">warmup =</span> <span class="dv">1000</span></span>
<span id="cb203-28"><a href="runmodels.html#cb203-28" aria-hidden="true" tabindex="-1"></a>              , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb203-29"><a href="runmodels.html#cb203-29" aria-hidden="true" tabindex="-1"></a>              , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb203-30"><a href="runmodels.html#cb203-30" aria-hidden="true" tabindex="-1"></a>              , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb203-31"><a href="runmodels.html#cb203-31" aria-hidden="true" tabindex="-1"></a>              , <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb203-32"><a href="runmodels.html#cb203-32" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb203-33"><a href="runmodels.html#cb203-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/models/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb203-34"><a href="runmodels.html#cb203-34" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb203-35"><a href="runmodels.html#cb203-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-36"><a href="runmodels.html#cb203-36" aria-hidden="true" tabindex="-1"></a>  <span class="do">## extract model terms and confidence intervals &amp; save</span></span>
<span id="cb203-37"><a href="runmodels.html#cb203-37" aria-hidden="true" tabindex="-1"></a>  fx <span class="ot">&lt;-</span> <span class="fu">tidy</span>(m, <span class="at">conf.int =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb203-38"><a href="runmodels.html#cb203-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(term, estimate, conf.low, conf.high)</span>
<span id="cb203-39"><a href="runmodels.html#cb203-39" aria-hidden="true" tabindex="-1"></a>  rx <span class="ot">&lt;-</span> <span class="fu">std_eff_fun</span>(m)</span>
<span id="cb203-40"><a href="runmodels.html#cb203-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(fx, rx, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/summary/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb203-41"><a href="runmodels.html#cb203-41" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb203-42"><a href="runmodels.html#cb203-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-43"><a href="runmodels.html#cb203-43" aria-hidden="true" tabindex="-1"></a>  <span class="do">## extract heterogeneity estimates</span></span>
<span id="cb203-44"><a href="runmodels.html#cb203-44" aria-hidden="true" tabindex="-1"></a>  het <span class="ot">&lt;-</span> <span class="fu">hetero_fun</span>(m)</span>
<span id="cb203-45"><a href="runmodels.html#cb203-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(het, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/heterogeneity/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb203-46"><a href="runmodels.html#cb203-46" aria-hidden="true" tabindex="-1"></a>                         , local_path, cov, outcome, trait, mod))</span>
<span id="cb203-47"><a href="runmodels.html#cb203-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-48"><a href="runmodels.html#cb203-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(mod <span class="sc">!=</span> <span class="st">&quot;none&quot;</span>){</span>
<span id="cb203-49"><a href="runmodels.html#cb203-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># load(sprintf(&quot;%s/results/models/%s/%s_%s_%s.RData&quot;, local_path, cov, outcome, trait, mod))</span></span>
<span id="cb203-50"><a href="runmodels.html#cb203-50" aria-hidden="true" tabindex="-1"></a>    pred.fx <span class="ot">&lt;-</span> <span class="fu">fx_pred_fun</span>(m, mod)</span>
<span id="cb203-51"><a href="runmodels.html#cb203-51" aria-hidden="true" tabindex="-1"></a>    pred.rx <span class="ot">&lt;-</span> <span class="fu">rx_pred_fun</span>(m, mod)</span>
<span id="cb203-52"><a href="runmodels.html#cb203-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">save</span>(pred.fx, pred.rx, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/predicted/%s/%s_%s_%s.RData&quot;</span></span>
<span id="cb203-53"><a href="runmodels.html#cb203-53" aria-hidden="true" tabindex="-1"></a>                          , local_path, cov, outcome, trait, mod))</span>
<span id="cb203-54"><a href="runmodels.html#cb203-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rm(list = c(&quot;pred.fx&quot;, &quot;pred.rx&quot;, &quot;m&quot;))</span></span>
<span id="cb203-55"><a href="runmodels.html#cb203-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># gc()</span></span>
<span id="cb203-56"><a href="runmodels.html#cb203-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># return(T)</span></span>
<span id="cb203-57"><a href="runmodels.html#cb203-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb203-58"><a href="runmodels.html#cb203-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb203-59"><a href="runmodels.html#cb203-59" aria-hidden="true" tabindex="-1"></a>  <span class="do">## clean up the local function environment</span></span>
<span id="cb203-60"><a href="runmodels.html#cb203-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;rhs&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;fx&quot;</span>, <span class="st">&quot;rx&quot;</span>, <span class="st">&quot;het&quot;</span>))</span>
<span id="cb203-61"><a href="runmodels.html#cb203-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb203-62"><a href="runmodels.html#cb203-62" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="study-specific-effects-function" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> Study-Specific Effects Function<a href="runmodels.html#study-specific-effects-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As noted previously, once we run the model, we will have to use a second step to get the study-specific estimates for all studies. Unlike with dummy codes, doing so is much more straightforward. We just have to pull study-specific effects using the <code>coef()</code> for both Bayesian and Frequentist approaches.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="runmodels.html#cb204-1" aria-hidden="true" tabindex="-1"></a>std_eff_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m){</span>
<span id="cb204-2"><a href="runmodels.html#cb204-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coef</span>(m, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>))[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">array_tree</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb204-3"><a href="runmodels.html#cb204-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tibble</span>(<span class="at">names =</span> <span class="fu">names</span>(.), <span class="at">data =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb204-4"><a href="runmodels.html#cb204-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> data.frame <span class="sc">%&gt;%</span> </span>
<span id="cb204-5"><a href="runmodels.html#cb204-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames_to_column</span>(<span class="st">&quot;study&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb204-6"><a href="runmodels.html#cb204-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unnest</span>(data) <span class="sc">%&gt;%</span> </span>
<span id="cb204-7"><a href="runmodels.html#cb204-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(names, study, <span class="at">estimate =</span> Estimate, <span class="at">conf.low =</span> Q2<span class="fl">.5</span>, <span class="at">conf.high =</span> Q97<span class="fl">.5</span>)</span>
<span id="cb204-8"><a href="runmodels.html#cb204-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="heterogeneity-estimates-function" class="section level4 hasAnchor" number="3.3.1.3">
<h4><span class="header-section-number">3.3.1.3</span> Heterogeneity Estimates Function<a href="runmodels.html#heterogeneity-estimates-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The Final pieces of information we need to extract from these models are estimates of the heterogeneity of effects across studies.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="runmodels.html#cb205-1" aria-hidden="true" tabindex="-1"></a>hetero_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m){</span>
<span id="cb205-2"><a href="runmodels.html#cb205-2" aria-hidden="true" tabindex="-1"></a>  args <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> m, <span class="at">effects =</span> <span class="st">&quot;ran_pars&quot;</span>, <span class="at">conf.int =</span> T)</span>
<span id="cb205-3"><a href="runmodels.html#cb205-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do.call</span>(tidy, args) <span class="sc">%&gt;%</span></span>
<span id="cb205-4"><a href="runmodels.html#cb205-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(group, term, estimate, conf.low, conf.high) <span class="sc">%&gt;%</span></span>
<span id="cb205-5"><a href="runmodels.html#cb205-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate</span>(term, <span class="fu">c</span>(<span class="st">&quot;est&quot;</span>, <span class="st">&quot;term&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;__&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb205-6"><a href="runmodels.html#cb205-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(estimate<span class="sc">:</span>conf.high), <span class="sc">~</span><span class="fu">ifelse</span>(est <span class="sc">==</span> <span class="st">&quot;sd&quot;</span>, .<span class="sc">^</span><span class="dv">2</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb205-7"><a href="runmodels.html#cb205-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">est =</span> <span class="fu">ifelse</span>(est <span class="sc">==</span> <span class="st">&quot;sd&quot;</span>, <span class="st">&quot;var&quot;</span>, est))</span>
<span id="cb205-8"><a href="runmodels.html#cb205-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="simple-effects-function" class="section level4 hasAnchor" number="3.3.1.4">
<h4><span class="header-section-number">3.3.1.4</span> Simple Effects Function<a href="runmodels.html#simple-effects-function" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="fixed-effects" class="section level5 hasAnchor" number="3.3.1.4.1">
<h5><span class="header-section-number">3.3.1.4.1</span> Fixed Effects<a href="runmodels.html#fixed-effects" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="runmodels.html#cb206-1" aria-hidden="true" tabindex="-1"></a>fx_pred_fun <span class="ot">&lt;-</span><span class="cf">function</span>(m, moder){</span>
<span id="cb206-2"><a href="runmodels.html#cb206-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> m<span class="sc">$</span>data </span>
<span id="cb206-3"><a href="runmodels.html#cb206-3" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>o_value, <span class="sc">-</span>p_value, <span class="sc">-</span>study)</span>
<span id="cb206-4"><a href="runmodels.html#cb206-4" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)</span>
<span id="cb206-5"><a href="runmodels.html#cb206-5" aria-hidden="true" tabindex="-1"></a>  md_cl <span class="ot">&lt;-</span> <span class="fu">class</span>(d[,moder])</span>
<span id="cb206-6"><a href="runmodels.html#cb206-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb206-7"><a href="runmodels.html#cb206-7" aria-hidden="true" tabindex="-1"></a>    msd <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb206-8"><a href="runmodels.html#cb206-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb206-9"><a href="runmodels.html#cb206-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()</span>
<span id="cb206-10"><a href="runmodels.html#cb206-10" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span></span>
<span id="cb206-11"><a href="runmodels.html#cb206-11" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb206-12"><a href="runmodels.html#cb206-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(item) <span class="sc">%&gt;%</span></span>
<span id="cb206-13"><a href="runmodels.html#cb206-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(value), <span class="fu">lst</span>(mean, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb206-14"><a href="runmodels.html#cb206-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb206-15"><a href="runmodels.html#cb206-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb206-16"><a href="runmodels.html#cb206-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb206-17"><a href="runmodels.html#cb206-17" aria-hidden="true" tabindex="-1"></a>    fct_lev <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb206-18"><a href="runmodels.html#cb206-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.factor) <span class="sc">%&gt;%</span></span>
<span id="cb206-19"><a href="runmodels.html#cb206-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_all</span>(<span class="sc">~</span><span class="fu">list</span>(<span class="fu">levels</span>(.)))</span>
<span id="cb206-20"><a href="runmodels.html#cb206-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb206-21"><a href="runmodels.html#cb206-21" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(moder))</span>
<span id="cb206-22"><a href="runmodels.html#cb206-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-23"><a href="runmodels.html#cb206-23" aria-hidden="true" tabindex="-1"></a>  md_levs <span class="ot">&lt;-</span> <span class="cf">if</span>(md_cl <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>){</span>
<span id="cb206-24"><a href="runmodels.html#cb206-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(moder <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>)) {</span>
<span id="cb206-25"><a href="runmodels.html#cb206-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb206-26"><a href="runmodels.html#cb206-26" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>)) {</span>
<span id="cb206-27"><a href="runmodels.html#cb206-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>) </span>
<span id="cb206-28"><a href="runmodels.html#cb206-28" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb206-29"><a href="runmodels.html#cb206-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">with</span>(msd, <span class="fu">c</span>(mean[item <span class="sc">==</span> moder] <span class="sc">-</span> sd[item <span class="sc">==</span> moder], mean[item <span class="sc">==</span> moder], mean[item <span class="sc">==</span> moder] <span class="sc">+</span> sd[item <span class="sc">==</span> moder]))</span>
<span id="cb206-30"><a href="runmodels.html#cb206-30" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb206-31"><a href="runmodels.html#cb206-31" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb206-32"><a href="runmodels.html#cb206-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sort</span>(<span class="fu">unique</span>(fct_lev[,moder][[<span class="dv">1</span>]]))</span>
<span id="cb206-33"><a href="runmodels.html#cb206-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb206-34"><a href="runmodels.html#cb206-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-35"><a href="runmodels.html#cb206-35" aria-hidden="true" tabindex="-1"></a>  md_fac <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-10 yrs&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;+10 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-5 yrs&quot;</span>, <span class="st">&quot;12 years&quot;</span>, <span class="st">&quot;+5 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;gender&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;dementia&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="st">&quot;-1 SD&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;+1 SD&quot;</span>)</span>
<span id="cb206-36"><a href="runmodels.html#cb206-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-37"><a href="runmodels.html#cb206-37" aria-hidden="true" tabindex="-1"></a>  mod_frame <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb206-38"><a href="runmodels.html#cb206-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_value =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,.<span class="dv">1</span>)</span>
<span id="cb206-39"><a href="runmodels.html#cb206-39" aria-hidden="true" tabindex="-1"></a>    , <span class="at">modvalue =</span> md_levs</span>
<span id="cb206-40"><a href="runmodels.html#cb206-40" aria-hidden="true" tabindex="-1"></a>    , <span class="at">stringsAsFactors =</span> F</span>
<span id="cb206-41"><a href="runmodels.html#cb206-41" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb206-42"><a href="runmodels.html#cb206-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb206-43"><a href="runmodels.html#cb206-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;p_value&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>)) </span>
<span id="cb206-44"><a href="runmodels.html#cb206-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-45"><a href="runmodels.html#cb206-45" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">ncol</span>(d) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb206-46"><a href="runmodels.html#cb206-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb206-47"><a href="runmodels.html#cb206-47" aria-hidden="true" tabindex="-1"></a>      mod_frame <span class="ot">&lt;-</span> <span class="fu">tibble</span>(mod_frame, d <span class="sc">%&gt;%</span> <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span> <span class="fu">summarize_all</span>(mean))</span>
<span id="cb206-48"><a href="runmodels.html#cb206-48" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb206-49"><a href="runmodels.html#cb206-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb206-50"><a href="runmodels.html#cb206-50" aria-hidden="true" tabindex="-1"></a>      fcts <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)[<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>]</span>
<span id="cb206-51"><a href="runmodels.html#cb206-51" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(fcts)){</span>
<span id="cb206-52"><a href="runmodels.html#cb206-52" aria-hidden="true" tabindex="-1"></a>        fct <span class="ot">&lt;-</span> fcts[i]</span>
<span id="cb206-53"><a href="runmodels.html#cb206-53" aria-hidden="true" tabindex="-1"></a>        mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb206-54"><a href="runmodels.html#cb206-54" aria-hidden="true" tabindex="-1"></a>          mod_frame</span>
<span id="cb206-55"><a href="runmodels.html#cb206-55" aria-hidden="true" tabindex="-1"></a>          , <span class="fu">levels</span>(d[,fct])</span>
<span id="cb206-56"><a href="runmodels.html#cb206-56" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="fu">colnames</span>(mod_frame), fct))</span>
<span id="cb206-57"><a href="runmodels.html#cb206-57" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb206-58"><a href="runmodels.html#cb206-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb206-59"><a href="runmodels.html#cb206-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb206-60"><a href="runmodels.html#cb206-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-61"><a href="runmodels.html#cb206-61" aria-hidden="true" tabindex="-1"></a>  pred.fx <span class="ot">&lt;-</span> </span>
<span id="cb206-62"><a href="runmodels.html#cb206-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(</span>
<span id="cb206-63"><a href="runmodels.html#cb206-63" aria-hidden="true" tabindex="-1"></a>      mod_frame, </span>
<span id="cb206-64"><a href="runmodels.html#cb206-64" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fitted</span>(m</span>
<span id="cb206-65"><a href="runmodels.html#cb206-65" aria-hidden="true" tabindex="-1"></a>             , <span class="at">newdata =</span> mod_frame</span>
<span id="cb206-66"><a href="runmodels.html#cb206-66" aria-hidden="true" tabindex="-1"></a>             , <span class="at">re_formula =</span> <span class="cn">NA</span>) <span class="sc">%&gt;%</span> data.frame</span>
<span id="cb206-67"><a href="runmodels.html#cb206-67" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb206-68"><a href="runmodels.html#cb206-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">colnames</span>(m<span class="sc">$</span>data)), mod_fac, <span class="at">pred =</span> Estimate, <span class="at">lower =</span> Q2<span class="fl">.5</span>, <span class="at">upper =</span> Q97<span class="fl">.5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb206-69"><a href="runmodels.html#cb206-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(p_value, mod_fac) <span class="sc">%&gt;%</span> </span>
<span id="cb206-70"><a href="runmodels.html#cb206-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize_at</span>(<span class="fu">vars</span>(pred, lower, upper), mean) <span class="sc">%&gt;%</span></span>
<span id="cb206-71"><a href="runmodels.html#cb206-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb206-72"><a href="runmodels.html#cb206-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb206-73"><a href="runmodels.html#cb206-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;mod_frame&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;md_levs&quot;</span>))</span>
<span id="cb206-74"><a href="runmodels.html#cb206-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb206-75"><a href="runmodels.html#cb206-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(pred.fx)</span>
<span id="cb206-76"><a href="runmodels.html#cb206-76" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="study-specific-effects" class="section level5 hasAnchor" number="3.3.1.4.2">
<h5><span class="header-section-number">3.3.1.4.2</span> Study-Specific Effects<a href="runmodels.html#study-specific-effects" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="runmodels.html#cb207-1" aria-hidden="true" tabindex="-1"></a>rx_pred_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(m, moder){</span>
<span id="cb207-2"><a href="runmodels.html#cb207-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> m<span class="sc">$</span>data</span>
<span id="cb207-3"><a href="runmodels.html#cb207-3" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>o_value, <span class="sc">-</span>p_value)</span>
<span id="cb207-4"><a href="runmodels.html#cb207-4" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)</span>
<span id="cb207-5"><a href="runmodels.html#cb207-5" aria-hidden="true" tabindex="-1"></a>  md_cl <span class="ot">&lt;-</span> <span class="fu">class</span>(d[,moder])</span>
<span id="cb207-6"><a href="runmodels.html#cb207-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb207-7"><a href="runmodels.html#cb207-7" aria-hidden="true" tabindex="-1"></a>    msd <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb207-8"><a href="runmodels.html#cb207-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb207-9"><a href="runmodels.html#cb207-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb207-10"><a href="runmodels.html#cb207-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_longer</span>(<span class="sc">-</span>study</span>
<span id="cb207-11"><a href="runmodels.html#cb207-11" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">names_to =</span> <span class="st">&quot;item&quot;</span></span>
<span id="cb207-12"><a href="runmodels.html#cb207-12" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb207-13"><a href="runmodels.html#cb207-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study, item) <span class="sc">%&gt;%</span></span>
<span id="cb207-14"><a href="runmodels.html#cb207-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_at</span>(<span class="fu">vars</span>(value), <span class="fu">lst</span>(mean, sd), <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb207-15"><a href="runmodels.html#cb207-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() </span>
<span id="cb207-16"><a href="runmodels.html#cb207-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb207-17"><a href="runmodels.html#cb207-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb207-18"><a href="runmodels.html#cb207-18" aria-hidden="true" tabindex="-1"></a>    fct_lev <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb207-19"><a href="runmodels.html#cb207-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb207-20"><a href="runmodels.html#cb207-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(is.factor) <span class="sc">%&gt;%</span></span>
<span id="cb207-21"><a href="runmodels.html#cb207-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize_all</span>(<span class="sc">~</span><span class="fu">list</span>((<span class="fu">levels</span>(.)))) <span class="sc">%&gt;%</span></span>
<span id="cb207-22"><a href="runmodels.html#cb207-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb207-23"><a href="runmodels.html#cb207-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb207-24"><a href="runmodels.html#cb207-24" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">one_of</span>(moder))</span>
<span id="cb207-25"><a href="runmodels.html#cb207-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb207-26"><a href="runmodels.html#cb207-26" aria-hidden="true" tabindex="-1"></a>  md_fac <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-10 yrs&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;+10 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;-5 yrs&quot;</span>, <span class="st">&quot;12 years&quot;</span>, <span class="st">&quot;+5 yrs&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;gender&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>) <span class="cf">else</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;dementia&quot;</span>) <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="st">&quot;-1 SD&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;+1 SD&quot;</span>)</span>
<span id="cb207-27"><a href="runmodels.html#cb207-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb207-28"><a href="runmodels.html#cb207-28" aria-hidden="true" tabindex="-1"></a>  md_levs <span class="ot">&lt;-</span> <span class="cf">if</span>(moder <span class="sc">!=</span> <span class="st">&quot;cognition&quot;</span>){</span>
<span id="cb207-29"><a href="runmodels.html#cb207-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">crossing</span>(</span>
<span id="cb207-30"><a href="runmodels.html#cb207-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">study =</span> <span class="fu">unique</span>(d<span class="sc">$</span>study)</span>
<span id="cb207-31"><a href="runmodels.html#cb207-31" aria-hidden="true" tabindex="-1"></a>      , <span class="at">modvalue =</span> <span class="cf">if</span>(moder <span class="sc">==</span> <span class="st">&quot;age&quot;</span>) <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="cf">else</span> <span class="cf">if</span> (moder <span class="sc">==</span> <span class="st">&quot;education&quot;</span>) <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">5</span>) <span class="cf">else</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb207-32"><a href="runmodels.html#cb207-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb207-33"><a href="runmodels.html#cb207-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb207-34"><a href="runmodels.html#cb207-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>))</span>
<span id="cb207-35"><a href="runmodels.html#cb207-35" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb207-36"><a href="runmodels.html#cb207-36" aria-hidden="true" tabindex="-1"></a>    msd <span class="sc">%&gt;%</span> </span>
<span id="cb207-37"><a href="runmodels.html#cb207-37" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(item <span class="sc">==</span> moder) <span class="sc">%&gt;%</span></span>
<span id="cb207-38"><a href="runmodels.html#cb207-38" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">lower =</span> mean <span class="sc">-</span> sd, <span class="at">upper =</span> mean <span class="sc">+</span> sd) <span class="sc">%&gt;%</span></span>
<span id="cb207-39"><a href="runmodels.html#cb207-39" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(<span class="sc">-</span>sd) <span class="sc">%&gt;%</span> </span>
<span id="cb207-40"><a href="runmodels.html#cb207-40" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(mean, lower, upper)</span>
<span id="cb207-41"><a href="runmodels.html#cb207-41" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">names_to =</span> <span class="st">&quot;meas&quot;</span></span>
<span id="cb207-42"><a href="runmodels.html#cb207-42" aria-hidden="true" tabindex="-1"></a>                         , <span class="at">values_to =</span> <span class="st">&quot;modvalue&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb207-43"><a href="runmodels.html#cb207-43" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;item&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;modvalue&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb207-44"><a href="runmodels.html#cb207-44" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(study, <span class="fu">one_of</span>(moder)) <span class="sc">%&gt;%</span></span>
<span id="cb207-45"><a href="runmodels.html#cb207-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, <span class="st">&quot;modvalue&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb207-46"><a href="runmodels.html#cb207-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb207-47"><a href="runmodels.html#cb207-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">mod_fac =</span> <span class="fu">factor</span>(modvalue, <span class="at">levels =</span> <span class="fu">unique</span>(modvalue), <span class="at">labels =</span> md_fac)) <span class="sc">%&gt;%</span></span>
<span id="cb207-48"><a href="runmodels.html#cb207-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb207-49"><a href="runmodels.html#cb207-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;study&quot;</span>, moder, <span class="st">&quot;mod_fac&quot;</span>))</span>
<span id="cb207-50"><a href="runmodels.html#cb207-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb207-51"><a href="runmodels.html#cb207-51" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb207-52"><a href="runmodels.html#cb207-52" aria-hidden="true" tabindex="-1"></a>  mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb207-53"><a href="runmodels.html#cb207-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">p_value =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,.<span class="dv">1</span>)</span>
<span id="cb207-54"><a href="runmodels.html#cb207-54" aria-hidden="true" tabindex="-1"></a>      , md_levs</span>
<span id="cb207-55"><a href="runmodels.html#cb207-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb207-56"><a href="runmodels.html#cb207-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb207-57"><a href="runmodels.html#cb207-57" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">ncol</span>(d) <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb207-58"><a href="runmodels.html#cb207-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;numeric&quot;</span>)){</span>
<span id="cb207-59"><a href="runmodels.html#cb207-59" aria-hidden="true" tabindex="-1"></a>      mod_frame <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb207-60"><a href="runmodels.html#cb207-60" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span> </span>
<span id="cb207-61"><a href="runmodels.html#cb207-61" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span> </span>
<span id="cb207-62"><a href="runmodels.html#cb207-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarize_all</span>(mean, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb207-63"><a href="runmodels.html#cb207-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb207-64"><a href="runmodels.html#cb207-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">full_join</span>(mod_frame)</span>
<span id="cb207-65"><a href="runmodels.html#cb207-65" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb207-66"><a href="runmodels.html#cb207-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>)){</span>
<span id="cb207-67"><a href="runmodels.html#cb207-67" aria-hidden="true" tabindex="-1"></a>      fcts <span class="ot">&lt;-</span> <span class="fu">colnames</span>(d)[<span class="fu">sapply</span>(d, class) <span class="sc">==</span> <span class="st">&quot;factor&quot;</span>]</span>
<span id="cb207-68"><a href="runmodels.html#cb207-68" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(fcts)){</span>
<span id="cb207-69"><a href="runmodels.html#cb207-69" aria-hidden="true" tabindex="-1"></a>        fct <span class="ot">&lt;-</span> fcts[i]</span>
<span id="cb207-70"><a href="runmodels.html#cb207-70" aria-hidden="true" tabindex="-1"></a>        mod_frame <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb207-71"><a href="runmodels.html#cb207-71" aria-hidden="true" tabindex="-1"></a>          mod_frame</span>
<span id="cb207-72"><a href="runmodels.html#cb207-72" aria-hidden="true" tabindex="-1"></a>          , <span class="fu">levels</span>(d[,fct])</span>
<span id="cb207-73"><a href="runmodels.html#cb207-73" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="fu">colnames</span>(mod_frame), fct))</span>
<span id="cb207-74"><a href="runmodels.html#cb207-74" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb207-75"><a href="runmodels.html#cb207-75" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb207-76"><a href="runmodels.html#cb207-76" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb207-77"><a href="runmodels.html#cb207-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb207-78"><a href="runmodels.html#cb207-78" aria-hidden="true" tabindex="-1"></a>  pred.rx <span class="ot">&lt;-</span> </span>
<span id="cb207-79"><a href="runmodels.html#cb207-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(</span>
<span id="cb207-80"><a href="runmodels.html#cb207-80" aria-hidden="true" tabindex="-1"></a>      mod_frame, </span>
<span id="cb207-81"><a href="runmodels.html#cb207-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fitted</span>(m</span>
<span id="cb207-82"><a href="runmodels.html#cb207-82" aria-hidden="true" tabindex="-1"></a>             , <span class="at">newdata =</span> mod_frame) <span class="sc">%&gt;%</span> data.frame</span>
<span id="cb207-83"><a href="runmodels.html#cb207-83" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb207-84"><a href="runmodels.html#cb207-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">colnames</span>(m<span class="sc">$</span>data)), mod_fac, <span class="at">pred =</span> Estimate, <span class="at">lower =</span> Q2<span class="fl">.5</span>, <span class="at">upper =</span> Q97<span class="fl">.5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb207-85"><a href="runmodels.html#cb207-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(p_value, mod_fac, study) <span class="sc">%&gt;%</span> </span>
<span id="cb207-86"><a href="runmodels.html#cb207-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize_at</span>(<span class="fu">vars</span>(pred, lower, upper), mean) <span class="sc">%&gt;%</span></span>
<span id="cb207-87"><a href="runmodels.html#cb207-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb207-88"><a href="runmodels.html#cb207-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb207-89"><a href="runmodels.html#cb207-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;mod_frame&quot;</span>, <span class="st">&quot;d&quot;</span>))</span>
<span id="cb207-90"><a href="runmodels.html#cb207-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gc</span>()</span>
<span id="cb207-91"><a href="runmodels.html#cb207-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(pred.rx)</span>
<span id="cb207-92"><a href="runmodels.html#cb207-92" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
<div id="run-models-and-summaries" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Run Models and Summaries<a href="runmodels.html#run-models-and-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="sample-bayesian-models" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Sample Bayesian Models<a href="runmodels.html#sample-bayesian-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Before we actually run the models, we will estimate two models on smaller subsets of data. The advantage to this is that it prevents the rstan model from having to recompile the model, which speeds up runtime and prevents random crashes. It’s going to fit badly. That’s fine. It was given almost no data.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="runmodels.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample Bayesian Model </span></span>
<span id="cb208-2"><a href="runmodels.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="co"># load data </span></span>
<span id="cb208-3"><a href="runmodels.html#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/shared/N-dementia-none.RData&quot;</span>, local_path))</span>
<span id="cb208-4"><a href="runmodels.html#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="co"># load(&quot;data/mega-analysis/shared/N-dementia-none.RData&quot;)</span></span>
<span id="cb208-5"><a href="runmodels.html#cb208-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-6"><a href="runmodels.html#cb208-6" aria-hidden="true" tabindex="-1"></a><span class="co"># clean data &amp; keep only needed columns and a subset of the used variables</span></span>
<span id="cb208-7"><a href="runmodels.html#cb208-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span></span>
<span id="cb208-8"><a href="runmodels.html#cb208-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb208-9"><a href="runmodels.html#cb208-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb208-10"><a href="runmodels.html#cb208-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb208-11"><a href="runmodels.html#cb208-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.), <span class="dv">100</span>, <span class="at">replace =</span> F)))) <span class="sc">%&gt;%</span></span>
<span id="cb208-12"><a href="runmodels.html#cb208-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) </span>
<span id="cb208-13"><a href="runmodels.html#cb208-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-14"><a href="runmodels.html#cb208-14" aria-hidden="true" tabindex="-1"></a><span class="co"># set priors &amp; model specifications </span></span>
<span id="cb208-15"><a href="runmodels.html#cb208-15" aria-hidden="true" tabindex="-1"></a>Prior <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="fu">set_prior</span>(<span class="st">&quot;cauchy(0,1)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>),</span>
<span id="cb208-16"><a href="runmodels.html#cb208-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 2)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;b&quot;</span>),</span>
<span id="cb208-17"><a href="runmodels.html#cb208-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 5)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>))</span>
<span id="cb208-18"><a href="runmodels.html#cb208-18" aria-hidden="true" tabindex="-1"></a>Iter <span class="ot">&lt;-</span> <span class="dv">30</span>; Warmup <span class="ot">&lt;-</span> <span class="dv">21</span>; treedepth <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb208-19"><a href="runmodels.html#cb208-19" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">formula</span>(o_value <span class="sc">~</span> p_value <span class="sc">+</span> age <span class="sc">+</span> gender <span class="sc">+</span> p_value<span class="sc">*</span>education <span class="sc">+</span> (p_value<span class="sc">*</span>education <span class="sc">|</span> study))</span>
<span id="cb208-20"><a href="runmodels.html#cb208-20" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">brm</span>(<span class="at">formula =</span> f</span>
<span id="cb208-21"><a href="runmodels.html#cb208-21" aria-hidden="true" tabindex="-1"></a>            , <span class="at">data =</span> d</span>
<span id="cb208-22"><a href="runmodels.html#cb208-22" aria-hidden="true" tabindex="-1"></a>            , <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">&quot;logit&quot;</span>)</span>
<span id="cb208-23"><a href="runmodels.html#cb208-23" aria-hidden="true" tabindex="-1"></a>            , <span class="at">prior =</span> Prior</span>
<span id="cb208-24"><a href="runmodels.html#cb208-24" aria-hidden="true" tabindex="-1"></a>            , <span class="at">iter =</span> Iter</span>
<span id="cb208-25"><a href="runmodels.html#cb208-25" aria-hidden="true" tabindex="-1"></a>            , <span class="at">warmup =</span> Warmup</span>
<span id="cb208-26"><a href="runmodels.html#cb208-26" aria-hidden="true" tabindex="-1"></a>            , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb208-27"><a href="runmodels.html#cb208-27" aria-hidden="true" tabindex="-1"></a>            , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb208-28"><a href="runmodels.html#cb208-28" aria-hidden="true" tabindex="-1"></a>            , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb208-29"><a href="runmodels.html#cb208-29" aria-hidden="true" tabindex="-1"></a>            , <span class="at">chains =</span> <span class="dv">4</span>)</span>
<span id="cb208-30"><a href="runmodels.html#cb208-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-31"><a href="runmodels.html#cb208-31" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path))</span>
<span id="cb208-32"><a href="runmodels.html#cb208-32" aria-hidden="true" tabindex="-1"></a><span class="co"># save(m, file = &quot;results/bayes_sample_mod_binomial.RData&quot;)</span></span>
<span id="cb208-33"><a href="runmodels.html#cb208-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-34"><a href="runmodels.html#cb208-34" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/mega-analysis/shared/N-braak-none.RData&quot;</span>, local_path))</span>
<span id="cb208-35"><a href="runmodels.html#cb208-35" aria-hidden="true" tabindex="-1"></a><span class="co"># load(&quot;data/mega-analysis/shared/N-braak-none.RData&quot;)</span></span>
<span id="cb208-36"><a href="runmodels.html#cb208-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-37"><a href="runmodels.html#cb208-37" aria-hidden="true" tabindex="-1"></a><span class="co"># clean data &amp; keep only needed columns and a subset of the used variables</span></span>
<span id="cb208-38"><a href="runmodels.html#cb208-38" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d2 <span class="sc">%&gt;%</span></span>
<span id="cb208-39"><a href="runmodels.html#cb208-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(study) <span class="sc">%&gt;%</span></span>
<span id="cb208-40"><a href="runmodels.html#cb208-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb208-41"><a href="runmodels.html#cb208-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb208-42"><a href="runmodels.html#cb208-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">data =</span> <span class="fu">map</span>(data, <span class="sc">~</span>(.) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.), <span class="dv">100</span>, <span class="at">replace =</span> T)))) <span class="sc">%&gt;%</span></span>
<span id="cb208-43"><a href="runmodels.html#cb208-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(data) </span>
<span id="cb208-44"><a href="runmodels.html#cb208-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-45"><a href="runmodels.html#cb208-45" aria-hidden="true" tabindex="-1"></a><span class="co"># set priors &amp; model specifications </span></span>
<span id="cb208-46"><a href="runmodels.html#cb208-46" aria-hidden="true" tabindex="-1"></a>Prior <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="fu">set_prior</span>(<span class="st">&quot;cauchy(0,1)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>),</span>
<span id="cb208-47"><a href="runmodels.html#cb208-47" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 2)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;b&quot;</span>),</span>
<span id="cb208-48"><a href="runmodels.html#cb208-48" aria-hidden="true" tabindex="-1"></a>            <span class="fu">set_prior</span>(<span class="st">&quot;student_t(3, 0, 5)&quot;</span>, <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>))</span>
<span id="cb208-49"><a href="runmodels.html#cb208-49" aria-hidden="true" tabindex="-1"></a>Iter <span class="ot">&lt;-</span> <span class="dv">30</span>; Warmup <span class="ot">&lt;-</span> <span class="dv">21</span>; treedepth <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb208-50"><a href="runmodels.html#cb208-50" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">formula</span>(o_value <span class="sc">~</span> p_value <span class="sc">+</span> age <span class="sc">+</span> gender <span class="sc">+</span> p_value<span class="sc">*</span>education <span class="sc">+</span> (p_value<span class="sc">*</span>education <span class="sc">|</span> study))</span>
<span id="cb208-51"><a href="runmodels.html#cb208-51" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">brm</span>(<span class="at">formula =</span> f</span>
<span id="cb208-52"><a href="runmodels.html#cb208-52" aria-hidden="true" tabindex="-1"></a>            , <span class="at">data =</span> d</span>
<span id="cb208-53"><a href="runmodels.html#cb208-53" aria-hidden="true" tabindex="-1"></a>            , <span class="at">prior =</span> Prior</span>
<span id="cb208-54"><a href="runmodels.html#cb208-54" aria-hidden="true" tabindex="-1"></a>            , <span class="at">iter =</span> Iter</span>
<span id="cb208-55"><a href="runmodels.html#cb208-55" aria-hidden="true" tabindex="-1"></a>            , <span class="at">warmup =</span> Warmup</span>
<span id="cb208-56"><a href="runmodels.html#cb208-56" aria-hidden="true" tabindex="-1"></a>            , <span class="at">cores =</span> <span class="dv">12</span></span>
<span id="cb208-57"><a href="runmodels.html#cb208-57" aria-hidden="true" tabindex="-1"></a>            , <span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">3</span>)</span>
<span id="cb208-58"><a href="runmodels.html#cb208-58" aria-hidden="true" tabindex="-1"></a>            , <span class="at">backend =</span> <span class="st">&quot;cmdstanr&quot;</span></span>
<span id="cb208-59"><a href="runmodels.html#cb208-59" aria-hidden="true" tabindex="-1"></a>            , <span class="at">chains =</span> <span class="dv">4</span>)</span>
<span id="cb208-60"><a href="runmodels.html#cb208-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-61"><a href="runmodels.html#cb208-61" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(m, <span class="at">file =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span>
<span id="cb208-62"><a href="runmodels.html#cb208-62" aria-hidden="true" tabindex="-1"></a><span class="co"># save(m, file = &quot;results/bayes_sample_mod_continuous.RData&quot;)</span></span>
<span id="cb208-63"><a href="runmodels.html#cb208-63" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;Prior&quot;</span>, <span class="st">&quot;Iter&quot;</span>, <span class="st">&quot;Warmup&quot;</span>, <span class="st">&quot;treedepth&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;m&quot;</span>))</span></code></pre></div>
<div id="binary" class="section level5 hasAnchor" number="3.3.2.1.1">
<h5><span class="header-section-number">3.3.2.1.1</span> Binary<a href="runmodels.html#binary" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="runmodels.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_binomial.RData&quot;</span>, local_path))</span>
<span id="cb209-2"><a href="runmodels.html#cb209-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##  Family: bernoulli 
##   Links: mu = logit 
## Formula: o_value ~ p_value + age + gender + p_value * education + (p_value * education | study) 
##    Data: d (Number of observations: 800) 
##   Draws: 4 chains, each with iter = 30; warmup = 21; thin = 1;
##          total post-warmup draws = 36
## 
## Group-Level Effects: 
## ~study (Number of levels: 8) 
##                                  Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
## sd(Intercept)                        1.23      0.82     0.06     2.96 1.20       16       16
## sd(p_value)                          0.20      0.14     0.01     0.46 1.12       16       16
## sd(education)                        0.09      0.08     0.00     0.21 1.02       16       16
## sd(p_value:education)                0.01      0.01     0.00     0.05 1.22       16       16
## cor(Intercept,p_value)               0.03      0.39    -0.67     0.76 1.14       16       16
## cor(Intercept,education)            -0.22      0.39    -0.78     0.47 1.18       16       16
## cor(p_value,education)              -0.00      0.55    -0.85     0.77 1.02       16       16
## cor(Intercept,p_value:education)     0.02      0.44    -0.85     0.65 1.06       16       16
## cor(p_value,p_value:education)       0.03      0.47    -0.83     0.70 1.07       16       16
## cor(education,p_value:education)    -0.13      0.48    -0.77     0.79 1.12       16       16
## 
## Population-Level Effects: 
##                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS
## Intercept            -4.69      1.21    -7.47    -3.24 1.13       16       16
## p_value               0.23      0.14    -0.10     0.49 1.02       16       16
## age                   0.08      0.02     0.05     0.10 1.12       16       16
## gender1               0.02      0.29    -0.49     0.43 1.13       16       16
## education             0.06      0.11    -0.10     0.30 1.05       16       16
## p_value:education    -0.02      0.02    -0.06     0.01 1.02       16       16
## 
## Draws were sampled using sample(hmc). For each parameter, Bulk_ESS
## and Tail_ESS are effective sample size measures, and Rhat is the potential
## scale reduction factor on split chains (at convergence, Rhat = 1).</code></pre>
</div>
<div id="continuous" class="section level5 hasAnchor" number="3.3.2.1.2">
<h5><span class="header-section-number">3.3.2.1.2</span> Continuous<a href="runmodels.html#continuous" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="runmodels.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/bayes_sample_mod_continuous.RData&quot;</span>, local_path))</span></code></pre></div>
</div>
</div>
<div id="run-the-models" class="section level4 hasAnchor" number="3.3.2.2">
<h4><span class="header-section-number">3.3.2.2</span> Run the Models<a href="runmodels.html#run-the-models" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="runmodels.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># done &lt;- tibble(Covariate = c(&quot;fully&quot;, &quot;shared&quot;, &quot;butOne&quot;, &quot;unadjusted&quot;, &quot;standard&quot;, &quot;standarddx&quot;, &quot;shareddx&quot;),</span></span>
<span id="cb212-2"><a href="runmodels.html#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="co">#                file = map(Covariate, ~list.files(sprintf(&quot;%s/results/models/%s&quot;, local_path, .)))) %&gt;%</span></span>
<span id="cb212-3"><a href="runmodels.html#cb212-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   unnest(file) %&gt;%</span></span>
<span id="cb212-4"><a href="runmodels.html#cb212-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   separate(file, c(&quot;Outcome&quot;, &quot;Trait&quot;, &quot;Moderator&quot;), sep = &quot;_&quot;) %&gt;%</span></span>
<span id="cb212-5"><a href="runmodels.html#cb212-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(Moderator = str_remove_all(Moderator, &quot;.RData&quot;)</span></span>
<span id="cb212-6"><a href="runmodels.html#cb212-6" aria-hidden="true" tabindex="-1"></a><span class="co">#          , done = &quot;done&quot;) %&gt;%</span></span>
<span id="cb212-7"><a href="runmodels.html#cb212-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(!is.na(Moderator))</span></span>
<span id="cb212-8"><a href="runmodels.html#cb212-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-9"><a href="runmodels.html#cb212-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plan(multisession(workers = 4L))</span></span>
<span id="cb212-10"><a href="runmodels.html#cb212-10" aria-hidden="true" tabindex="-1"></a>nested_ipd_mega <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb212-11"><a href="runmodels.html#cb212-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Trait =</span> traits<span class="sc">$</span>short_name</span>
<span id="cb212-12"><a href="runmodels.html#cb212-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Outcome =</span> outcomes<span class="sc">$</span>short_name</span>
<span id="cb212-13"><a href="runmodels.html#cb212-13" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;cognition&quot;</span>, <span class="st">&quot;dementia&quot;</span>)</span>
<span id="cb212-14"><a href="runmodels.html#cb212-14" aria-hidden="true" tabindex="-1"></a>  , <span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;standarddx&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)</span>
<span id="cb212-15"><a href="runmodels.html#cb212-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb212-16"><a href="runmodels.html#cb212-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb212-17"><a href="runmodels.html#cb212-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">crossing</span>(</span>
<span id="cb212-18"><a href="runmodels.html#cb212-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">Trait =</span> traits<span class="sc">$</span>short_name</span>
<span id="cb212-19"><a href="runmodels.html#cb212-19" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Outcome =</span> outcomes<span class="sc">$</span>short_name</span>
<span id="cb212-20"><a href="runmodels.html#cb212-20" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Moderator =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb212-21"><a href="runmodels.html#cb212-21" aria-hidden="true" tabindex="-1"></a>      , <span class="at">Covariate =</span> <span class="fu">c</span>(<span class="st">&quot;fully&quot;</span>, <span class="st">&quot;shared&quot;</span>, <span class="st">&quot;butOne&quot;</span>, <span class="st">&quot;standard&quot;</span>, <span class="st">&quot;unadjusted&quot;</span>, <span class="st">&quot;standarddx&quot;</span>, <span class="st">&quot;shareddx&quot;</span>)</span>
<span id="cb212-22"><a href="runmodels.html#cb212-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb212-23"><a href="runmodels.html#cb212-23" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb212-24"><a href="runmodels.html#cb212-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(done) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(done)) <span class="sc">%&gt;%</span></span>
<span id="cb212-25"><a href="runmodels.html#cb212-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(run = future_pmap(</span></span>
<span id="cb212-26"><a href="runmodels.html#cb212-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">run =</span> <span class="fu">pmap</span>(</span>
<span id="cb212-27"><a href="runmodels.html#cb212-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(Trait, Outcome, Moderator, Covariate)</span>
<span id="cb212-28"><a href="runmodels.html#cb212-28" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">possibly</span>(ipd_mega_mod_fun, <span class="cn">NA_real_</span>)</span>
<span id="cb212-29"><a href="runmodels.html#cb212-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># , .options = furrr_options(</span></span>
<span id="cb212-30"><a href="runmodels.html#cb212-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    globals = c(&quot;traits&quot;, &quot;moders&quot;, &quot;covars&quot;, &quot;outcomes&quot;</span></span>
<span id="cb212-31"><a href="runmodels.html#cb212-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;hetero_fun&quot;</span></span>
<span id="cb212-32"><a href="runmodels.html#cb212-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;rx_pred_fun&quot;</span></span>
<span id="cb212-33"><a href="runmodels.html#cb212-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;std_eff_fun&quot;</span></span>
<span id="cb212-34"><a href="runmodels.html#cb212-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;fx_pred_fun&quot;</span></span>
<span id="cb212-35"><a href="runmodels.html#cb212-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                                , &quot;local_path&quot;)</span></span>
<span id="cb212-36"><a href="runmodels.html#cb212-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    , packages = c(&quot;broom&quot;, &quot;broom.mixed&quot;, &quot;tidyverse&quot;, &quot;brms&quot;)</span></span>
<span id="cb212-37"><a href="runmodels.html#cb212-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                    )</span></span>
<span id="cb212-38"><a href="runmodels.html#cb212-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#                  , .progress = T</span></span>
<span id="cb212-39"><a href="runmodels.html#cb212-39" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb212-40"><a href="runmodels.html#cb212-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-41"><a href="runmodels.html#cb212-41" aria-hidden="true" tabindex="-1"></a><span class="co"># nested_ipd_mega %&gt;% </span></span>
<span id="cb212-42"><a href="runmodels.html#cb212-42" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(Covariate = factor(Covariate)</span></span>
<span id="cb212-43"><a href="runmodels.html#cb212-43" aria-hidden="true" tabindex="-1"></a><span class="co">#          , Covariate = relevel(Covariate, &quot;shared&quot;)</span></span>
<span id="cb212-44"><a href="runmodels.html#cb212-44" aria-hidden="true" tabindex="-1"></a><span class="co">#          # , Moderator = factor(Moderator, levels = moders$short_name)</span></span>
<span id="cb212-45"><a href="runmodels.html#cb212-45" aria-hidden="true" tabindex="-1"></a><span class="co">#          , Moderator = relevel(factor(Moderator), &quot;dementia&quot;)</span></span>
<span id="cb212-46"><a href="runmodels.html#cb212-46" aria-hidden="true" tabindex="-1"></a><span class="co">#          ) %&gt;%</span></span>
<span id="cb212-47"><a href="runmodels.html#cb212-47" aria-hidden="true" tabindex="-1"></a><span class="co">#   arrange(Covariate, Outcome, Moderator, Trait) %&gt;% </span></span>
<span id="cb212-48"><a href="runmodels.html#cb212-48" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(Covariate != &quot;fully&quot;) %&gt;% </span></span>
<span id="cb212-49"><a href="runmodels.html#cb212-49" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(Trait, Outcome, Moderator, Covariate) %&gt;%</span></span>
<span id="cb212-50"><a href="runmodels.html#cb212-50" aria-hidden="true" tabindex="-1"></a><span class="co">#   write.table(.</span></span>
<span id="cb212-51"><a href="runmodels.html#cb212-51" aria-hidden="true" tabindex="-1"></a><span class="co">#               , file = sprintf(&quot;%s/scripts/cluster/args/args.txt&quot;, local_path)</span></span>
<span id="cb212-52"><a href="runmodels.html#cb212-52" aria-hidden="true" tabindex="-1"></a><span class="co">#               , row.names = F)</span></span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="compile.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-models.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
